"bundle";!function(){var a=System.amdDefine;!function(b,c){if("function"==typeof a&&a.amd)a("libraries/angular-bootstrap-slider/bootstrap-slider.min",["jquery"],c);else if("object"==typeof module&&module.exports){var d;try{d=require("jquery")}catch(e){d=null}module.exports=c(d)}else b.Slider=c(b.jQuery)}(this,function(a){var b;return function(a){"use strict";function b(){}function c(a){function c(b){b.prototype.option||(b.prototype.option=function(b){a.isPlainObject(b)&&(this.options=a.extend(!0,this.options,b))})}function e(b,c){a.fn[b]=function(e){if("string"==typeof e){for(var g=d.call(arguments,1),h=0,i=this.length;i>h;h++){var j=this[h],k=a.data(j,b);if(k)if(a.isFunction(k[e])&&"_"!==e.charAt(0)){var l=k[e].apply(k,g);if(void 0!==l&&l!==k)return l}else f("no such method '"+e+"' for "+b+" instance");else f("cannot call methods on "+b+" prior to initialization; attempted to call '"+e+"'")}return this}var m=this.map(function(){var d=a.data(this,b);return d?(d.option(e),d._init()):(d=new c(this,e),a.data(this,b,d)),a(this)});return!m||m.length>1?m:m[0]}}if(a){var f="undefined"==typeof console?b:function(a){console.error(a)};return a.bridget=function(a,b){c(b),e(a,b)},a.bridget}}var d=Array.prototype.slice;c(a)}(a),function(a){function c(b,c){function d(a,b){var c="data-slider-"+b.replace(/_/g,"-"),d=a.getAttribute(c);try{return JSON.parse(d)}catch(e){return d}}this._state={value:null,enabled:null,offset:null,size:null,percentage:null,inDrag:!1,over:!1},"string"==typeof b?this.element=document.querySelector(b):b instanceof HTMLElement&&(this.element=b),c=c?c:{};for(var f=Object.keys(this.defaultOptions),g=0;g<f.length;g++){var h=f[g],i=c[h];i="undefined"!=typeof i?i:d(this.element,h),i=null!==i?i:this.defaultOptions[h],this.options||(this.options={}),this.options[h]=i}"vertical"!==this.options.orientation||"top"!==this.options.tooltip_position&&"bottom"!==this.options.tooltip_position?"horizontal"!==this.options.orientation||"left"!==this.options.tooltip_position&&"right"!==this.options.tooltip_position||(this.options.tooltip_position="top"):this.options.tooltip_position="right";var j,k,l,m,n,o=this.element.style.width,p=!1,q=this.element.parentNode;if(this.sliderElem)p=!0;else{this.sliderElem=document.createElement("div"),this.sliderElem.className="slider";var r=document.createElement("div");if(r.className="slider-track",k=document.createElement("div"),k.className="slider-track-low",j=document.createElement("div"),j.className="slider-selection",l=document.createElement("div"),l.className="slider-track-high",m=document.createElement("div"),m.className="slider-handle min-slider-handle",n=document.createElement("div"),n.className="slider-handle max-slider-handle",r.appendChild(k),r.appendChild(j),r.appendChild(l),this.ticks=[],Array.isArray(this.options.ticks)&&this.options.ticks.length>0){for(g=0;g<this.options.ticks.length;g++){var s=document.createElement("div");s.className="slider-tick",this.ticks.push(s),r.appendChild(s)}j.className+=" tick-slider-selection"}if(r.appendChild(m),r.appendChild(n),this.tickLabels=[],Array.isArray(this.options.ticks_labels)&&this.options.ticks_labels.length>0)for(this.tickLabelContainer=document.createElement("div"),this.tickLabelContainer.className="slider-tick-label-container",g=0;g<this.options.ticks_labels.length;g++){var t=document.createElement("div");t.className="slider-tick-label",t.innerHTML=this.options.ticks_labels[g],this.tickLabels.push(t),this.tickLabelContainer.appendChild(t)}var u=function(a){var b=document.createElement("div");b.className="tooltip-arrow";var c=document.createElement("div");c.className="tooltip-inner",a.appendChild(b),a.appendChild(c)},v=document.createElement("div");v.className="tooltip tooltip-main",u(v);var w=document.createElement("div");w.className="tooltip tooltip-min",u(w);var x=document.createElement("div");x.className="tooltip tooltip-max",u(x),this.sliderElem.appendChild(r),this.sliderElem.appendChild(v),this.sliderElem.appendChild(w),this.sliderElem.appendChild(x),this.tickLabelContainer&&this.sliderElem.appendChild(this.tickLabelContainer),q.insertBefore(this.sliderElem,this.element),this.element.style.display="none"}if(a&&(this.$element=a(this.element),this.$sliderElem=a(this.sliderElem)),this.eventToCallbackMap={},this.sliderElem.id=this.options.id,this.touchCapable="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,this.tooltip=this.sliderElem.querySelector(".tooltip-main"),this.tooltipInner=this.tooltip.querySelector(".tooltip-inner"),this.tooltip_min=this.sliderElem.querySelector(".tooltip-min"),this.tooltipInner_min=this.tooltip_min.querySelector(".tooltip-inner"),this.tooltip_max=this.sliderElem.querySelector(".tooltip-max"),this.tooltipInner_max=this.tooltip_max.querySelector(".tooltip-inner"),e[this.options.scale]&&(this.options.scale=e[this.options.scale]),p===!0&&(this._removeClass(this.sliderElem,"slider-horizontal"),this._removeClass(this.sliderElem,"slider-vertical"),this._removeClass(this.tooltip,"hide"),this._removeClass(this.tooltip_min,"hide"),this._removeClass(this.tooltip_max,"hide"),["left","top","width","height"].forEach(function(a){this._removeProperty(this.trackLow,a),this._removeProperty(this.trackSelection,a),this._removeProperty(this.trackHigh,a)},this),[this.handle1,this.handle2].forEach(function(a){this._removeProperty(a,"left"),this._removeProperty(a,"top")},this),[this.tooltip,this.tooltip_min,this.tooltip_max].forEach(function(a){this._removeProperty(a,"left"),this._removeProperty(a,"top"),this._removeProperty(a,"margin-left"),this._removeProperty(a,"margin-top"),this._removeClass(a,"right"),this._removeClass(a,"top")},this)),"vertical"===this.options.orientation?(this._addClass(this.sliderElem,"slider-vertical"),this.stylePos="top",this.mousePos="pageY",this.sizePos="offsetHeight"):(this._addClass(this.sliderElem,"slider-horizontal"),this.sliderElem.style.width=o,this.options.orientation="horizontal",this.stylePos="left",this.mousePos="pageX",this.sizePos="offsetWidth"),this._setTooltipPosition(),Array.isArray(this.options.ticks)&&this.options.ticks.length>0&&(this.options.max=Math.max.apply(Math,this.options.ticks),this.options.min=Math.min.apply(Math,this.options.ticks)),Array.isArray(this.options.value)?(this.options.range=!0,this._state.value=this.options.value):this._state.value=this.options.range?[this.options.value,this.options.max]:this.options.value,this.trackLow=k||this.trackLow,this.trackSelection=j||this.trackSelection,this.trackHigh=l||this.trackHigh,"none"===this.options.selection&&(this._addClass(this.trackLow,"hide"),this._addClass(this.trackSelection,"hide"),this._addClass(this.trackHigh,"hide")),this.handle1=m||this.handle1,this.handle2=n||this.handle2,p===!0)for(this._removeClass(this.handle1,"round triangle"),this._removeClass(this.handle2,"round triangle hide"),g=0;g<this.ticks.length;g++)this._removeClass(this.ticks[g],"round triangle hide");var y=["round","triangle","custom"],z=-1!==y.indexOf(this.options.handle);if(z)for(this._addClass(this.handle1,this.options.handle),this._addClass(this.handle2,this.options.handle),g=0;g<this.ticks.length;g++)this._addClass(this.ticks[g],this.options.handle);this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos],this.setValue(this._state.value),this.handle1Keydown=this._keydown.bind(this,0),this.handle1.addEventListener("keydown",this.handle1Keydown,!1),this.handle2Keydown=this._keydown.bind(this,1),this.handle2.addEventListener("keydown",this.handle2Keydown,!1),this.mousedown=this._mousedown.bind(this),this.touchCapable&&this.sliderElem.addEventListener("touchstart",this.mousedown,!1),this.sliderElem.addEventListener("mousedown",this.mousedown,!1),"hide"===this.options.tooltip?(this._addClass(this.tooltip,"hide"),this._addClass(this.tooltip_min,"hide"),this._addClass(this.tooltip_max,"hide")):"always"===this.options.tooltip?(this._showTooltip(),this._alwaysShowTooltip=!0):(this.showTooltip=this._showTooltip.bind(this),this.hideTooltip=this._hideTooltip.bind(this),this.sliderElem.addEventListener("mouseenter",this.showTooltip,!1),this.sliderElem.addEventListener("mouseleave",this.hideTooltip,!1),this.handle1.addEventListener("focus",this.showTooltip,!1),this.handle1.addEventListener("blur",this.hideTooltip,!1),this.handle2.addEventListener("focus",this.showTooltip,!1),this.handle2.addEventListener("blur",this.hideTooltip,!1)),this.options.enabled?this.enable():this.disable()}var d={formatInvalidInputErrorMsg:function(a){return"Invalid input value '"+a+"' passed in"},callingContextNotSliderInstance:"Calling context element does not have instance of Slider bound to it. Check your code to make sure the JQuery object returned from the call to the slider() initializer is calling the method"},e={linear:{toValue:function(a){var b=a/100*(this.options.max-this.options.min);if(this.options.ticks_positions.length>0){for(var c,d,e,f=0,g=0;g<this.options.ticks_positions.length;g++)if(a<=this.options.ticks_positions[g]){c=g>0?this.options.ticks[g-1]:0,e=g>0?this.options.ticks_positions[g-1]:0,d=this.options.ticks[g],f=this.options.ticks_positions[g];break}if(g>0){var h=(a-e)/(f-e);b=c+h*(d-c)}}var i=this.options.min+Math.round(b/this.options.step)*this.options.step;return i<this.options.min?this.options.min:i>this.options.max?this.options.max:i},toPercentage:function(a){if(this.options.max===this.options.min)return 0;if(this.options.ticks_positions.length>0){for(var b,c,d,e=0,f=0;f<this.options.ticks.length;f++)if(a<=this.options.ticks[f]){b=f>0?this.options.ticks[f-1]:0,d=f>0?this.options.ticks_positions[f-1]:0,c=this.options.ticks[f],e=this.options.ticks_positions[f];break}if(f>0){var g=(a-b)/(c-b);return d+g*(e-d)}}return 100*(a-this.options.min)/(this.options.max-this.options.min)}},logarithmic:{toValue:function(a){var b=0===this.options.min?0:Math.log(this.options.min),c=Math.log(this.options.max),d=Math.exp(b+(c-b)*a/100);return d=this.options.min+Math.round((d-this.options.min)/this.options.step)*this.options.step,d<this.options.min?this.options.min:d>this.options.max?this.options.max:d},toPercentage:function(a){if(this.options.max===this.options.min)return 0;var b=Math.log(this.options.max),c=0===this.options.min?0:Math.log(this.options.min),d=0===a?0:Math.log(a);return 100*(d-c)/(b-c)}}};if(b=function(a,b){return c.call(this,a,b),this},b.prototype={_init:function(){},constructor:b,defaultOptions:{id:"",min:0,max:10,step:1,precision:0,orientation:"horizontal",value:5,range:!1,selection:"before",tooltip:"show",tooltip_split:!1,handle:"round",reversed:!1,enabled:!0,formatter:function(a){return Array.isArray(a)?a[0]+" : "+a[1]:a},natural_arrow_keys:!1,ticks:[],ticks_positions:[],ticks_labels:[],ticks_snap_bounds:0,scale:"linear",focus:!1,tooltip_position:null},getElement:function(){return this.sliderElem},getValue:function(){return this.options.range?this._state.value:this._state.value[0]},setValue:function(a,b,c){a||(a=0);var d=this.getValue();this._state.value=this._validateInputValue(a);var e=this._applyPrecision.bind(this);this.options.range?(this._state.value[0]=e(this._state.value[0]),this._state.value[1]=e(this._state.value[1]),this._state.value[0]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[0])),this._state.value[1]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[1]))):(this._state.value=e(this._state.value),this._state.value=[Math.max(this.options.min,Math.min(this.options.max,this._state.value))],this._addClass(this.handle2,"hide"),this._state.value[1]="after"===this.options.selection?this.options.max:this.options.min),this._state.percentage=this.options.max>this.options.min?[this._toPercentage(this._state.value[0]),this._toPercentage(this._state.value[1]),100*this.options.step/(this.options.max-this.options.min)]:[0,0,100],this._layout();var f=this.options.range?this._state.value:this._state.value[0];return b===!0&&this._trigger("slide",f),d!==f&&c===!0&&this._trigger("change",{oldValue:d,newValue:f}),this._setDataVal(f),this},destroy:function(){this._removeSliderEventHandlers(),this.sliderElem.parentNode.removeChild(this.sliderElem),this.element.style.display="",this._cleanUpEventCallbacksMap(),this.element.removeAttribute("data"),a&&(this._unbindJQueryEventHandlers(),this.$element.removeData("slider"))},disable:function(){return this._state.enabled=!1,this.handle1.removeAttribute("tabindex"),this.handle2.removeAttribute("tabindex"),this._addClass(this.sliderElem,"slider-disabled"),this._trigger("slideDisabled"),this},enable:function(){return this._state.enabled=!0,this.handle1.setAttribute("tabindex",0),this.handle2.setAttribute("tabindex",0),this._removeClass(this.sliderElem,"slider-disabled"),this._trigger("slideEnabled"),this},toggle:function(){return this._state.enabled?this.disable():this.enable(),this},isEnabled:function(){return this._state.enabled},on:function(a,b){return this._bindNonQueryEventHandler(a,b),this},off:function(b,c){a?(this.$element.off(b,c),this.$sliderElem.off(b,c)):this._unbindNonQueryEventHandler(b,c)},getAttribute:function(a){return a?this.options[a]:this.options},setAttribute:function(a,b){return this.options[a]=b,this},refresh:function(){return this._removeSliderEventHandlers(),c.call(this,this.element,this.options),a&&a.data(this.element,"slider",this),this},relayout:function(){return this._layout(),this},_removeSliderEventHandlers:function(){this.handle1.removeEventListener("keydown",this.handle1Keydown,!1),this.handle1.removeEventListener("focus",this.showTooltip,!1),this.handle1.removeEventListener("blur",this.hideTooltip,!1),this.handle2.removeEventListener("keydown",this.handle2Keydown,!1),this.handle2.removeEventListener("focus",this.handle2Keydown,!1),this.handle2.removeEventListener("blur",this.handle2Keydown,!1),this.sliderElem.removeEventListener("mouseenter",this.showTooltip,!1),this.sliderElem.removeEventListener("mouseleave",this.hideTooltip,!1),this.sliderElem.removeEventListener("touchstart",this.mousedown,!1),this.sliderElem.removeEventListener("mousedown",this.mousedown,!1)},_bindNonQueryEventHandler:function(a,b){void 0===this.eventToCallbackMap[a]&&(this.eventToCallbackMap[a]=[]),this.eventToCallbackMap[a].push(b)},_unbindNonQueryEventHandler:function(a,b){var c=this.eventToCallbackMap[a];if(void 0!==c)for(var d=0;d<c.length;d++)if(c[d]===b){c.splice(d,1);break}},_cleanUpEventCallbacksMap:function(){for(var a=Object.keys(this.eventToCallbackMap),b=0;b<a.length;b++){var c=a[b];this.eventToCallbackMap[c]=null}},_showTooltip:function(){this.options.tooltip_split===!1?(this._addClass(this.tooltip,"in"),this.tooltip_min.style.display="none",this.tooltip_max.style.display="none"):(this._addClass(this.tooltip_min,"in"),this._addClass(this.tooltip_max,"in"),this.tooltip.style.display="none"),this._state.over=!0},_hideTooltip:function(){this._state.inDrag===!1&&this.alwaysShowTooltip!==!0&&(this._removeClass(this.tooltip,"in"),this._removeClass(this.tooltip_min,"in"),this._removeClass(this.tooltip_max,"in")),this._state.over=!1},_layout:function(){var a;if(a=this.options.reversed?[100-this._state.percentage[0],this.options.range?100-this._state.percentage[1]:this._state.percentage[1]]:[this._state.percentage[0],this._state.percentage[1]],this.handle1.style[this.stylePos]=a[0]+"%",this.handle2.style[this.stylePos]=a[1]+"%",Array.isArray(this.options.ticks)&&this.options.ticks.length>0){var b=Math.max.apply(Math,this.options.ticks),c=Math.min.apply(Math,this.options.ticks),d="vertical"===this.options.orientation?"height":"width",e="vertical"===this.options.orientation?"marginTop":"marginLeft",f=this._state.size/(this.options.ticks.length-1);if(this.tickLabelContainer){var g=0;if(0===this.options.ticks_positions.length)this.tickLabelContainer.style[e]=-f/2+"px",g=this.tickLabelContainer.offsetHeight;else for(h=0;h<this.tickLabelContainer.childNodes.length;h++)this.tickLabelContainer.childNodes[h].offsetHeight>g&&(g=this.tickLabelContainer.childNodes[h].offsetHeight);"horizontal"===this.options.orientation&&(this.sliderElem.style.marginBottom=g+"px")}for(var h=0;h<this.options.ticks.length;h++){var i=this.options.ticks_positions[h]||100*(this.options.ticks[h]-c)/(b-c);this.ticks[h].style[this.stylePos]=i+"%",this._removeClass(this.ticks[h],"in-selection"),this.options.range?i>=a[0]&&i<=a[1]&&this._addClass(this.ticks[h],"in-selection"):"after"===this.options.selection&&i>=a[0]?this._addClass(this.ticks[h],"in-selection"):"before"===this.options.selection&&i<=a[0]&&this._addClass(this.ticks[h],"in-selection"),this.tickLabels[h]&&(this.tickLabels[h].style[d]=f+"px",void 0!==this.options.ticks_positions[h]&&(this.tickLabels[h].style.position="absolute",this.tickLabels[h].style[this.stylePos]=this.options.ticks_positions[h]+"%",this.tickLabels[h].style[e]=-f/2+"px"))}}var j;if(this.options.range){j=this.options.formatter(this._state.value),this._setText(this.tooltipInner,j),this.tooltip.style[this.stylePos]=(a[1]+a[0])/2+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px"),"vertical"===this.options.orientation?this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px");var k=this.options.formatter(this._state.value[0]);this._setText(this.tooltipInner_min,k);var l=this.options.formatter(this._state.value[1]);this._setText(this.tooltipInner_max,l),this.tooltip_min.style[this.stylePos]=a[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip_min,"margin-top",-this.tooltip_min.offsetHeight/2+"px"):this._css(this.tooltip_min,"margin-left",-this.tooltip_min.offsetWidth/2+"px"),this.tooltip_max.style[this.stylePos]=a[1]+"%","vertical"===this.options.orientation?this._css(this.tooltip_max,"margin-top",-this.tooltip_max.offsetHeight/2+"px"):this._css(this.tooltip_max,"margin-left",-this.tooltip_max.offsetWidth/2+"px")}else j=this.options.formatter(this._state.value[0]),this._setText(this.tooltipInner,j),this.tooltip.style[this.stylePos]=a[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px");if("vertical"===this.options.orientation)this.trackLow.style.top="0",this.trackLow.style.height=Math.min(a[0],a[1])+"%",this.trackSelection.style.top=Math.min(a[0],a[1])+"%",this.trackSelection.style.height=Math.abs(a[0]-a[1])+"%",this.trackHigh.style.bottom="0",this.trackHigh.style.height=100-Math.min(a[0],a[1])-Math.abs(a[0]-a[1])+"%";else{this.trackLow.style.left="0",this.trackLow.style.width=Math.min(a[0],a[1])+"%",this.trackSelection.style.left=Math.min(a[0],a[1])+"%",this.trackSelection.style.width=Math.abs(a[0]-a[1])+"%",this.trackHigh.style.right="0",this.trackHigh.style.width=100-Math.min(a[0],a[1])-Math.abs(a[0]-a[1])+"%";var m=this.tooltip_min.getBoundingClientRect(),n=this.tooltip_max.getBoundingClientRect();m.right>n.left?(this._removeClass(this.tooltip_max,"top"),this._addClass(this.tooltip_max,"bottom"),this.tooltip_max.style.top="18px"):(this._removeClass(this.tooltip_max,"bottom"),this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top=this.tooltip_min.style.top)}},_removeProperty:function(a,b){a.style.removeProperty?a.style.removeProperty(b):a.style.removeAttribute(b)},_mousedown:function(a){if(!this._state.enabled)return!1;this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos];var b=this._getPercentage(a);if(this.options.range){var c=Math.abs(this._state.percentage[0]-b),d=Math.abs(this._state.percentage[1]-b);this._state.dragged=d>c?0:1}else this._state.dragged=0;this._state.percentage[this._state.dragged]=b,this._layout(),this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),this.mousemove&&document.removeEventListener("mousemove",this.mousemove,!1),this.mouseup&&document.removeEventListener("mouseup",this.mouseup,!1),this.mousemove=this._mousemove.bind(this),this.mouseup=this._mouseup.bind(this),this.touchCapable&&(document.addEventListener("touchmove",this.mousemove,!1),document.addEventListener("touchend",this.mouseup,!1)),document.addEventListener("mousemove",this.mousemove,!1),document.addEventListener("mouseup",this.mouseup,!1),this._state.inDrag=!0;var e=this._calculateValue();return this._trigger("slideStart",e),this._setDataVal(e),this.setValue(e,!1,!0),this._pauseEvent(a),this.options.focus&&this._triggerFocusOnHandle(this._state.dragged),!0},_triggerFocusOnHandle:function(a){0===a&&this.handle1.focus(),1===a&&this.handle2.focus()},_keydown:function(a,b){if(!this._state.enabled)return!1;var c;switch(b.keyCode){case 37:case 40:c=-1;break;case 39:case 38:c=1}if(c){if(this.options.natural_arrow_keys){var d="vertical"===this.options.orientation&&!this.options.reversed,e="horizontal"===this.options.orientation&&this.options.reversed;(d||e)&&(c=-c)}var f=this._state.value[a]+c*this.options.step;return this.options.range&&(f=[a?this._state.value[0]:f,a?f:this._state.value[1]]),this._trigger("slideStart",f),this._setDataVal(f),this.setValue(f,!0,!0),this._setDataVal(f),this._trigger("slideStop",f),this._layout(),this._pauseEvent(b),!1}},_pauseEvent:function(a){a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault(),a.cancelBubble=!0,a.returnValue=!1},_mousemove:function(a){if(!this._state.enabled)return!1;var b=this._getPercentage(a);this._adjustPercentageForRangeSliders(b),this._state.percentage[this._state.dragged]=b,this._layout();var c=this._calculateValue(!0);return this.setValue(c,!0,!0),!1},_adjustPercentageForRangeSliders:function(a){if(this.options.range){var b=this._getNumDigitsAfterDecimalPlace(a);b=b?b-1:0;var c=this._applyToFixedAndParseFloat(a,b);0===this._state.dragged&&this._applyToFixedAndParseFloat(this._state.percentage[1],b)<c?(this._state.percentage[0]=this._state.percentage[1],this._state.dragged=1):1===this._state.dragged&&this._applyToFixedAndParseFloat(this._state.percentage[0],b)>c&&(this._state.percentage[1]=this._state.percentage[0],this._state.dragged=0)}},_mouseup:function(){if(!this._state.enabled)return!1;this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),document.removeEventListener("mousemove",this.mousemove,!1),document.removeEventListener("mouseup",this.mouseup,!1),this._state.inDrag=!1,this._state.over===!1&&this._hideTooltip();var a=this._calculateValue(!0);return this._layout(),this._setDataVal(a),this._trigger("slideStop",a),!1},_calculateValue:function(a){var b;if(this.options.range?(b=[this.options.min,this.options.max],0!==this._state.percentage[0]&&(b[0]=this._toValue(this._state.percentage[0]),b[0]=this._applyPrecision(b[0])),100!==this._state.percentage[1]&&(b[1]=this._toValue(this._state.percentage[1]),b[1]=this._applyPrecision(b[1]))):(b=this._toValue(this._state.percentage[0]),b=parseFloat(b),b=this._applyPrecision(b)),a){for(var c=[b,1/0],d=0;d<this.options.ticks.length;d++){var e=Math.abs(this.options.ticks[d]-b);e<=c[1]&&(c=[this.options.ticks[d],e])}if(c[1]<=this.options.ticks_snap_bounds)return c[0]}return b},_applyPrecision:function(a){var b=this.options.precision||this._getNumDigitsAfterDecimalPlace(this.options.step);return this._applyToFixedAndParseFloat(a,b)},_getNumDigitsAfterDecimalPlace:function(a){var b=(""+a).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return b?Math.max(0,(b[1]?b[1].length:0)-(b[2]?+b[2]:0)):0},_applyToFixedAndParseFloat:function(a,b){var c=a.toFixed(b);return parseFloat(c)},_getPercentage:function(a){!this.touchCapable||"touchstart"!==a.type&&"touchmove"!==a.type||(a=a.touches[0]);var b=a[this.mousePos],c=this._state.offset[this.stylePos],d=b-c,e=d/this._state.size*100;return e=Math.round(e/this._state.percentage[2])*this._state.percentage[2],this.options.reversed&&(e=100-e),Math.max(0,Math.min(100,e))},_validateInputValue:function(a){if("number"==typeof a)return a;if(Array.isArray(a))return this._validateArray(a),a;throw new Error(d.formatInvalidInputErrorMsg(a))},_validateArray:function(a){for(var b=0;b<a.length;b++){var c=a[b];if("number"!=typeof c)throw new Error(d.formatInvalidInputErrorMsg(c))}},_setDataVal:function(a){this.element.setAttribute("data-value",a),this.element.setAttribute("value",a),this.element.value=a},_trigger:function(b,c){c=c||0===c?c:void 0;var d=this.eventToCallbackMap[b];if(d&&d.length)for(var e=0;e<d.length;e++){var f=d[e];f(c)}a&&this._triggerJQueryEvent(b,c)},_triggerJQueryEvent:function(a,b){var c={type:a,value:b};this.$element.trigger(c),this.$sliderElem.trigger(c)},_unbindJQueryEventHandlers:function(){this.$element.off(),this.$sliderElem.off()},_setText:function(a,b){"undefined"!=typeof a.innerText?a.innerText=b:"undefined"!=typeof a.textContent&&(a.textContent=b)},_removeClass:function(a,b){for(var c=b.split(" "),d=a.className,e=0;e<c.length;e++){var f=c[e],g=new RegExp("(?:\\s|^)"+f+"(?:\\s|$)");d=d.replace(g," ")}a.className=d.trim()},_addClass:function(a,b){for(var c=b.split(" "),d=a.className,e=0;e<c.length;e++){var f=c[e],g=new RegExp("(?:\\s|^)"+f+"(?:\\s|$)"),h=g.test(d);h||(d+=" "+f)}a.className=d.trim()},_offsetLeft:function(a){return a.getBoundingClientRect().left},_offsetTop:function(a){for(var b=a.offsetTop;(a=a.offsetParent)&&!isNaN(a.offsetTop);)b+=a.offsetTop;return b},_offset:function(a){return{left:this._offsetLeft(a),top:this._offsetTop(a)}},_css:function(b,c,d){if(a)a.style(b,c,d);else{var e=c.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(a,b){return b.toUpperCase()});b.style[e]=d}},_toValue:function(a){return this.options.scale.toValue.apply(this,[a])},_toPercentage:function(a){return this.options.scale.toPercentage.apply(this,[a])},_setTooltipPosition:function(){var a=[this.tooltip,this.tooltip_min,this.tooltip_max];if("vertical"===this.options.orientation){var b=this.options.tooltip_position||"right",c="left"===b?"right":"left";a.forEach(function(a){this._addClass(a,b),a.style[c]="100%"}.bind(this))}else a.forEach("bottom"===this.options.tooltip_position?function(a){this._addClass(a,"bottom"),a.style.top="22px"}.bind(this):function(a){this._addClass(a,"top"),a.style.top=-this.tooltip.outerHeight-14+"px"}.bind(this))}},a){var f=a.fn.slider?"bootstrapSlider":"slider";a.bridget(f,b)}}(a),b})}(),System.registerDynamic("libraries/angular-bootstrap-slider/slider",["./bootstrap-slider.min"],!0,function(a,b,c){var d=a("./bootstrap-slider.min");return angular.module("ui.bootstrap-slider",[]).directive("slider",["$parse","$timeout","$rootScope",function(a,b,c){return{restrict:"AE",replace:!0,template:'<div><input class="slider-input" type="text" style="width:100%" /></div>',require:"ngModel",scope:{max:"=",min:"=",step:"=",value:"=",ngModel:"=",ngDisabled:"=",range:"=",sliderid:"=",ticks:"=",ticksLabels:"=",ticksSnapBounds:"=",ticksPositions:"=",scale:"=",formatter:"&",onStartSlide:"&",onStopSlide:"&",onSlide:"&"},link:function(e,f,g,h,i){function j(){function i(a,b,c){o[a]=b||c}function j(a,b,c){o[a]=b||0===b?parseFloat(b):c}function m(a,b,c){o[a]=b?b+""=="true":c}function n(a){return angular.isString(a)&&0===a.indexOf("[")?angular.fromJson(a):a}var o={};i("id",e.sliderid),i("orientation",g.orientation,"horizontal"),i("selection",g.selection,"before"),i("handle",g.handle,"round"),i("tooltip",g.sliderTooltip||g.tooltip,"show"),i("tooltip_position",g.sliderTooltipPosition,"top"),i("tooltipseparator",g.tooltipseparator,":"),i("ticks",e.ticks),i("ticks_labels",e.ticksLabels),i("ticks_snap_bounds",e.ticksSnapBounds),i("ticks_positions",e.ticksPositions),i("scale",e.scale,"linear"),j("min",e.min,0),j("max",e.max,10),j("step",e.step,1);var p=o.step+"",q=p.substring(p.lastIndexOf(".")+1);if(j("precision",g.precision,q),m("tooltip_split",g.tooltipsplit,!1),m("enabled",g.enabled,!0),m("naturalarrowkeys",g.naturalarrowkeys,!1),m("reversed",g.reversed,!1),m("range",e.range,!1),o.range){if(angular.isArray(e.value))o.value=e.value;else if(angular.isString(e.value)){if(o.value=n(e.value),!angular.isArray(o.value)){var r=parseFloat(e.value);isNaN(r)&&(r=5),r<e.min?(r=e.min,o.value=[r,o.max]):r>e.max?(r=e.max,o.value=[o.min,r]):o.value=[o.min,o.max]}}else o.value=[o.min,o.max];e.ngModel=o.value}else j("value",e.value,5);e.formatter&&(o.formatter=e.$eval(e.formatter)),"$"in window&&$.fn.slider&&($.fn.slider.constructor.prototype.disable=function(){this.picker.off()},$.fn.slider.constructor.prototype.enable=function(){this.picker.on()}),f[0].__slider&&f[0].__slider.destroy();var s=new d(f[0].getElementsByClassName("slider-input")[0],o);f[0].__slider=s;var t=n(g.updateevent);t=angular.isString(t)?[t]:["slide"],angular.forEach(t,function(a){s.on(a,function(a){h.$setViewValue(a),b(function(){e.$apply()})})}),s.on("change",function(a){h.$setViewValue(a.newValue),b(function(){e.$apply()})});var u={slideStart:"onStartSlide",slide:"onSlide",slideStop:"onStopSlide"};angular.forEach(u,function(b,d){var f=a(g[b]);s.on(d,function(a){if(e[b]){var d=function(){f(e.$parent,{$event:a,value:a})};c.$$phase?e.$evalAsync(d):e.$apply(d)}})}),angular.isFunction(l)&&(l(),l=null),l=e.$watch("ngDisabled",function(a){a?s.disable():s.enable()}),angular.isFunction(k)&&k(),k=e.$watch("ngModel",function(a){e.range?s.setValue(a):s.setValue(parseFloat(a))},!0)}var k,l;j();var m=["min","max","step","range","scale"];angular.forEach(m,function(a){e.$watch(a,function(){j()})})}}}]),c.exports}),System.registerDynamic("components/behaviors/alias/alias",["angular"],!0,function(a,b,c){"use strict";function d(){return{restrict:"A",controller:b.controllerName}}var e=a("angular");b.moduleName="rl.ui.behaviors.alias",b.directiveName="rlAlias",b.controllerName="AliasController";var f=function(){function a(a,b,c,d){this.$scope=a,this.$attrs=b,this.$parse=c,this.$interpolate=d;var e=this.getValue();this.resolveAlias(e),a.$watch(this.getValue.bind(this),this.resolveAlias.bind(this))}return a.prototype.getValue=function(){return this.expression=this.$attrs.rlAlias.split(" as "),this.$parse(this.expression[0])(this.$scope)},a.prototype.resolveAlias=function(a){var b=this.$interpolate(this.expression[1])(this.$scope);null!=b&&(this.$scope[b]=a)},a.$inject=["$scope","$attrs","$parse","$interpolate"],a}();return b.AliasController=f,b.alias=d,e.module(b.moduleName,[]).directive(b.directiveName,d).controller(b.controllerName,f),c.exports}),System.registerDynamic("components/behaviors/alternatingClass/alternatingClass",["angular"],!0,function(a,b,c){"use strict";function d(){return{restrict:"A",controller:b.controllerName}}var e=a("angular");b.moduleName="rl.ui.behaviors.alternatingClass",b.directiveName="rlAlternatingClass",b.controllerName="AlternatingClassController";var f=function(){function a(a,b){this.$scope=a,this.$attrs=b}return a.prototype.$onInit=function(){var a=this.checkForOdd(this.$scope);a===!1&&this.$attrs.$set("class",this.$attrs["class"]+" "+this.$attrs.rlAlternatingClass)},a.prototype.checkForOdd=function(a){return null==a.$odd&&a.$parent?this.checkForOdd(a.$parent):a.$odd},a.$inject=["$scope","$attrs"],a}();return b.AlternatingClassController=f,e.module(b.moduleName,[]).directive(b.directiveName,d).controller(b.controllerName,f),c.exports}),System.registerDynamic("components/behaviors/autosave/autosave",["angular","../../services/parentChild/parentChild.service","../../services/autosave/autosave.service"],!0,function(a,b,c){"use strict";function d(){return{restrict:"A",priority:1e3,require:{form:"?form"},controller:b.controllerName,bindToController:!0}}var e=a("angular"),f=a("../../services/parentChild/parentChild.service"),g=a("../../services/autosave/autosave.service");b.moduleName="rl.ui.behaviors.autosave",b.directiveName="rlAutosave",b.controllerName="AutosaveController";var h=function(){function a(a,b,c,d,e,f){this.$scope=a,this.$attrs=b,this.$parse=c,this.$element=d,this.autosaveFactory=e,
this.parentChildBehavior=f}return a.prototype.$onInit=function(){var a=this;this.keyupListener=function(b){return a.$element.on("keyup",function(){a.$scope.$apply(b)}),function(){a.$element.off("keyup")}};var b=this.$parse(this.$attrs.save),c=function(){return b(a.$scope)},d=this.$parse(this.$attrs.debounceDuration)(this.$scope);this.autosave=this.autosaveFactory.getInstance({save:c,contentForm:this.form,debounceDuration:d,triggers:this.$attrs.triggers,setChangeListener:this.keyupListener,saveWhenInvalid:this.$parse(this.$attrs.saveWhenInvalid)(this.$scope)});var e={autosave:this.autosave.autosave},f=this.$parse(this.$attrs.rlAutosave)(this.$scope);this.parentChildBehavior.registerChildBehavior(f,e)},a.$inject=["$scope","$attrs","$parse","$element",g.factoryName,f.serviceName],a}();return b.AutosaveController=h,b.autosave=d,e.module(b.moduleName,[g.moduleName,f.moduleName]).directive(b.directiveName,d).controller(b.controllerName,h),c.exports}),System.registerDynamic("components/behaviors/popover/popover",["angular","typescript-angular-utilities"],!0,function(a,b,c){"use strict";function d(){return{restrict:"A",priority:300,controller:b.controllerName}}var e=a("angular"),f=a("typescript-angular-utilities");b.moduleName="rl.ui.behaviors.popover",b.directiveName="rlPopover",b.controllerName="PopoverController";var g=function(){function a(a,b,c,d,e,f,g){this.$attrs=a,this.$element=b,this.$compile=c,this.$scope=d,this.$parse=e,this.$templateCache=f,this.guid=g}return a.prototype.$onInit=function(){if(this.$parse(this.$attrs.textOnly)(this.$scope))this.$element.attr("uib-popover",this.$attrs.rlPopover);else{var a=this.guid.random()+".html",b="<div>"+this.$parse(this.$attrs.rlPopover)(this.$scope)+"</div>";null!=b&&(this.$templateCache.put(a,b),this.$element.attr("uib-popover-template","'"+a+"'"))}this.$element.removeAttr("rl-popover"),this.$compile(this.$element)(this.$scope)},a.$inject=["$attrs","$element","$compile","$scope","$parse","$templateCache",f.downgrade.guidServiceName],a}();return b.PopoverController=g,b.popover=d,e.module(b.moduleName,[]).directive(b.directiveName,d).controller(b.controllerName,g),c.exports}),System.registerDynamic("components/behaviors/behaviors.module",["angular","./alias/alias","./alternatingClass/alternatingClass","./autosave/autosave","./popover/popover","./required/required"],!0,function(a,b,c){"use strict";var d=a("angular"),e=a("./alias/alias");b.alias=e;var f=a("./alternatingClass/alternatingClass"),g=a("./autosave/autosave");b.autosave=g;var h=a("./popover/popover");b.popover=h;var i=a("./required/required");return b.required=i,b.moduleName="rl.ui.behaviors",d.module(b.moduleName,[e.moduleName,f.moduleName,g.moduleName,h.moduleName,i.moduleName]),c.exports}),System.registerDynamic("components/components/busy/busy",["angular","../componentsDefaultTheme"],!0,function(a,b,c){"use strict";var d=a("angular"),e=a("../componentsDefaultTheme");b.moduleName="rl.ui.components.busy",b.componentName="rlBusy";var f=function(){function a(a){this.useDefaultTheme=a}return a.$inject=[e.defaultThemeValueName],a}(),g={template:'<i class="busy rl-{{::busy.size}}" ng-class="{ \'default-theme\': busy.useDefaultTheme }" ng-show="busy.loading"></i>',controller:f,controllerAs:"busy",bindings:{loading:"<",size:"@"}};return d.module(b.moduleName,[]).component(b.componentName,g),c.exports}),System.registerDynamic("components/components/buttonLink/buttonLink.html",[],!0,function(a,b,c){return c.exports='<a class="btn {{::button.types}} {{::button.configuredSize}}" ng-href="{{button.link}}" ng-disabled="button.ngDisabled" target="{{::button.target}}">\r\n	<span ng-transclude></span>\r\n</a>',c.exports}),System.registerDynamic("components/components/buttonLink/buttonLink",["angular","../button/button","./buttonLink.html"],!0,function(a,b,c){"use strict";var d=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},e=a("angular"),f=a("../button/button");b.moduleName="rl.ui.components.buttonLink",b.componentName="rlButtonLink",b.controllerName="ButtonLinkController";var g=function(a){function b(){a.call(this),this.target=this.newTab?"_blank":"_self"}return d(b,a),b}(f.ButtonController);b.ButtonLinkController=g;var h=f.buildButton({template:a("./buttonLink.html"),bindings:{link:"@",newTab:"<?",action:null},controller:b.controllerName});return e.module(b.moduleName,[]).component(b.componentName,h).controller(b.controllerName,g),c.exports}),System.registerDynamic("components/components/buttonSubmit/buttonSubmit.html",[],!0,function(a,b,c){return c.exports='<button type="submit" class="btn {{::button.types}} {{::button.configuredSize}}" ng-disabled="button.saving || button.ngDisabled">\r\n	<rl-busy ng-if="::button.rightAligned" loading="button.saving"></rl-busy>\r\n	<span ng-transclude></span>\r\n	<rl-busy ng-if="::!button.rightAligned" loading="button.saving"></rl-busy>\r\n</button>',c.exports}),System.registerDynamic("components/components/buttonSubmit/buttonSubmit",["angular","../button/button","./buttonSubmit.html"],!0,function(a,b,c){"use strict";var d=a("angular"),e=a("../button/button");b.moduleName="rl.ui.components.buttonSubmit",b.componentName="rlButtonSubmit";var f=e.buildButton({template:a("./buttonSubmit.html"),bindings:{rightAligned:"<?",saving:"<?",action:null}});return d.module(b.moduleName,[]).component(b.componentName,f),c.exports}),System.registerDynamic("components/components/buttonToggle/buttonToggle.html",[],!0,function(a,b,c){return c.exports='<button type="button" class="btn {{::buttonToggle.types}} {{::buttonToggle.configuredSize}}"\r\n		ng-class="{ active : buttonToggle.checked }" ng-click="buttonToggle.clicked()" ng-disabled="buttonToggle.ngDisabled">\r\n	<i ng-show="buttonToggle.checked" class="fa fa-check completed"></i> <span ng-transclude></span>\r\n</button>',c.exports}),System.registerDynamic("components/components/buttonToggle/buttonToggle",["angular","../button/button","./buttonToggle.html"],!0,function(a,b,c){"use strict";var d=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},e=a("angular"),f=a("../button/button");b.moduleName="rl.ui.components.buttonToggle",b.componentName="rlButtonToggle",b.controllerName="ButtonToggleController";var g=function(a){function b(){a.call(this)}return d(b,a),Object.defineProperty(b.prototype,"checked",{get:function(){return this.ngModel.$viewValue},set:function(a){this.ngModel.$setViewValue(a)},enumerable:!0,configurable:!0}),b.prototype.clicked=function(){this.ngDisabled||(this.checked=!this.checked,this.onToggle({value:this.checked}))},b}(f.ButtonController);b.ButtonToggleController=g;var h=f.buildButton({require:{ngModel:"^ngModel"},template:a("./buttonToggle.html"),controller:b.controllerName,controllerAs:"buttonToggle",bindings:{onToggle:"&",action:null}});return e.module(b.moduleName,[]).component(b.componentName,h).controller(b.controllerName,g),c.exports}),System.registerDynamic("components/components/cardContainer/card/headerColumn/headerColumn",["typescript-angular-utilities","../card"],!0,function(a,b,c){"use strict";function d(a){return{restrict:"E",require:{cardController:"^"+g.componentName},template:'\n			<div rl-size-for-breakpoints="header.column.size" styling="::header.column.styling" title="{{::header.column.description}}">\n				<div class="template-container"></div>\n			</div>\n		',controller:b.controllerName,controllerAs:"header",scope:{},bindToController:{column:"<",item:"<",alias:"<"},compile:function(){return{pre:function(b){var c=b.header;null!=c.alias&&(b[c.alias]=c.item);var d=c.column;null!=d.templateUrl?c.renderedTemplate=a("<div ng-include=\"'"+d.templateUrl+"'\"></div>")(b):null!=d.template?c.renderedTemplate=a(d.template)(b):c.renderedTemplate=a("<span>{{header.value}}</span>")(b)},post:function(a,b){var c=b.find(".template-container");c.append(a.header.renderedTemplate)}}}}}var e=a("typescript-angular-utilities"),f=e.services.transform.transform,g=a("../card");b.directiveName="rlCardHeaderColumn",b.controllerName="CardHeaderColumnController";var h=function(){function a(){var a=this;this.update=function(){a.value=f.getValue(a.item,a.column.getValue)}}return a.prototype.$onInit=function(){this.update(),this.cardController.refresh.subscribe(this.update)},a}();return b.HeaderColumnController=h,d.$inject=["$compile"],b.headerColumn=d,c.exports}),System.registerDynamic("components/components/cardContainer/card/headerColumn/sizeForBreakpoints",["typescript-angular-utilities","../../../../services/breakpoints/breakpoint"],!0,function(a,b,c){"use strict";function d(a,b){function c(b,c,e){var g=a(e.rlSizeForBreakpoints)(b),h=a(e.styling)(b),i=[];i.push(d(g,f.xs)),i.push(d(g,f.sm)),i.push(d(g,f.md)),i.push(d(g,f.lg)),c.addClass(i.join(" ")),null!=h&&c.addClass(h)}function d(a,c){var d=a[c];return d>0&&"hidden"!==d?b.substitute("col-{0}-{1}",c,d):"hidden-"+c}return{restrict:"A",link:c}}var e=a("typescript-angular-utilities"),f=a("../../../../services/breakpoints/breakpoint");return b.sizeForBreakpointsName="rlSizeForBreakpoints",d.$inject=["$parse",e.downgrade.stringServiceName],b.sizeForBreakpoints=d,c.exports}),System.registerDynamic("components/components/cardContainer/card/headerColumn/headerColumn.module",["angular","typescript-angular-utilities","./headerColumn","./sizeForBreakpoints"],!0,function(a,b,c){"use strict";var d=a("angular"),e=a("typescript-angular-utilities"),f=a("./headerColumn"),g=a("./sizeForBreakpoints");return b.moduleName="rl.ui.components.cardContainer.card.headerColumn",d.module(b.moduleName,[e.downgrade.moduleName]).directive(g.sizeForBreakpointsName,g.sizeForBreakpoints).directive(f.directiveName,f.headerColumn).controller(f.controllerName,f.HeaderColumnController),c.exports}),System.registerDynamic("components/components/cardContainer/card/card.html",[],!0,function(a,b,c){return c.exports='<rl-generic-container selector="__card.selectable">\r\n	<template when-selector="false" default>\r\n		<div class="card" ng-class="{ \'selected\': __card.item.viewData.selected }">\r\n			<div class="header" ng-click="__card.toggleContent()" ng-class="{ \'active\': __card.hasBody || !__card.permanentFooter }">\r\n				<div class="row">\r\n					<div ng-repeat="column in __card.columns">\r\n						<rl-card-header-column column="column" item="__card.item" alias="__card.cardAs"></rl-card-header-column>\r\n					</div>\r\n				</div>\r\n			</div>\r\n\r\n			<div ng-show="__card.showContent">\r\n				<ng-form rl-autosave="__card.autosaveLink" save="__card.saveCard()" save-when-invalid="__card.saveWhenInvalid">\r\n					<div class="body" ng-class="{ \'active\': __card.clickable }" ng-click="__card.clickCard()">\r\n						<div class="content-template"></div>\r\n						<div class="clearfix"></div>\r\n					</div>\r\n				</ng-form>\r\n			</div>\r\n			<div ng-show="__card.hasFooter && (__card.showContent || __card.permanentFooter)">\r\n				<div class="footer">\r\n					<div class="footer-template"></div>\r\n					<div class="clearfix"></div>\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</template>\r\n	<template when-selector="true">\r\n		<div class="select-group">\r\n			<div class="select-column">\r\n				<input type="checkbox" class="stand-alone-checkbox" ng-model="__card.item.viewData.selected" ng-change="__card.selectionChanged()"\r\n					   ng-disabled="__card.item.viewData.disabledSelection" title="{{__card.item.viewData.selectionTitle}}" />\r\n			</div>\r\n			<div class="select-content">\r\n\r\n				<div class="card selectable" ng-class="{ \'selected\': __card.item.viewData.selected }">\r\n					<div class="header active" ng-click="__card.toggleContent()">\r\n						<div class="row">\r\n							<div ng-repeat="column in __card.columns">\r\n								<rl-card-header-column column="column" item="__card.item"></rl-card-header-column>\r\n							</div>\r\n						</div>\r\n					</div>\r\n\r\n					<div ng-show="__card.showContent">\r\n						<ng-form rl-autosave="__card.autosaveLink" save="__card.saveCard()" save-when-invalid="__card.saveWhenInvalid">\r\n							<div class="body" ng-class="{ \'active\': __card.clickable }" ng-click="__card.clickCard()">\r\n								<div class="content-template"></div>\r\n								<div class="clearfix"></div>\r\n							</div>\r\n						</ng-form>\r\n					</div>\r\n					<div ng-show="__card.hasFooter && (__card.showContent || __card.permanentFooter)">\r\n						<div class="footer">\r\n							<div class="footer-template"></div>\r\n							<div class="clearfix"></div>\r\n						</div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</template>\r\n</rl-generic-container>',c.exports}),System.registerDynamic("components/components/cardContainer/card/card",["angular","lodash","rxjs","typescript-angular-utilities","../../../services/parentChild/parentChild.service","./headerColumn/headerColumn.module","./card.html"],!0,function(a,b,c){"use strict";var d=a("angular"),e=a("lodash"),f=a("rxjs"),g=a("typescript-angular-utilities"),h=a("../../../services/parentChild/parentChild.service"),i=a("./headerColumn/headerColumn.module");b.moduleName="rl.ui.components.cardContainer.card",b.componentName="rlCard",b.controllerName="CardController";var j=function(){function a(a,b,c,d,e,g){var h=this;if(this.$scope=a,this.$q=c,this.$element=d,this.parentChild=e,this.showContent=!1,this.dirty=!1,this.autosaveLink={},this.autosave=function(){return h.showContent===!1?!0:h.parentChild.triggerChildBehavior(h.autosaveLink,function(a){return a.autosave()?(h.showContent=!1,!0):!1})},this.cardAs&&(a[this.cardAs]=this.item),a.collapse=this.autosave,a.setSelected=this.setSelected.bind(this),this.refresh=new f.Subject,a.refresh=function(){h.source.refresh(),h.refresh.next(null)},a.remove=function(){h.source.remove(h.item)},a.containerData=this.containerData,g.isNullOrWhitespace(this.cardController)===!1){var i=b(this.cardController,{$scope:a});g.isNullOrWhitespace(this.cardControllerAs)===!1&&(a[this.cardControllerAs]=i)}e.registerChildBehavior(this.item,{close:this.autosave})}return a.prototype.toggleContent=function(){this.showContent?this.autosave():this.open()},a.prototype.validateCard=function(){var a=this.parentChild.getChildBehavior(this.item);return e.isFunction(a.validateCard)?a.validateCard():!0},a.prototype.saveCard=function(){var a=this.parentChild.getChildBehavior(this.item);return e.isFunction(a.saveCard)?a.saveCard():this.$q.when()},a.prototype.clickCard=function(){this.parentChild.triggerChildBehavior(this.item,function(a){return e.isFunction(a.clickCard)?a.clickCard():void 0})},a.prototype.$postLink=function(){var a=this;this.cardContainer.makeCard(this.$scope,function(b){var c=a.$element.find(".content-template");c.append(b),a.hasBody=b.length>0},null,"contentSlot"),this.cardContainer.makeCard(this.$scope,function(b){if(a.hasFooter=b.length>0,a.hasFooter){var c=a.$element.find(".footer-template");c.append(b)}},null,"footerSlot")},a.prototype.open=function(){this.parentChild.triggerChildBehavior(this.item,function(a){e.isFunction(a.initCard)&&a.initCard()}),this.cardContainer.openCard()&&(this.showContent=!0)},a.prototype.setSelected=function(a){e.isUndefined(this.item.viewData)&&(this.item.viewData={}),this.item.viewData.selected=a,this.selectionChanged()},a.$inject=["$scope","$controller","$q","$element",h.serviceName,g.downgrade.objectServiceName],a}();b.CardController=j;var k={template:a("./card.html"),require:{cardContainer:"^^rlCardContainer"},controller:b.controllerName,controllerAs:"__card",bindings:{columns:"<?",item:"=",clickable:"<?",source:"=",containerData:"<?",cardController:"<?",cardControllerAs:"<?",cardAs:"<?",permanentFooter:"<?",selectable:"<?",selectionChanged:"&",saveWhenInvalid:"<?"}};return d.module(b.moduleName,[h.moduleName,g.downgrade.moduleName,i.moduleName]).component(b.componentName,k).controller(b.controllerName,j),c.exports}),System.registerDynamic("components/components/cardContainer/cardSearch/cardSearch.html",[],!0,function(a,b,c){return c.exports='<div class="input-group" ng-show="cardSearch.hasSearchFilter" ng-class="{ \'has-error\': cardSearch.searchLengthError }">\r\n	<input class="form-control" type="text" placeholder="{{cardSearch.searchPlaceholder}}" ng-model="cardSearch.searchText"\r\n		   rl-popover="cardSearch.minSearchError" popover-trigger="mouseenter" popover-enable="cardSearch.searchLengthError" />\r\n	<div class="input-group-btn">\r\n		<button type="button" class="btn btn-default" ng-disabled="cardSearch.searchText | isEmpty" ng-click="cardSearch.searchText = null">\r\n			<i class="fa fa-times"></i>\r\n		</button>\r\n	</div>\r\n</div>',c.exports}),System.registerDynamic("components/components/cardContainer/cardSearch/cardSearch",["angular","./cardSearch.html"],!0,function(a,b,c){"use strict";var d=a("angular");b.moduleName="rl.ui.components.cardContainer.cardSearch",b.componentName="rlCardSearch",b.controllerName="CardSearchController",b.defaultSearchPlaceholder="Search",b.defaultSearchDelay=1e3;var e=function(){function a(a){this.$timeout=a,this.searchLengthError=!1,this.hasSearchFilter=!0}return Object.defineProperty(a.prototype,"searchText",{get:function(){return this.searchFilter?this.searchFilter.searchText:null},set:function(a){this.searchFilter.searchText=a,this.minSearchLength=this.searchFilter.minSearchLength,this.validateSearchLength(a,this.minSearchLength),null!=this.timer&&this.$timeout.cancel(this.timer),this.timer=this.$timeout(this.cardContainer.dataSource.refresh.bind(this.cardContainer.dataSource),this.delay)},enumerable:!0,configurable:!0}),a.prototype.$onInit=function(){var a=this;if(null!=this.cardContainer){if(this.minSearchError="You must enter at least {{cardSearch.minSearchLength}} characters to perform a search",null==this.searchFilter){var c=this.cardContainer.searchFilter;this.searchFilter=c,null==c&&(this.hasSearchFilter=!1)}this.hasSearchFilter&&(this.searchPlaceholder=b.defaultSearchPlaceholder,this.delay=null!=this.delay?this.delay:b.defaultSearchDelay,this.searchFilter.subscribe(function(){a.searchText=a.searchFilter.searchText}))}},a.prototype.validateSearchLength=function(a,b){this.searchLengthError=null!=a&&a.length>0&&a.length<b},a.$inject=["$timeout"],a}();b.CardSearchController=e;var f={require:{cardContainer:"?^^rlCardContainer"},template:a("./cardSearch.html"),controller:b.controllerName,controllerAs:"cardSearch",bindings:{delay:"<?searchDelay",searchFilter:"<?"}};return d.module(b.moduleName,[]).component(b.componentName,f).controller(b.controllerName,e),c.exports}),System.registerDynamic("components/components/cardContainer/columnHeader/columnHeader",["angular","../sorts/sortDirection"],!0,function(a,b,c){"use strict";function d(a){return{restrict:"E",template:'\n			<div rl-size-for-breakpoints="column.size" ng-click="sort()" title="{{::column.description}}"\n					class="column-header">\n				<div class="template-container"></div>\n				<i ng-show="sorting === sortDirection.ascending" class="fa fa-sort-asc"></i>\n				<i ng-show="sorting === sortDirection.descending" class="fa fa-sort-desc"></i>\n			</div>\n		',scope:{column:"=",sorting:"=",sort:"&"},compile:function(){return{pre:function(b){var c=b.column;null!=c.headerTemplateUrl?b.renderedTemplate=a("<div ng-include=\"'"+c.headerTemplateUrl+"'\"></div>")(b):null!=c.headerTemplate?b.renderedTemplate=a(c.headerTemplate)(b):b.renderedTemplate="<h5>"+c.label+"</h5"},post:function(a,b){if(null!=a.column.displayColumnHeader&&a.column.displayColumnHeader===!1)return void b.remove();var c=b.find(".template-container");c.append(a.renderedTemplate),a.sortDirection=f.SortDirection}}}}}var e=a("angular"),f=a("../sorts/sortDirection");return b.moduleName="rl.ui.components.cardContainer.columnHeader",b.directiveName="rlColumnHeader",d.$inject=["$compile"],b.cardColumnHeader=d,e.module(b.moduleName,[]).directive(b.directiveName,d),c.exports}),System.registerDynamic("components/components/cardContainer/filters/cardContainerFilters.html",[],!0,function(a,b,c){return c.exports='<div ng-repeat="filter in controller.renderableFilters">\r\n	<rl-template-renderer template="filter.template"></rl-template-renderer>\r\n</div>',c.exports}),System.registerDynamic("components/components/cardContainer/filters/cardContainerFilters",["angular","lodash","./cardContainerFilters.html"],!0,function(a,b,c){"use strict";var d=a("angular"),e=a("lodash");b.moduleName="rl.ui.components.cardContainer.filters.cardContainerFilters",b.componentName="rlCardContainerFilters",b.controllerName="CardContainerFiltersController";var f=function(){function a(a){this.$rootScope=a}return a.prototype.$onInit=function(){var a=this;this.renderableFilters=e(this.filters).filter(function(a){return null!=a.template}).map(function(b){var c=a.$rootScope.$new();return c.filter=b,c.dataSource=a.source,b.template={template:b.template,scope:c},b}).value()},a.$inject=["$rootScope"],a}();b.CardContainerFiltersController=f;var g={template:a("./cardContainerFilters.html"),controller:b.controllerName,controllerAs:"controller",bindings:{filters:"<",source:"<"}};return d.module(b.moduleName,[]).component(b.componentName,g).controller(b.controllerName,f),c.exports}),System.registerDynamic("components/components/cardContainer/filters/filters.module",["angular","./columnSearchFilter/columnSearchFilter.service","./dateFilter/dateFilter.module","./filterGroup/filterGroup.module","./selectFilter/selectFilter.module","./cardContainerFilters"],!0,function(a,b,c){"use strict";function d(a){for(var c in a)b.hasOwnProperty(c)||(b[c]=a[c])}var e=a("angular"),f=a("./columnSearchFilter/columnSearchFilter.service");b.columnSearchFilter=f;var g=a("./dateFilter/dateFilter.module"),h=a("./filterGroup/filterGroup.module");b.filterGroup=h;var i=a("./selectFilter/selectFilter.module");b.selectFilter=i;var j=a("./cardContainerFilters");return d(a("./cardContainerFilters")),b.moduleName="rl.ui.components.cardContainer.filters",e.module(b.moduleName,[f.moduleName,g.moduleName,h.moduleName,i.moduleName,j.moduleName]),c.exports}),System.registerDynamic("components/components/cardContainer/itemCount/itemCount.html",[],!0,function(a,b,c){return c.exports='<p ng-show="!itemCount.cardContainer.dataSource.loadingDataSet">\r\n	Showing <strong>{{itemCount.cardContainer.dataSource.dataSet.length}} of {{itemCount.cardContainer.dataSource.count}}</strong> total items\r\n</p>',c.exports}),System.registerDynamic("components/components/cardContainer/itemCount/itemCount",["angular","./itemCount.html"],!0,function(a,b,c){"use strict";var d=a("angular");b.moduleName="rl.ui.components.cardContainer.itemCount",b.componentName="rlItemCount";var e={require:{cardContainer:"?^^rlCardContainer"},template:a("./itemCount.html"),controllerAs:"itemCount"};return d.module(b.moduleName,[]).component(b.componentName,e),c.exports}),System.registerDynamic("components/components/cardContainer/pager/pager.html",[],!0,function(a,b,c){return c.exports='<nav ng-if="::pager.pager">\r\n	<ul class="pagination">\r\n		<li title="Go to first page" ng-click="pager.first()"\r\n			ng-class="{ \'disabled\': !pager.canGoBack }">\r\n			<a><i class="fa fa-angle-double-left"></i></a>\r\n		</li>\r\n		<li title="Go to previous page" ng-click="pager.previous()"\r\n			ng-class="{ \'disabled\': !pager.canGoBack }">\r\n			<a><i class="fa fa-angle-left"></i></a>\r\n		</li>\r\n		<li title="Go to page {{::page}}" ng-click="pager.goto(page)"\r\n			ng-repeat="page in pager.pages"\r\n			ng-class="{ \'active\': pager.currentPage == page }">\r\n			<a>{{::page}}</a>\r\n		</li>\r\n		<li title="Go to next page" ng-click="pager.next()"\r\n			ng-class="{ \'disabled\': !pager.canGoForward }">\r\n			<a><i class="fa fa-angle-right"></i></a>\r\n		</li>\r\n		<li title="Go to last page" ng-click="pager.last()"\r\n			ng-class="{ \'disabled\': !pager.canGoForward }">\r\n			<a><i class="fa fa-angle-double-right"></i></a>\r\n		</li>\r\n	</ul>\r\n</nav>\r\n',c.exports}),System.registerDynamic("components/components/cardContainer/pager/pager",["angular","lodash","./pager.html"],!0,function(a,b,c){"use strict";var d=a("angular"),e=a("lodash");b.moduleName="rl.ui.components.cardContainer.pager",b.componentName="rlPager",b.controllerName="PagerController",b.defaultVisiblePageCount=5;var f=function(){function a(){var a=this;this.canGoBack=!1,this.canGoForward=!1,this.updatePageCount=function(){var b=a.dataSource.count,c=Math.ceil(b/a.pager.pageSize);c!==a.lastPage&&(a.lastPage=c,a.currentPage=1),a.updatePaging()}}return Object.defineProperty(a.prototype,"currentPage",{get:function(){return this.pager.pageNumber},set:function(a){this.pager.pageNumber=a,this.updatePaging()},enumerable:!0,configurable:!0}),a.prototype.$onInit=function(){null!=this.cardContainer&&(this.pager=this.cardContainer.dataSource.pager,this.pager&&(this.visiblePageCount=null!=this.pageCount?this.pageCount:b.defaultVisiblePageCount,this.lastPage=1,this.dataSource=this.cardContainer.dataSource,this.dataSource.countChanges.subscribe(this.updatePageCount),this.pager.pageSizeChanges.subscribe(this.updatePageCount),this.updatePageCount()))},a.prototype.updatePaging=function(){var a=this.currentPage;this.canGoBack=a>1,this.canGoForward=a<this.lastPage;var b=this.visiblePageCount-1,c=Math.floor(b/2),d=Math.ceil(b/2),f=a-c,g=a+d;1>f?(f=1,g=Math.min(this.visiblePageCount,this.lastPage)):g>this.lastPage&&(g=this.lastPage,f=Math.max(this.lastPage-b,1)),this.pages=e.range(f,g+1)},a.prototype.first=function(){this.currentPage=1},a.prototype.previous=function(){this.currentPage>1&&this.currentPage--},a.prototype["goto"]=function(a){a>=1&&a<=this.lastPage&&(this.currentPage=a)},a.prototype.next=function(){this.currentPage<this.lastPage&&this.currentPage++},a.prototype.last=function(){this.currentPage=this.lastPage},a}();b.PagerController=f;var g={require:{cardContainer:"?^^rlCardContainer"},template:a("./pager.html"),controller:b.controllerName,controllerAs:"pager",bindings:{pageCount:"<?visiblePages"}};return d.module(b.moduleName,[]).component(b.componentName,g).controller(b.controllerName,f),c.exports}),System.registerDynamic("components/components/cardContainer/pageSize/pageSize.html",[],!0,function(a,b,c){return c.exports='<div ng-if="::controller.pager">\r\n	<select class="form-control" title="Cards per page" ng-model="controller.selectedPageSize"\r\n			ng-options="pageSize for pageSize in controller.pageSizes"></select>\r\n</div>\r\n',c.exports}),System.registerDynamic("components/components/cardContainer/pageSize/pageSize",["angular","./pageSize.html"],!0,function(a,b,c){"use strict";var d=a("angular");b.moduleName="rl.ui.components.cardContainer.pageSize",b.componentName="rlPageSize",b.controllerName="PageSizeController",b.availablePageSizes=[10,25,50,100],b.defaultPageSize=10;var e=function(){function a(){}return Object.defineProperty(a.prototype,"selectedPageSize",{get:function(){return null!=this.pager?this.pager.pageSize:null},set:function(a){null!=this.pager&&(this.pager.pageSize=a)},enumerable:!0,configurable:!0}),a.prototype.$onInit=function(){null!=this.cardContainer&&(this.selectedPageSize=b.defaultPageSize,this.pageSizes=b.availablePageSizes,this.pager=this.cardContainer.dataSource.pager)},a}();b.PageSizeController=e;var f={require:{cardContainer:"?^^rlCardContainer"},template:a("./pageSize.html"),controller:b.controllerName,controllerAs:"controller"};return d.module(b.moduleName,[]).component(b.componentName,f).controller(b.controllerName,e),c.exports}),System.registerDynamic("components/components/cardContainer/selectionControl/selectionControl.html",[],!0,function(a,b,c){return c.exports='<div>\r\n	<div style="margin-bottom: 5px">\r\n		<span><strong>{{selection.selectedItems}}</strong> items selected</span>\r\n	</div>\r\n	<div style="margin-bottom: 5px" ng-if="selection.pagingEnabled">\r\n		<button type="button" class="btn btn-default" ng-click="selection.selectPage()">Select page</button>\r\n		<button type="button" class="btn btn-default" ng-click="selection.clearPage()">Clear page</button>\r\n	</div>\r\n	<div>\r\n		<button type="button" class="btn btn-default" ng-click="selection.selectAll()">Select all</button>\r\n		<button type="button" class="btn btn-default" ng-click="selection.clearAll()">Clear all</button>\r\n	</div>\r\n</div>\r\n',c.exports}),System.registerDynamic("components/components/cardContainer/selectionControl/selectionControl",["angular","lodash","typescript-angular-utilities","./selectionControl.html"],!0,function(a,b,c){"use strict";var d=a("angular"),e=a("lodash"),f=a("typescript-angular-utilities");b.moduleName="rl.ui.components.cardContainer.selectionControl",b.componentName="rlSelectionControl",b.controllerName="SelectionControlController";var g=function(){function a(a){this.bool=a}return a.prototype.$onInit=function(){var a=this;null!=this.cardContainer&&(this.selectedItems=this.cardContainer.numberSelected,this.pagingEnabled=this.bool.toBool(this.cardContainer.dataSource.pager),this.dataSource=this.cardContainer.dataSource,this.cardContainer.numberSelectedChanges.subscribe(function(b){a.selectedItems=b}))},a.prototype.selectPage=function(){e.each(this.dataSource.dataSet,function(a){a.viewData.selected=!0}),this.cardContainer.selectionChanged()},a.prototype.selectAll=function(){e.each(this.dataSource.filteredDataSet,function(a){a.viewData.selected=!0}),this.cardContainer.selectionChanged()},a.prototype.clearPage=function(){e.each(this.dataSource.dataSet,function(a){a.viewData.selected=!1}),this.cardContainer.selectionChanged()},a.prototype.clearAll=function(){e.each(this.dataSource.filteredDataSet,function(a){a.viewData.selected=!1}),this.cardContainer.selectionChanged()},a.$inject=[f.downgrade.booleanServiceName],a}();b.SelectionControlController=g;var h={require:{cardContainer:"?^^rlCardContainer"},template:a("./selectionControl.html"),controller:b.controllerName,controllerAs:"selection"};return d.module(b.moduleName,[f.downgrade.moduleName]).component(b.componentName,h).controller(b.controllerName,g),c.exports}),System.registerDynamic("components/components/cardContainer/cardContainer.html",[],!0,function(a,b,c){return c.exports='<div class="row">\r\n	<div class="col-md-3 col-xs-12" ng-if="cardContainer.renderFilters">\r\n		<rl-card-container-filters filters="cardContainer.filters" source="cardContainer.dataSource"></rl-card-container-filters>\r\n	</div>\r\n	<div class="col-xs-12" ng-class="{ \'col-md-9\': cardContainer.renderFilters }">\r\n		<div class="card-container">\r\n			<div>\r\n				<div class="card-container-header">\r\n					<div ng-transclude="containerHeaderSlot">\r\n						<rl-default-card-container-header></rl-default-card-container-header>\r\n					</div>\r\n				</div>\r\n\r\n				<rl-generic-container selector="cardContainer.selectableCards">\r\n					<template when-selector="false" default>\r\n						<div class="card-columns-header">\r\n							<div ng-repeat="column in cardContainer.columns">\r\n								<rl-column-header sort="cardContainer.sort(column)" sorting="column.sortDirection" column="column"></rl-column-header>\r\n							</div>\r\n							<div class="clearfix"></div>\r\n						</div>\r\n					</template>\r\n					<template when-selector="true">\r\n						<div class="card-columns-header">\r\n							<div class="select-group">\r\n								<div class="select-column">\r\n									<i class="fa fa-check" style="margin-left: 6px; cursor: pointer" ng-click="cardContainer.sortSelected()"></i>\r\n									<i ng-show="cardContainer.sortColumn.sortDirection === cardContainer.sortDirection.ascending" class="fa fa-sort-asc"></i>\r\n									<i ng-show="cardContainer.sortColumn.sortDirection === cardContainer.sortDirection.descending" class="fa fa-sort-desc"></i>\r\n								</div>\r\n								<div class="select-content">\r\n									<div ng-repeat="column in cardContainer.columns">\r\n										<rl-column-header sort="cardContainer.sort(column)" sorting="column.sortDirection" column="column"></rl-column-header>\r\n									</div>\r\n								</div>\r\n							</div>\r\n							<div class="clearfix"></div>\r\n						</div>\r\n					</template>\r\n				</rl-generic-container>\r\n\r\n				<div ng-if="cardContainer.dataSource.dataSet | isEmpty:false">\r\n					<div class="card-item-repeat" ng-repeat="card in cardContainer.dataSource.dataSet">\r\n						<rl-card columns="cardContainer.columns" item="card"\r\n								clickable="cardContainer.clickableCards"\r\n								selectable="cardContainer.selectableCards"\r\n								selection-changed="cardContainer.selectionChanged()"\r\n								container-data="cardContainer.containerData"\r\n								source="cardContainer.dataSource"\r\n								permanent-footer="cardContainer.permanentFooters"\r\n								card-controller="cardContainer.cardController"\r\n								card-controller-as="cardContainer.cardControllerAs"\r\n								card-as="cardContainer.cardAs"\r\n								save-when-invalid="cardContainer.saveWhenInvalid"></rl-card>\r\n					</div>\r\n				</div>\r\n				<div ng-if="cardContainer.dataSource.needsRefinedSearch">\r\n					Please refine your search results\r\n				</div>\r\n				<div ng-if="cardContainer.dataSource.isEmpty">\r\n					There are no items to show\r\n				</div>\r\n\r\n				<div>\r\n					<rl-busy loading="cardContainer.dataSource.loadingDataSet" size="2x"></rl-busy>\r\n				</div>\r\n\r\n				<div class="card-container-footer">\r\n					<div ng-transclude="containerFooterSlot">\r\n						<rl-default-card-container-footer></rl-default-card-container-footer>\r\n					</div>\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>',
c.exports}),System.registerDynamic("components/components/cardContainer/cardContainer",["lodash","rxjs","typescript-angular-utilities","../../services/parentChild/parentChild.service","./dataSources/dataSources.module","./sorts/sorts.module","../../services/breakpoints/breakpoint","./cardContainer.html"],!0,function(a,b,c){"use strict";var d=a("lodash"),e=a("rxjs"),f=a("typescript-angular-utilities"),g=a("../../services/parentChild/parentChild.service"),h=a("./dataSources/dataSources.module"),i=a("./sorts/sorts.module"),j=a("../../services/breakpoints/breakpoint");b.componentName="rlCardContainer",b.controllerName="CardContainerController",b.defaultMaxColumnSorts=2,b.defaultSelectionTitle="Select card";var k=function(){function a(a,c,f,g,h,j,k){var l=this;this.$scope=a,this.object=g,this.array=h,this.dataPagerFactory=j,this.parentChild=k,this.numberSelected=0,this.addViewData=function(){d.each(l.dataSource.rawDataSet,function(a){d.isUndefined(a.viewData)&&(a.viewData={selected:!1})}),l.updateDisabledSelections()},this.clearFilteredSelections=function(){var a=d.difference(l.dataSource.rawDataSet,l.dataSource.filteredDataSet);d.each(a,function(a){d.isUndefined(a.viewData)&&(a.viewData={selected:!1}),a.viewData.selected=!1,a.viewData.selectionTitle=b.defaultSelectionTitle}),l.updateSelected()},this.updateSelected=function(){l.numberSelected=d.filter(l.dataSource.filteredDataSet,function(a){return null!=a.viewData&&a.viewData.selected}).length,l.numberSelectedChanges.next(l.numberSelected)},this.updateDisabledSelections=function(){l.disablingSelections&&d.each(l.dataSource.rawDataSet,function(a){var c=l.disableSelection({item:a});a.viewData.disabledSelection=null!=c,a.viewData.selectionTitle=a.viewData.disabledSelection?c:b.defaultSelectionTitle})},null!=this.builder&&this.builder.setCardContainerProperties(this),this.makeCard=f,this.dataSource=this.source,this.permanentFooters=d.isUndefined(this.permanentFooters)?!1:this.permanentFooters,this.maxColSorts=null!=this.maxColumnSorts?this.maxColumnSorts:b.defaultMaxColumnSorts,this.disablingSelections=g.isNullOrWhitespace(c.disableSelection)===!1,this.sortDirection=i.SortDirection,this.numberSelectedChanges=new e.Subject,this.syncFilters(),this.setupPaging(),this.buildColumnSizes(),this.selectableCards&&(a.$on("updateDisabledSelections",this.updateDisabledSelections),this.dataSource.changed.subscribe(this.addViewData),this.dataSource.redrawing.subscribe(this.clearFilteredSelections),this.addViewData(),this.selectionColumn={label:null,size:null,getValue:function(a){return a.viewData.selected},flipSort:!0}),null==this.dataSource.sorts&&(this.dataSource.sorts=[]),a.containerData=this.containerData}return a.prototype.sortSelected=function(){this.sort(this.selectionColumn)},a.prototype.openCard=function(){var a=this.parentChild.getAllChildBehaviors(this.dataSource.dataSet);return d.every(d.map(a,function(a){return a.close()}))},a.prototype.sort=function(a){var b=this.dataSource.sorts,c=b[0];if(null!=c&&c.column===a)c.direction=i.SortDirection.toggle(c.direction),c.direction===i.SortDirection.none&&(this.clearVisualSortIndicator(c),c=null,null!=a.secondarySorts?b.length=0:b.shift());else{this.array.remove(b,function(b){return a===b.column});var e={column:a,direction:i.SortDirection.ascending};b.unshift(e),c=e}if(this.updateVisualColumnSorting(),null!=c&&null!=a.secondarySorts){b.length=0;var f=this.buildSecondarySorts(c.direction,a.secondarySorts);b.push(c),b.push.apply(b,f)}else this.dataSource.sorts=d.take(b,this.maxColSorts);this.dataSource.onSortChange()},a.prototype.selectionChanged=function(){this.updateSelected(),this.selectionChangedEvent()},a.prototype.syncFilters=function(){this.object.isNullOrEmpty(this.filters)?null!=this.dataSource.filters&&(this.filters=this.dataSource.filters):(this.dataSource.filters=this.filters,this.dataSource.refresh())},a.prototype.setupPaging=function(){null!=this.paging?this.paging===!1?this.dataSource.pager=null:(this.builder._pager=this.dataPagerFactory.getInstance(),this.dataSource.pager=this.builder._pager):this.dataSource.pager&&(this.builder._pager=this.dataSource.pager),this.dataSource.initPager()},a.prototype.buildColumnSizes=function(){var a=this;d.each(this.columns,function(b){var c=b.size;d.isObject(c)?(c[j.xs]=a.object.valueOrDefault(c[j.xs],0),c[j.sm]=a.object.valueOrDefault(c[j.sm],c[j.xs]),c[j.md]=a.object.valueOrDefault(c[j.md],c[j.sm]),c[j.lg]=a.object.valueOrDefault(c[j.lg],c[j.md])):b.size={xs:c,sm:c,md:c,lg:c}})},a.prototype.lookupColumn=function(a){return d.find(this.columns,function(b){return b.label===a})},a.prototype.buildSecondarySorts=function(a,b){var c=this,e=b[i.SortDirection.getFullName(a)];return d.map(e,function(a){return{direction:a.direction,column:c.lookupColumn(a.column)}})},a.prototype.updateVisualColumnSorting=function(){var a=this;d.each(this.dataSource.sorts,function(b,c){0===c?a.updateVisualSortIndicator(b):a.clearVisualSortIndicator(b)})},a.prototype.updateVisualSortIndicator=function(a){a.column.sortDirection=a.direction},a.prototype.clearVisualSortIndicator=function(a){a.column.sortDirection=null},a.$inject=["$scope","$attrs","$transclude",f.downgrade.objectServiceName,f.downgrade.arrayServiceName,h.dataPager.factoryName,g.serviceName],a}();return b.CardContainerController=k,b.cardContainer={transclude:{containerHeaderSlot:"?rlContainerHeader",containerFooterSlot:"?rlContainerFooter",contentSlot:"?rlCardContent",footerSlot:"?rlCardFooter"},template:a("./cardContainer.html"),controller:b.controllerName,controllerAs:"cardContainer",bindings:{builder:"=?",cardController:"@",cardControllerAs:"@",cardAs:"@",selectionChangedEvent:"&selectionChanged"}},c.exports}),System.registerDynamic("components/components/cardContainer/sorts/sorts.module",["angular","./mergeSort/mergeSort.service","./sorter/sorter.service","./sort","./sortDirection"],!0,function(a,b,c){"use strict";function d(a){for(var c in a)b.hasOwnProperty(c)||(b[c]=a[c])}var e=a("angular"),f=a("./mergeSort/mergeSort.service");b.mergeSort=f;var g=a("./sorter/sorter.service");return b.sorter=g,d(a("./sort")),d(a("./sortDirection")),b.moduleName="rl.ui.components.cardContainer.sorts",e.module(b.moduleName,[f.moduleName,g.moduleName]),c.exports}),System.registerDynamic("components/components/cardContainer/dataSources/clientServerDataSource/clientServerDataSource.service",["angular","lodash","typescript-angular-utilities","../asyncDataSource.service","../dataSourceProcessor.service"],!0,function(a,b,c){"use strict";function d(a,b,c,d){return{getInstance:function(e,f,g,h){return new k(e,f,g,h,a,b,c,d)}}}var e=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=a("angular"),g=a("lodash"),h=a("typescript-angular-utilities"),i=a("../asyncDataSource.service"),j=a("../dataSourceProcessor.service");b.moduleName="rl.ui.components.cardContainer.dataSources.clientServerDataSource",b.factoryName="clientServerDataSource";var k=function(a){function b(b,c,d,e,f,h,i,j){a.call(this,b,f,h,j),this.searchFilter=c,this.getFilterModel=d,this.validateModel=e,this.object=i,this.minSearchLength=4,this.getFilterModel=this.getFilterModel||function(){return null},this.validateModel=this.validateModel||function(){return!0},this.countFilterGroups=!0,this.search=c.searchText,this.filterModel=g.clone(this.getFilterModel()),c.minSearchLength=this.minSearchLength}return e(b,a),b.prototype.refresh=function(){this.searchFilter.searchText!==this.search||this.filterModelChanged()?this.reload():a.prototype.refresh.call(this)},b.prototype.reload=function(){this.search=this.searchFilter.searchText,this.filterModel=g.clone(this.getFilterModel());var b=!this.object.isNullOrEmpty(this.search)&&this.search.length>=this.minSearchLength,c=null!=this.filterModel&&this.validateModel(this.filterModel);return b||c?void a.prototype.reload.call(this):void this.resolveReload(null)},b.prototype.filterModelChanged=function(){return!this.object.areEqual(this.getFilterModel(),this.filterModel)},b.prototype.getParams=function(){var a=this.getFilterModel();return null!=a?a.search=this.search:a=this.search,a},b}(i.AsyncDataSource);return b.ClientServerDataSource=k,d.$inject=[j.processorServiceName,h.downgrade.arrayServiceName,h.downgrade.objectServiceName,h.downgrade.synchronizedRequestsServiceName],b.clientServerDataSourceFactory=d,f.module(b.moduleName,[h.downgrade.moduleName]).factory(b.factoryName,d),c.exports}),System.registerDynamic("components/components/cardContainer/dataSources/dataPager/dataPager.service",["angular","lodash","rxjs"],!0,function(a,b,c){"use strict";function d(){return{getInstance:function(){return new h}}}var e=a("angular"),f=a("lodash"),g=a("rxjs");b.moduleName="rl.ui.components.cardContainer.dataSources.dataPager",b.factoryName="dataPager",b.defaultPageSize=10;var h=function(){function a(){this._pageNumber=1,this._pageSize=b.defaultPageSize,this.pageNumberChanges=new g.Subject,this.pageSizeChanges=new g.Subject}return Object.defineProperty(a.prototype,"pageNumber",{get:function(){return this._pageNumber},set:function(a){this._pageNumber=a,this.pageNumberChanges.next(a)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"pageSize",{get:function(){return this._pageSize},set:function(a){this._pageSize=a,this.pageSizeChanges.next(a)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"startItem",{get:function(){return(this.pageNumber-1)*this.pageSize},enumerable:!0,configurable:!0}),a.prototype.filter=function(a){return f(a).drop(this.startItem).take(this.pageSize).value()},a}();return b.DataPager=h,b.dataPagerFactory=d,e.module(b.moduleName,[]).factory(b.factoryName,d),c.exports}),System.registerDynamic("components/components/cardContainer/dataSources/dataServiceDataSource/dataServiceDataSource.service",["angular","lodash","typescript-angular-utilities","../asyncDataSource.service","../dataSourceProcessor.service"],!0,function(a,b,c){"use strict";function d(a,b,c){return{getInstance:function(d){return new k(d,a,b,c)}}}var e=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=a("angular"),g=a("lodash"),h=a("typescript-angular-utilities"),i=a("../asyncDataSource.service"),j=a("../dataSourceProcessor.service");b.moduleName="rl.ui.components.cardContainer.dataSources.dataServiceDataSource",b.factoryName="dataServiceDataSource";var k=function(a){function b(b,c,d,e){a.call(this,b,c,d,e),this.countFilterGroups=!0,g.isFunction(b)&&this.reload()}return e(b,a),b}(i.AsyncDataSource);return b.DataServiceDataSource=k,d.$inject=[j.processorServiceName,h.downgrade.arrayServiceName,h.downgrade.synchronizedRequestsServiceName],b.dataServiceDataSourceFactory=d,f.module(b.moduleName,[h.downgrade.moduleName]).factory(b.factoryName,d),c.exports}),System.registerDynamic("components/components/cardContainer/dataSources/serverSideDataSource/serverSideDataSource.service",["angular","lodash","typescript-angular-utilities","../asyncDataSource.service","../dataSourceProcessor.service","../../sorts/sort"],!0,function(a,b,c){"use strict";function d(a,b,c,d){return{getInstance:function(e){return new l(e,a,b,c,d)}}}var e=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=a("angular"),g=a("lodash"),h=a("typescript-angular-utilities"),i=a("../asyncDataSource.service"),j=a("../dataSourceProcessor.service"),k=a("../../sorts/sort");b.moduleName="rl.ui.components.cardContainer.dataSources.serverSideDataSource",b.factoryName="serverSideDataSource";var l=function(a){function b(b,c,d,e,f){a.call(this,b,c,d,f),this.object=e}return e(b,a),b.prototype.refresh=function(){this.reload()},b.prototype.getParams=function(){var a=this.array.toDictionary(this.filters,function(a){return a.type});return{filters:g.mapValues(a,function(a){return g.isFunction(a.serialize)?a.serialize():null}),sorts:g.map(this.sorts,function(a){return{column:a.column.label,direction:k.SortDirection.getFullName(a.direction)}}),paging:{pageNumber:this.pager.pageNumber,pageSize:this.pager.pageSize}}},b.prototype.resolveReload=function(b){var c=b;a.prototype.resolveReload.call(this,c.dataSet),this.setProcessedData({count:c.count,filteredDataSet:c.dataSet,dataSet:c.dataSet}),this.redrawing.next(null)},b}(i.AsyncDataSource);return b.ServerSideDataSource=l,d.$inject=[j.processorServiceName,h.downgrade.arrayServiceName,h.downgrade.objectServiceName,h.downgrade.synchronizedRequestsServiceName],b.serverSideDataSourceFactory=d,f.module(b.moduleName,[h.downgrade.moduleName]).factory(b.factoryName,d),c.exports}),System.registerDynamic("components/components/cardContainer/dataSources/simpleDataSource/simpleDataSource.service",["angular","typescript-angular-utilities","../dataSourceBase.service","../dataSourceProcessor.service"],!0,function(a,b,c){"use strict";function d(a,b){return{getInstance:function(c){return new j(c,a,b)}}}var e=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=a("angular"),g=a("typescript-angular-utilities"),h=a("../dataSourceBase.service"),i=a("../dataSourceProcessor.service");b.moduleName="rl.ui.components.cardContainer.dataSources.simpleDataSource",b.factoryName="simpleDataSource";var j=function(a){function b(b,c,d){a.call(this,c,d),this.countFilterGroups=!1,this.rawDataSet=b,this.processData()}return e(b,a),b}(h.DataSourceBase);return b.SimpleDataSource=j,d.$inject=[i.processorServiceName,g.downgrade.arrayServiceName],b.simpleDataSourceFactory=d,f.module(b.moduleName,[g.downgrade.moduleName]).factory(b.factoryName,d),c.exports}),System.registerDynamic("components/components/cardContainer/dataSources/asyncDataSource.service",["rxjs","./dataSourceBase.service"],!0,function(a,b,c){"use strict";var d=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},e=a("rxjs"),f=a("./dataSourceBase.service"),g=function(a){function b(b,c,d,f){a.call(this,c,d),this.synchronizedRequests=f.getInstance(b,this.resolveReload.bind(this)),this.reloaded=new e.Subject}return d(b,a),Object.defineProperty(b.prototype,"getDataSet",{set:function(a){this.synchronizedRequests.dataProvider=a},enumerable:!0,configurable:!0}),b.prototype.reload=function(){this.dataSet=null,this.rawDataSet=null,this.loadingDataSet=!0,this.synchronizedRequests.getData(this.getParams())},b.prototype.resolveReload=function(a){this.loadingDataSet=!1,this.rawDataSet=a,this.processData(),this.reloaded.next(null),this.redrawing.next(null),this.changed.next(null)},b.prototype.getParams=function(){return null},b}(f.DataSourceBase);return b.AsyncDataSource=g,c.exports}),System.registerDynamic("components/components/cardContainer/sorts/sort",["./sortDirection"],!0,function(a,b,c){"use strict";function d(a){for(var c in a)b.hasOwnProperty(c)||(b[c]=a[c])}return d(a("./sortDirection")),c.exports}),System.registerDynamic("components/components/cardContainer/dataSources/smartDataSource/smartDataSource.service",["angular","lodash","typescript-angular-utilities","../asyncDataSource.service","../dataSourceProcessor.service","../../sorts/sort"],!0,function(a,b,c){"use strict";function d(a,b,c,d){return{getInstance:function(e){return new l(e,a,b,c,d)}}}var e=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=a("angular"),g=a("lodash"),h=a("typescript-angular-utilities"),i=a("../asyncDataSource.service"),j=a("../dataSourceProcessor.service"),k=a("../../sorts/sort");b.moduleName="rl.ui.components.cardContainer.dataSources.smartDataSource",b.factoryName="smartDataSource";var l=function(a){function b(b,c,d,e,f){a.call(this,b,c,d,f),this.object=e,this.throttled=!0,this.throttleLimit=200}return e(b,a),Object.defineProperty(b.prototype,"filters",{get:function(){return this._filters},set:function(a){this._filters=a,this.setupSubscriptions()},enumerable:!0,configurable:!0}),b.prototype.onSortChange=function(){this.throttled?this.reload():a.prototype.onSortChange.call(this)},b.prototype.refresh=function(){this.throttled?this.reload():a.prototype.refresh.call(this)},b.prototype.getParams=function(){return this.updateAppliedFilters(),{filters:this.appliedFilters,sorts:g.map(this.sorts,function(a){return{column:a.column.label,direction:k.SortDirection.getFullName(a.direction)}}),paging:{pageNumber:1,pageSize:this.throttleLimit}}},b.prototype.updateAppliedFilters=function(){var a=this.array.toDictionary(this.filters,function(a){return a.type});this.appliedFilters=g.mapValues(a,function(a){return g.isFunction(a.serialize)?a.serialize():null}),this.appliedFilters=g.omitBy(this.appliedFilters,function(a){return null==a})},b.prototype.setupSubscriptions=function(){var a=this;g.each(this.subscriptions,function(a){a.unsubscribe()}),this.subscriptions=[],g.each(this.filters,function(b){g.isFunction(b.subscribe)&&a.subscriptions.push(b.subscribe(function(){a.onFilterChange(b)}))})},b.prototype.onFilterChange=function(a){g.has(this.appliedFilters,a.type)&&this.reload()},b.prototype.resolveReload=function(b){var c=b;this.throttled=c.count>c.dataSet.length,a.prototype.resolveReload.call(this,c.dataSet),this.count=c.count,this.isEmpty=c.isEmpty},b}(i.AsyncDataSource);return b.SmartDataSource=l,d.$inject=[j.processorServiceName,h.downgrade.arrayServiceName,h.downgrade.objectServiceName,h.downgrade.synchronizedRequestsServiceName],b.smartDataSourceFactory=d,f.module(b.moduleName,[h.downgrade.moduleName]).factory(b.factoryName,d),c.exports}),System.registerDynamic("components/components/cardContainer/sorts/sortDirection",[],!0,function(a,b,c){"use strict";var d=function(){function a(a){this.value=a}return a.toggle=function(b){return b===a.ascending?a.descending:b===a.descending?a.none:a.ascending},a.getFullName=function(b){return b===a.ascending?"ascending":b===a.descending?"descending":"none"},a.none=new a(0),a.ascending=new a(1),a.descending=new a(2),a}();return b.SortDirection=d,c.exports}),System.registerDynamic("components/components/cardContainer/sorts/mergeSort/mergeSort.service",["angular","typescript-angular-utilities"],!0,function(a,b,c){"use strict";var d=a("angular"),e=a("typescript-angular-utilities");b.moduleName="rl.ui.components.cardContainer.sorts.mergeSort",b.serviceName="mergeSort";var f=function(){function a(){}return a.prototype.sort=function(a,b){if(a.length<2)return a;null==b&&(b=this.defaultCompare);var c,d,e;return c=a.length/2,d=this.sort(a.slice(0,c),b),e=this.sort(a.slice(c,a.length),b),this.merge(d,e,b)},a.prototype.defaultCompare=function(a,b){return b>a?e.types.CompareResult.less:a>b?e.types.CompareResult.greater:e.types.CompareResult.equal},a.prototype.merge=function(a,b,c){for(var d=[];a.length&&b.length;)c(a[0],b[0])===e.types.CompareResult.greater?d.push(b.shift()):d.push(a.shift());return a.length&&d.push.apply(d,a),b.length&&d.push.apply(d,b),d},a}();return b.MergeSort=f,d.module(b.moduleName,[]).service(b.serviceName,f),c.exports}),System.registerDynamic("components/components/cardContainer/sorts/sorter/sorter.service",["angular","lodash","typescript-angular-utilities","../sortDirection","../mergeSort/mergeSort.service"],!0,function(a,b,c){"use strict";var d=a("angular"),e=a("lodash"),f=a("typescript-angular-utilities"),g=f.services.transform.transform,h=a("../sortDirection"),i=a("../mergeSort/mergeSort.service");b.moduleName="rl.ui.components.cardContainer.sorts.sorter",b.serviceName="sorter";var j=function(){function a(a){this.mergeSort=a}return a.prototype.sort=function(a,b){var c=this;if(null===b)return a;if(e.isArray(b)){var d=e.clone(b);return d.reverse(),e.reduce(d,function(a,b){return c.singleSort(a,b)},a)}return this.singleSort(a,b)},a.prototype.singleSort=function(a,b){var c=this.buildSortFunction(b);return this.mergeSort.sort(a,c)},a.prototype.buildSortFunction=function(a){return function(b,c){if(a.direction===h.SortDirection.none)return f.types.CompareResult.equal;var d=g.getValue(b,a.column.getValue),e=g.getValue(c,a.column.getValue),i=f.types.CompareResult.greater,j=f.types.CompareResult.less,k=a.direction===h.SortDirection.descending,l=a.column.flipSort;return!k&&!l||k&&l||(i=f.types.CompareResult.less,j=f.types.CompareResult.greater),d>e?i:e>d?j:f.types.CompareResult.equal}},a.$inject=[i.serviceName],a}();return b.Sorter=j,d.module(b.moduleName,[]).service(b.serviceName,j),c.exports}),System.registerDynamic("components/components/cardContainer/dataSources/dataSourceProcessor.service",["lodash","typescript-angular-utilities","../sorts/sorter/sorter.service"],!0,function(a,b,c){"use strict";var d=a("lodash"),e=a("typescript-angular-utilities"),f=a("../sorts/sorter/sorter.service");b.processorServiceName="dataSourceProcessor";var g=function(){function a(a,b){this.object=a,this.sorter=b}return a.prototype.process=function(a,b,c,e){var f=e;f=this.sort(f,a),this.object.isNullOrEmpty(b)===!1&&(f=d.reduce(b,function(a,b){return d.filter(a,b.filter.bind(b))},f));var g={count:null!=f?f.length:0,filteredDataSet:f,dataSet:f};return g.dataSet=this.page(f,c),g},a.prototype.processAndCount=function(a,b,c,e){var f=this;if(this.object.isNullOrEmpty(b)||d.some(b,function(a){return d.isFunction(a.updateOptionCounts)})===!1)return this.process(a,b,c,e);var g=e;g=this.sort(g,a);var h=this.wrapData(g);d.each(b,function(a){d.each(h,function(b){b.filterData[a.type]=a.filter(b.data)})}),d.each(b,function(a){if(d.isFunction(a.updateOptionCounts)){var b=d.filter(h,function(b){var c=d.omit(b.filterData,a.type);return d.every(d.values(c))});a.updateOptionCounts(f.unwrapData(b))}}),h=d.filter(h,function(a){return d.every(d.values(a.filterData))}),g=this.unwrapData(h);var i={count:g.length,filteredDataSet:g,dataSet:g};return i.dataSet=this.page(g,c),i},a.prototype.sort=function(a,b){return this.object.isNullOrEmpty(b)===!1?this.sorter.sort(a,b):a},a.prototype.page=function(a,b){return null!=b?b.filter(a):a},a.prototype.wrapData=function(a){return d.map(a,function(a){return{data:a,filterData:{}}})},a.prototype.unwrapData=function(a){return d.map(a,function(a){return a.data})},a.$inject=[e.downgrade.objectServiceName,f.serviceName],a}();return b.DataSourceProcessor=g,c.exports}),System.registerDynamic("components/components/cardContainer/dataSources/dataSourceBase.service",["rxjs","typescript-angular-utilities"],!0,function(a,b,c){"use strict";var d=a("rxjs"),e=a("typescript-angular-utilities"),f=e.services.object,g=function(){function a(a,b){this.dataSourceProcessor=a,this.array=b,this.sorts=[],this.filters=[],this._count=0,this.countFilterGroups=!1,this.loadingDataSet=!1,this.countChanges=new d.Subject,this.redrawing=new d.Subject,this.changed=new d.Subject,this.added=new d.Subject,this.removed=new d.Subject,this.replaced=new d.Subject}return Object.defineProperty(a.prototype,"count",{get:function(){return this._count},set:function(a){this._count=a,this.countChanges.next(a)},enumerable:!0,configurable:!0}),a.prototype.initPager=function(){this.pager&&(this.pager.pageSizeChanges.subscribe(this.onPagingChange.bind(this)),this.pager.pageNumberChanges.subscribe(this.onPagingChange.bind(this)))},Object.defineProperty(a.prototype,"needsRefinedSearch",{get:function(){var a=f.objectUtility.isNullOrEmpty(this.dataSet),b=this._isEmpty===!1||null!=this.rawDataSet&&this.rawDataSet.length<this.count;return a&&b},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"isEmpty",{get:function(){return f.objectUtility.isNullOrEmpty(this.rawDataSet)&&(null!=this._isEmpty?this._isEmpty:!0)},set:function(a){this._isEmpty=a},enumerable:!0,configurable:!0}),a.prototype.processData=function(){var a;a=this.countFilterGroups?this.dataSourceProcessor.processAndCount(this.sorts,this.filters,this.pager,this.rawDataSet):this.dataSourceProcessor.process(this.sorts,this.filters,this.pager,this.rawDataSet),this.setProcessedData(a)},a.prototype.processDataNoClientFilters=function(){var a;a=this.countFilterGroups?this.dataSourceProcessor.processAndCount(this.sorts,null,this.pager,this.rawDataSet):this.dataSourceProcessor.process(this.sorts,null,this.pager,this.rawDataSet),this.setProcessedData(a)},a.prototype.setProcessedData=function(a){this.count=a.count,this.dataSet=a.dataSet,this.filteredDataSet=a.filteredDataSet},a.prototype.onSortChange=function(){this.loadingDataSet||(this.filteredDataSet=this.dataSourceProcessor.sort(this.filteredDataSet,this.sorts),this.dataSet=this.dataSourceProcessor.page(this.filteredDataSet,this.pager),this.redrawing.next(null))},a.prototype.onPagingChange=function(){this.loadingDataSet||(this.dataSet=this.dataSourceProcessor.page(this.filteredDataSet,this.pager),this.redrawing.next(null))},a.prototype.refresh=function(){this.loadingDataSet||(this.processData(),this.redrawing.next(null))},a.prototype.remove=function(a){var b=this.array.remove(this.rawDataSet,a);null!=b&&(this.removed.next(null),this.changed.next(null),this.refresh())},a.prototype.push=function(a){this.rawDataSet.push(a),this.added.next(null),this.changed.next(null),this.refresh()},a.prototype.replace=function(a,b){var c=this.rawDataSet.indexOf(a);c>=0&&(this.array.replace(this.rawDataSet,a,b),this.replaced.next(null),this.changed.next(null),this.refresh())},a}();return b.DataSourceBase=g,c.exports}),System.registerDynamic("components/components/cardContainer/dataSources/dataSources.module",["angular","typescript-angular-utilities","../sorts/sorts.module","./clientServerDataSource/clientServerDataSource.service","./dataPager/dataPager.service","./dataServiceDataSource/dataServiceDataSource.service","./serverSideDataSource/serverSideDataSource.service","./simpleDataSource/simpleDataSource.service","./smartDataSource/smartDataSource.service","./dataSourceProcessor.service","./dataSourceBase.service"],!0,function(a,b,c){"use strict";var d=a("angular"),e=a("typescript-angular-utilities"),f=a("../sorts/sorts.module"),g=a("./clientServerDataSource/clientServerDataSource.service");b.clientServerDataSource=g;var h=a("./dataPager/dataPager.service");b.dataPager=h;var i=a("./dataServiceDataSource/dataServiceDataSource.service");b.dataServiceDataSource=i;var j=a("./serverSideDataSource/serverSideDataSource.service");b.serverSideDataSource=j;var k=a("./simpleDataSource/simpleDataSource.service");b.simpleDataSource=k;var l=a("./smartDataSource/smartDataSource.service");b.smartDataSource=l;var m=a("./dataSourceProcessor.service");b.dataSourceProcessor=m;var n=a("./dataSourceBase.service");return b.dataSourceBase=n,b.moduleName="rl.ui.components.cardContainer.dataSources",d.module(b.moduleName,[e.downgrade.moduleName,f.moduleName,g.moduleName,h.moduleName,i.moduleName,j.moduleName,k.moduleName,l.moduleName]).service(m.processorServiceName,m.DataSourceProcessor),c.exports}),System.registerDynamic("components/components/cardContainer/filters/filterGroup/filterOption/filterOption.html",[],!0,function(a,b,c){return c.exports='<div class="row filter-option" ng-class="{ \'active\': filter.isActive }" ng-click="filter.activate()">\r\n	<div class="col-xs-1">\r\n		<i class=\'fa fa-arrow-right\' ng-show="filter.isActive == true"></i>\r\n	</div>\r\n	<div class="col-xs-1" ng-if="filter.hasIcon" ng-bind-html="filter.option.icon"></div>\r\n	<div ng-class="{ \'col-xs-6\': filter.hasIcon, \'col-xs-7\': !filter.hasIcon }">\r\n		{{filter.option.label}}\r\n	</div>\r\n	<div class="col-xs-3 text-right" ng-show="filter.option.count != null">\r\n		({{filter.option.count}})\r\n	</div>\r\n</div>',c.exports}),System.registerDynamic("components/components/cardContainer/filters/filterGroup/filterOption/filterOption",["angular","./filterOption.html"],!0,function(a,b,c){"use strict";var d=a("angular");b.moduleName="rl.ui.components.cardContainer.filters.filterGroup.filterOption",b.componentName="rlFilterOption";var e={template:a("./filterOption.html"),controllerAs:"filter",bindings:{activate:"&",isActive:"=active",option:"="}};return d.module(b.moduleName,[]).component(b.componentName,e),c.exports}),System.registerDynamic("components/components/cardContainer/filters/filterGroup/modeFilterGroup/modeFilterGroup.service",["angular","lodash","typescript-angular-utilities","../filterGroup.service"],!0,function(a,b,c){"use strict";function d(a){return{getInstance:function(b){return new k(b,a)}}}var e=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=a("angular"),g=a("lodash"),h=a("typescript-angular-utilities"),i=h.services.transform.transform,j=a("../filterGroup.service");b.moduleName="rl.ui.components.cardContainer.filters.filterGroup.modeFilterGroup",b.factoryName="modeFilterGroup";var k=function(a){function b(b,c){a.call(this,b,c),this.getValue=b.getValue,b.options=g.map(b.options,this.buildModeOption.bind(this)),this.initOptions()}return e(b,a),b.prototype.serialize=function(){var a=this.activeOption;return a.displayAll?null:a.value},b.prototype.buildModeOption=function(a){var b=this,c=a;return c.filter=function(a){return c.displayAll?!0:i.getValue(a,b.getValue)===c.value},c},b}(j.FilterGroup);return b.ModeFilterGroup=k,d.$inject=[h.downgrade.objectServiceName],b.modeFilterGroupFactory=d,f.module(b.moduleName,[h.downgrade.moduleName]).factory(b.factoryName,d),c.exports}),System.registerDynamic("components/components/cardContainer/filters/filterGroup/rangeFilterGroup/rangeFilterGroup.service",["angular","lodash","typescript-angular-utilities","../filterGroup.service"],!0,function(a,b,c){"use strict";function d(a){return{getInstance:function(b){return new k(b,a)}}}var e=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=a("angular"),g=a("lodash"),h=a("typescript-angular-utilities"),i=h.services.transform.transform,j=a("../filterGroup.service");b.moduleName="rl.ui.components.cardContainer.filters.filterGroup.rangeFilterGroup",b.factoryName="rangeFilterGroup";var k=function(a){function b(b,c){a.call(this,b,c),this.getValue=b.getValue,b.options=g.map(b.options,this.buildRangeOption.bind(this)),this.initOptions()}return e(b,a),b.prototype.serialize=function(){var a=this.activeOption;return this.isNullOption(a)?null:{highInclusive:a.highInclusive,highExclusive:a.highExclusive,lowInclusive:a.lowInclusive,lowExclusive:a.lowExclusive}},b.prototype.buildRangeOption=function(a){var b=this,c=a;return c.filter=function(c){var d=i.getValue(c,b.getValue),e=!0;return g.isUndefined(a.highExclusive)===!1?e=d<a.highExclusive:g.isUndefined(a.highInclusive)===!1&&(e=d<=a.highInclusive),g.isUndefined(a.lowExclusive)===!1?e=e&&d>a.lowExclusive:g.isUndefined(a.lowInclusive)===!1&&(e=e&&d>=a.lowInclusive),e},c},b.prototype.isNullOption=function(a){return null==a.highInclusive&&null==a.highExclusive&&null==a.lowInclusive&&null==a.lowExclusive},b}(j.FilterGroup);return d.$inject=[h.downgrade.objectServiceName],b.rangeFilterGroupFactory=d,f.module(b.moduleName,[h.downgrade.moduleName]).factory(b.factoryName,d),c.exports}),System.registerDynamic("components/components/cardContainer/filters/filterGroup/filterGroup.service",["lodash","typescript-angular-utilities"],!0,function(a,b,c){"use strict";function d(a){return{getInstance:function(b){return new h(b,a)}}}var e=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=a("lodash"),g=a("typescript-angular-utilities");
b.factoryName="filterGroup";var h=function(a){function b(b,c){a.call(this),this.settings=b,this.object=c,this.template='<rl-filter-group filter-group="filter" source="dataSource"></rl-filter-group>',this.label=b.label,this.type=null!=b.type?b.type:b.label,this.initOptions()}return e(b,a),b.prototype.initOptions=function(){var a=this;this.options=this.settings.options,this.activeOption=this.setDefaultOption(),f.each(this.options,function(b){f.isUndefined(b.type)&&(b.type=b.label),b.type=a.object.toString(b.type).toLowerCase()})},Object.defineProperty(b.prototype,"activeOption",{get:function(){return this._activeOption},set:function(a){this._activeOption=a,this.onChange(!1)},enumerable:!0,configurable:!0}),b.prototype.setDefaultOption=function(){var a=this.options[0];return f.each(this.options,function(b){null!=b.active&&b.active===!0&&(a=b)}),a},b.prototype.filter=function(a){return this.activeOption.filter(a)},b.prototype.serialize=function(){return f.isFunction(this.settings.serialize)?this.settings.serialize():f.isFunction(this.activeOption.serialize)?this.activeOption.serialize():this.activeOption.value},b.prototype.setActiveOption=function(a){a>=0&&a<this.options.length&&(this.activeOption=this.options[a])},b.prototype.setOptionCounts=function(a){f.each(this.options,function(b){f.has(a,b.type)&&(b.count=a[b.type])})},b.prototype.updateOptionCounts=function(a){f.each(this.options,function(b){b.count=f.filter(a,b.filter.bind(b)).length})},b}(g.filters.SerializableFilter);return b.FilterGroup=h,d.$inject=[g.downgrade.objectServiceName],b.filterGroupFactory=d,c.exports}),System.registerDynamic("components/components/cardContainer/filters/filterGroup/filterGroup.directive.html",[],!0,function(a,b,c){return c.exports='<div class="filter-group">\r\n	<div class="row filter-header" ng-click="controller.toggleChildren()">\r\n		<div class="col-sm-12">\r\n			<i class="collapse-icon fa fa-caret-down fa-2x" ng-show="controller.showChildren" title="Hide filter list"></i>\r\n			<i class="collapse-icon fa fa-caret-right fa-2x" ng-hide="controller.showChildren" title="Show filter list"></i>\r\n			<div class="filter-option">\r\n				<div style="display:inline-block" ng-show="controller.hasIcon" ng-bind-html="controller.icon"></div>\r\n				<h4 style="display: inline-block">{{controller.filterGroup.label}}: {{controller.filterGroup.activeOption.label}}</h4>\r\n			</div>\r\n		</div>\r\n	</div>\r\n	<div ng-show="controller.showChildren" ng-repeat="filterOption in controller.filterGroup.options">\r\n		<rl-filter-option option="filterOption" active="filterGroup.activeOption === filterOption" activate="controller.selectOption(filterOption)"></rl-filter-option>\r\n	</div>\r\n</div>\r\n',c.exports}),System.registerDynamic("components/components/cardContainer/filters/filterGroup/filterGroup.directive",["./filterGroup.directive.html"],!0,function(a,b,c){"use strict";b.componentName="rlFilterGroup",b.controllerName="FilterGroupController";var d=function(){function a(a){this.$scope=a,this.hasIcon=null!=this.icon&&""!==this.icon,this.showChildren=!0}return a.prototype.toggleChildren=function(){this.showChildren=!this.showChildren},a.prototype.selectOption=function(a){this.filterGroup.activeOption=a,this.showChildren=!1,null!=this.source?this.source.refresh():this.$scope.$emit("dataSource.requestRefresh")},a.$inject=["$scope"],a}();return b.FilterGroupController=d,b.filterGroup={template:a("./filterGroup.directive.html"),controller:b.controllerName,controllerAs:"controller",bindings:{icon:"=",filterGroup:"=",source:"="}},c.exports}),System.registerDynamic("components/components/cardContainer/filters/filterGroup/filterGroup.module",["angular","typescript-angular-utilities","./filterOption/filterOption","./modeFilterGroup/modeFilterGroup.service","./rangeFilterGroup/rangeFilterGroup.service","./filterGroup.service","./filterGroup.directive"],!0,function(a,b,c){"use strict";function d(a){for(var c in a)b.hasOwnProperty(c)||(b[c]=a[c])}var e=a("angular"),f=a("typescript-angular-utilities"),g=a("./filterOption/filterOption");b.filterOption=g;var h=a("./modeFilterGroup/modeFilterGroup.service");b.modeFilterGroup=h;var i=a("./rangeFilterGroup/rangeFilterGroup.service");b.rangeFilterGroup=i;var j=a("./filterGroup.service"),k=a("./filterGroup.directive");return d(a("./filterGroup.directive")),d(a("./filterGroup.service")),b.moduleName="rl.ui.components.cardContainer.filters.filterGroup",e.module(b.moduleName,[f.downgrade.moduleName,g.moduleName,h.moduleName,i.moduleName]).factory(j.factoryName,j.filterGroupFactory).component(k.componentName,k.filterGroup).controller(k.controllerName,k.FilterGroupController),c.exports}),System.registerDynamic("components/components/cardContainer/filters/selectFilter/selectFilter.service",["typescript-angular-utilities"],!0,function(a,b,c){"use strict";function d(){return{getInstance:function(a){return new h(a)}}}var e=a("typescript-angular-utilities"),f=e.services.object,g=e.services.transform.transform;b.factoryName="rlSelectFilterFactory";var h=function(){function a(a){this.type="selectFilter",this.valueSelector=a.valueSelector,this.comparer=a.comparer,this.options=a.options,this.getOptions=a.getOptions,this.label=a.label,this.displayNameSelector=a.displayNameSelector,this.nullOption=a.nullOption,this.template='<rl-select-filter filter="filter" source="dataSource" options="filter.options" get-options="filter.getOptions()"\n										   label="{{filter.label}}" selector="filter.displayNameSelector" null-option="{{filter.nullOption}}"></rl-select-filter>'}return a.prototype.filter=function(a){return null==this.selectedValue?!0:null!=this.comparer?this.comparer(this.getValue(a),this.selectedValue):f.objectUtility.areEqual(this.getValue(a),this.selectedValue)},a.prototype.getValue=function(a){return g.getValue(a,this.valueSelector)},a}();return b.selectFilterFactory=d,c.exports}),System.registerDynamic("components/components/cardContainer/filters/selectFilter/selectFilter.html",[],!0,function(a,b,c){return c.exports='<div class="filter-group">\r\n	<rl-select ng-model="filter.selectedValue" options="filter.options" label="{{filter.label}}"\r\n			   transform="filter.transform" get-options="filter.getOptions()" null-option="{{filter.nullOption}}" item-as="{{filter.itemAs}}" template="filter.template"></rl-select>\r\n</div>',c.exports}),System.registerDynamic("components/components/cardContainer/filters/selectFilter/selectFilter.component",["../../../../services/jquery/jquery.service","./selectFilter.html"],!0,function(a,b,c){"use strict";var d=a("../../../../services/jquery/jquery.service");b.componentName="rlSelectFilter",b.controllerName="SelectFilterController";var e=function(){function a(a,b,c){var d=this;this.$scope=a,this.transform=this.transform||this.selector,b(function(a){a.length&&(d.template=c.getHtml(a))})}return Object.defineProperty(a.prototype,"selectedValue",{get:function(){return this.filter.selectedValue},set:function(a){this.filter.selectedValue=a,null!=this.source?this.source.refresh():this.$scope.$emit("dataSource.requestRefresh")},enumerable:!0,configurable:!0}),a.$inject=["$scope","$transclude",d.serviceName],a}();return b.SelectFilterController=e,b.selectFilter={transclude:!0,template:a("./selectFilter.html"),controller:b.controllerName,controllerAs:"filter",bindings:{filter:"<",options:"<?",getOptions:"&",source:"<?",label:"@",transform:"<?",nullOption:"@",itemAs:"@",selector:"<?"}},c.exports}),System.registerDynamic("components/components/cardContainer/filters/selectFilter/selectFilter.module",["angular","./selectFilter.service","./selectFilter.component"],!0,function(a,b,c){"use strict";function d(a){for(var c in a)b.hasOwnProperty(c)||(b[c]=a[c])}var e=a("angular"),f=a("./selectFilter.service"),g=a("./selectFilter.component");return b.moduleName="rl.ui.components.cardContainer.filters.selectFilter",d(a("./selectFilter.service")),d(a("./selectFilter.component")),e.module(b.moduleName,[]).factory(f.factoryName,f.selectFilterFactory).component(g.componentName,g.selectFilter).controller(g.controllerName,g.SelectFilterController),c.exports}),System.registerDynamic("components/components/cardContainer/filters/dateFilter/dateFilter.service",["moment","typescript-angular-utilities"],!0,function(a,b,c){"use strict";function d(a){return{getInstance:function(b){return new h(b,a)}}}var e=a("moment"),f=a("typescript-angular-utilities"),g=f.services.transform.transform;b.factoryName="rlDateFilterFactory";var h=function(){function a(a,b){this.dateUtility=b,this.valueSelector=a.valueSelector,this.type=a.type,this.clearButton=a.clearButton,this.includeDateRange=a.includeDateRange,this.includeTime=null!=a.includeTime?a.includeTime:!1,this.label=a.label,this.template='<rl-date-filter filter="filter" source="dataSource" label="{{filter.label}}" include-time="filter.includeTime"\n									     include-date-range="filter.includeDateRange" clear-button="filter.clearButton"></rl-date-filter>'}return a.prototype.filter=function(a){if(!this.dateUtility.isDate(this.selectedDate1))return!0;if(this.dateRange){var b=this.getValue(a),c=void 0;return c=this.includeTime?e(this.selectedDate1):e(this.selectedDate1).add(1,"days"),this.dateUtility.dateInRange(b,this.selectedDate2,this.selectedDate1)}return this.includeTime?this.dateUtility.sameDateTime(this.getValue(a),this.selectedDate1):this.dateUtility.sameDate(this.getValue(a),this.selectedDate1)},a.prototype.getValue=function(a){return g.getValue(a,this.valueSelector)},a}();return d.$inject=[f.downgrade.dateServiceName],b.dateFilterFactory=d,c.exports}),System.registerDynamic("components/components/cardContainer/filters/dateFilter/dateFilter.html",[],!0,function(a,b,c){return c.exports='<div class="filter-group spinner-container">\r\n	<div class="content-group">\r\n		<label>{{::filter.label}}</label>\r\n		<rl-date-time ng-model="filter.selectedDate1" use-time="filter.includeTime" clear-button="filter.clearButton" on-clear-event="filter.clearCount()"\r\n		class="pull-left"></rl-date-time>\r\n	</div>\r\n	<div ng-if="filter.includeDateRange" class="content-group">\r\n		<label>Add previous</label>\r\n		<div class="input-group">\r\n		<span class="input-group-btn">\r\n			<button  class="btn btn-default" ng-click="filter.decreaseCount();">\r\n				<i class="fa fa-minus"></i>\r\n			</button>\r\n		</span>\r\n		<input type="number" class="form-control" ng-model="filter.count" ng-change="filter.countChange();" />\r\n		<span class="input-group-btn">\r\n			<button class="btn btn-default" ng-click="filter.toggle();">\r\n			{{filter.type}}\r\n			</button>\r\n		</span>\r\n		<span class="input-group-btn">\r\n			<button class="btn btn-default" ng-click="filter.increaseCount();">\r\n				<i class="fa fa-plus"></i>\r\n			</button>\r\n		</span>\r\n		</div>\r\n	</div>\r\n</div>',c.exports}),System.registerDynamic("components/components/cardContainer/filters/dateFilter/dateFilter.component",["moment","typescript-angular-utilities","./dateFilter.html"],!0,function(a,b,c){"use strict";var d=a("moment"),e=a("typescript-angular-utilities");b.componentName="rlDateFilter",b.controllerName="rlDateFilterController";var f;!function(a){a[a.Day=0]="Day",a[a.Week=1]="Week",a[a.Month=2]="Month"}(f||(f={}));var g=function(){function a(a,b,c){var d=this;this.$scope=a,this.dateUtility=b,this.$element=c,this.count=0,this.type="days",this.filter.includeTime=this.includeTime,this.inputField=this.$element.find("rl-date-time input"),this.filter.dateRange=!1,null==this.clearButton&&(this.clearButton=!0),a.$watch("filter.selectedDate1",function(a){null==a&&(d.inputField.val(""),d.clearCount()),d.filter.selectedDate1=a,d.refreshDataSource()})}return Object.defineProperty(a.prototype,"selectedDate2",{get:function(){return this.filter.selectedDate2},set:function(a){this.filter.selectedDate2=a,this.refreshDataSource()},enumerable:!0,configurable:!0}),a.prototype.refreshDataSource=function(){null!=this.source?this.source.refresh():this.$scope.$emit("dataSource.requestRefresh")},a.prototype.clearCount=function(){this.count=0,this.countChange()},a.prototype.decreaseCount=function(){this.count-=1,this.setDateTimeNowIfNull(),(this.count<0||0===this.count)&&(this.count=0),this.countChange()},a.prototype.countChange=function(){null==this.count&&(this.count=0),this.count>0?(this.filter.dateRange=!0,this.selectedDate2=d(this.selectedDate1).add(-1*this.count,this.type)):0==this.count&&this.filter.dateRange&&(this.filter.dateRange=!1,this.selectedDate2=null)},a.prototype.increaseCount=function(){this.count+=1,this.setDateTimeNowIfNull(),this.countChange()},a.prototype.setDateTimeNowIfNull=function(){null==this.selectedDate1&&(this.selectedDate1=this.dateUtility.getNow())},a.prototype.toggle=function(){"days"===this.type?this.type="weeks":this.type="days",this.countChange()},a.$inject=["$scope",e.downgrade.dateServiceName,"$element"],a}();return b.DateFilterController=g,b.dateFilter={template:a("./dateFilter.html"),controller:b.controllerName,controllerAs:"filter",bindings:{filter:"<",source:"<?",label:"@",includeTime:"<?",includeDateRange:"<?",clearButton:"<?"}},c.exports}),System.registerDynamic("components/components/cardContainer/filters/dateFilter/dateFilter.module",["angular","typescript-angular-utilities","./dateFilter.service","./dateFilter.component"],!0,function(a,b,c){"use strict";function d(a){for(var c in a)b.hasOwnProperty(c)||(b[c]=a[c])}var e=a("angular"),f=a("typescript-angular-utilities"),g=a("./dateFilter.service"),h=a("./dateFilter.component");return b.moduleName="rl.ui.components.cardContainer.filters.dateFilter",d(a("./dateFilter.service")),d(a("./dateFilter.component")),e.module(b.moduleName,[f.downgrade.moduleName]).factory(g.factoryName,g.dateFilterFactory).component(h.componentName,h.dateFilter).controller(h.controllerName,h.DateFilterController),c.exports}),System.registerDynamic("components/components/cardContainer/filters/columnSearchFilter/columnSearchFilter.service",["angular","typescript-angular-utilities"],!0,function(a,b,c){"use strict";function d(a,b){return{getInstance:function(){return new h(a,b)}}}var e=a("angular"),f=a("typescript-angular-utilities"),g=f.services.transform.transform;b.moduleName="rl.ui.components.cardContainer.filters.columnSearchFilter",b.factoryName="columnSearchFilter",b.filterName="column-search";var h=function(){function a(a,c){this.object=a,this.string=c,this.type=b.filterName}return a.prototype.filter=function(a){if(null==this.column)return!0;var b=this.object.toString(g.getValue(a,this.column.getValue)),c=this.searchText;return this.caseSensitive||(c=c.toLowerCase(),b=b.toLowerCase()),this.string.contains(b,c)},a}();return b.ColumnSearchFilter=h,d.$inject=[f.downgrade.objectServiceName,f.downgrade.stringServiceName],b.columnSearchFilterFactory=d,e.module(b.moduleName,[f.downgrade.moduleName]).factory(b.factoryName,d),c.exports}),System.registerDynamic("components/components/cardContainer/cardContainerBuilder.service",["lodash","typescript-angular-utilities","./dataSources/dataSources.module","./filters/filterGroup/filterGroup.module","./filters/selectFilter/selectFilter.module","./filters/dateFilter/dateFilter.module","./filters/columnSearchFilter/columnSearchFilter.service"],!0,function(a,b,c){"use strict";function d(a){return{useMock:!1,getInstance:function(){return this.useMock?this.mockBuilder:new l(a)},mockBuilder:new l(a)}}var e=a("lodash"),f=a("typescript-angular-utilities"),g=a("./dataSources/dataSources.module"),h=a("./filters/filterGroup/filterGroup.module"),i=a("./filters/selectFilter/selectFilter.module"),j=a("./filters/dateFilter/dateFilter.module"),k=a("./filters/columnSearchFilter/columnSearchFilter.service");b.factoryName="cardContainerBuilder";var l=function(){function a(a){this.$injector=a,this.dataSource=new m(a,this),this.filters=new n(a,this),this._columns=[]}return a.prototype.useSearch=function(a){var b=this.$injector.get(f.downgrade.genericSearchFilterServiceName);return this._searchFilter=b.getInstance(a),this._searchFilter},a.prototype.searchFilter=function(a){return this._searchFilter=a,this._searchFilter},a.prototype.usePaging=function(){this._paging=!0},a.prototype.addColumn=function(a){this._columns.push(a)},a.prototype.useClickableCards=function(){this._clickableCards=!0},a.prototype.usePermanentFooters=function(){this._permanentFooters=!0},a.prototype.useSelection=function(){this._selectableCards=!0},a.prototype.renderFilters=function(){this._renderFilters=!0},a.prototype.saveWhenInvalid=function(){this._saveWhenInvalid=!0},Object.defineProperty(a.prototype,"disableSelection",{set:function(a){this._selectableCards||this.useSelection(),this._disableSelection=a},enumerable:!0,configurable:!0}),a.prototype.setCardContainerProperties=function(a){null!=this._searchFilter&&this._filters.push(this._searchFilter),a.source=this._dataSource,a.filters=this._filters,a.searchFilter=this._searchFilter,a.paging=this._paging,a.columns=this._columns,a.containerData=this.containerData,a.clickableCards=this._clickableCards,a.maxColumnSorts=this.maxColumnSorts,a.permanentFooters=this._permanentFooters,a.selectableCards=this._selectableCards,a.disableSelection=this._disableSelection,a.renderFilters=this._renderFilters,a.saveWhenInvalid=this._saveWhenInvalid,null==a.cardController&&(a.cardController=this.cardController),null==a.cardControllerAs&&(a.cardControllerAs=this.cardControllerAs),null==a.cardAs&&(a.cardAs=this.cardAs)},a}();b.CardContainerBuilder=l;var m=function(){function a(a,b){this.$injector=a,this.parent=b;var c=this.$injector.get(g.simpleDataSource.factoryName);b._dataSource=c.getInstance([])}return a.prototype.buildSimpleDataSource=function(a){var b=this.$injector.get(g.simpleDataSource.factoryName);return this.parent._dataSource=b.getInstance(a),this.parent._dataSource},a.prototype.buildDataServiceDataSource=function(a){var b=this.$injector.get(g.dataServiceDataSource.factoryName);return this.parent._dataSource=b.getInstance(a),this.parent._dataSource},a.prototype.buildClientServerDataSource=function(a,b,c){e.isUndefined(this.parent._searchFilter)&&this.parent.useSearch();var d=this.$injector.get(g.clientServerDataSource.factoryName);return this.parent._dataSource=d.getInstance(a,this.parent._searchFilter,b,c),this.parent._dataSource},a.prototype.buildServerSideDataSource=function(a){var b=this.$injector.get(g.serverSideDataSource.factoryName);return this.parent._dataSource=b.getInstance(a),this.parent._dataSource},a.prototype.buildSmartDataSource=function(a){var b=this.$injector.get(g.smartDataSource.factoryName);return this.parent._dataSource=b.getInstance(a),this.parent._dataSource},a.prototype.buildCustomDataSource=function(a){return this.parent._dataSource=a,this.parent._dataSource},a}();b.DataSourceBuilder=m;var n=function(){function a(a,b){this.$injector=a,this.parent=b,this.parent._filters=[]}return a.prototype.buildFilterGroup=function(a){var b=this.$injector.get(h.factoryName),c=b.getInstance(a);return this.parent._filters.push(c),c},a.prototype.buildModeFilterGroup=function(a){var b=this.$injector.get(h.modeFilterGroup.factoryName),c=b.getInstance(a);return this.parent._filters.push(c),c},a.prototype.buildRangeFilterGroup=function(a){var b=this.$injector.get(h.rangeFilterGroup.factoryName),c=b.getInstance(a);return this.parent._filters.push(c),c},a.prototype.buildSelectFilter=function(a){var b=this.$injector.get(i.factoryName),c=b.getInstance(a);return this.parent._filters.push(c),c},a.prototype.buildDateFilter=function(a){var b=this.$injector.get(j.factoryName),c=b.getInstance(a);return this.parent._filters.push(c),c},a.prototype.buildColumnSearchFilter=function(){var a=this.$injector.get(k.factoryName),b=a.getInstance();return this.parent._filters.push(b),b},a.prototype.addCustomFilter=function(a){this.parent._filters.push(a)},a}();return b.FilterBuilder=n,d.$inject=["$injector"],b.cardContainerBuilderFactory=d,c.exports}),System.registerDynamic("components/components/cardContainer/defaultCardContainerHeader.html",[],!0,function(a,b,c){return c.exports='<div class="row">\r\n	<div class="col-xs-12 col-sm-9">\r\n		<rl-card-search></rl-card-search>\r\n	</div>\r\n	<div class="hidden-xs col-sm-3">\r\n		<rl-page-size></rl-page-size>\r\n	</div>\r\n</div>\r\n',c.exports}),System.registerDynamic("components/components/cardContainer/defaultCardContainerFooter.html",[],!0,function(a,b,c){return c.exports='<div class="row">\r\n	<div ng-if="!cardContainer.selectableCards" class="col-sm-6">\r\n		<rl-item-count></rl-item-count>\r\n	</div>\r\n	<span ng-if="cardContainer.selectableCards">\r\n		<div class="col-sm-3">\r\n			<rl-selection-control></rl-selection-control>\r\n		</div>\r\n		<div class="col-sm-3">\r\n			<rl-item-count></rl-item-count>\r\n		</div>\r\n	</span>\r\n	<div class="col-sm-6">\r\n		<rl-pager class="pull-right"></rl-pager>\r\n	</div>\r\n</div>\r\n',c.exports}),System.registerDynamic("components/components/cardContainer/defaultComponents",["./defaultCardContainerHeader.html","./defaultCardContainerFooter.html"],!0,function(a,b,c){"use strict";return b.headerComponentName="rlDefaultCardContainerHeader",b.footerComponentName="rlDefaultCardContainerFooter",b.defaultContainerHeader={template:a("./defaultCardContainerHeader.html")},b.defaultContainerFooter={template:a("./defaultCardContainerFooter.html")},c.exports}),System.registerDynamic("components/components/cardContainer/cardContainer.module",["angular","typescript-angular-utilities","../../services/parentChild/parentChild.service","./card/card","./cardSearch/cardSearch","./columnHeader/columnHeader","./dataSources/dataSources.module","./filters/filters.module","./itemCount/itemCount","./pager/pager","./pageSize/pageSize","./selectionControl/selectionControl","./sorts/sorts.module","./cardContainer","./cardContainerBuilder.service","./defaultComponents"],!0,function(a,b,c){"use strict";function d(a){for(var c in a)b.hasOwnProperty(c)||(b[c]=a[c])}var e=a("angular"),f=a("typescript-angular-utilities"),g=a("../../services/parentChild/parentChild.service"),h=a("./card/card");b.card=h;var i=a("./cardSearch/cardSearch");b.cardSearch=i;var j=a("./columnHeader/columnHeader");b.columnHeader=j;var k=a("./dataSources/dataSources.module");b.dataSources=k;var l=a("./filters/filters.module");b.filters=l;var m=a("./itemCount/itemCount");b.itemCount=m;var n=a("./pager/pager");b.pager=n;var o=a("./pageSize/pageSize");b.pageSize=o;var p=a("./selectionControl/selectionControl");b.selectionControl=p;var q=a("./sorts/sorts.module");b.sorts=q;var r=a("./cardContainer"),s=a("./cardContainerBuilder.service");b.builder=s;var t=a("./defaultComponents");return d(a("./cardContainer")),b.moduleName="rl.ui.components.cardContainer",e.module(b.moduleName,[k.dataPager.moduleName,f.downgrade.moduleName,g.moduleName,h.moduleName,i.moduleName,j.moduleName,m.moduleName,n.moduleName,o.moduleName,p.moduleName,k.moduleName,l.moduleName,q.moduleName]).component(r.componentName,r.cardContainer).controller(r.controllerName,r.CardContainerController).factory(s.factoryName,s.cardContainerBuilderFactory).component(t.headerComponentName,t.defaultContainerHeader).component(t.footerComponentName,t.defaultContainerFooter),c.exports}),System.registerDynamic("components/components/checkbox/checkbox.html",[],!0,function(a,b,c){return c.exports="<span ng-click=\"checkbox.toggle()\" ng-transclude\r\n	  ng-class=\"{ 'rl-checkbox': !checkbox.checked\r\n	  , 'rl-checkbox-checked': checkbox.checked\r\n	  , 'disabled': checkbox.ngDisabled\r\n	  , 'default-theme': checkbox.useDefaultTheme }\"></span>",c.exports}),System.registerDynamic("components/components/checkbox/checkbox",["angular","../componentsDefaultTheme","./checkbox.html"],!0,function(a,b,c){"use strict";var d=a("angular"),e=a("../componentsDefaultTheme");b.moduleName="rl.ui.components.checkbox",b.componentName="rlCheckbox",b.controllerName="CheckboxController";var f=function(){function a(a){this.useDefaultTheme=a}return Object.defineProperty(a.prototype,"checked",{get:function(){return this.ngModel.$viewValue},set:function(a){this.ngModel.$setViewValue(a)},enumerable:!0,configurable:!0}),a.prototype.toggle=function(){this.active&&!this.ngDisabled&&(this.checked=!this.checked,this.onToggle({value:this.checked}))},a.prototype.$onInit=function(){this.active=null!=this.active?this.active:!0},a.$inject=[e.defaultThemeValueName],a}();b.CheckboxController=f;var g={require:{ngModel:"ngModel"},transclude:!0,template:a("./checkbox.html"),controller:b.controllerName,controllerAs:"checkbox",bindings:{ngDisabled:"<?",active:"<?",onToggle:"&"}};return d.module(b.moduleName,[]).component(b.componentName,g).controller(b.controllerName,f),c.exports}),System.registerDynamic("components/components/commaList/commaList",["angular","lodash","typescript-angular-utilities"],!0,function(a,b,c){"use strict";var d=a("angular"),e=a("lodash"),f=a("typescript-angular-utilities"),g=f.services.transform.transform;b.moduleName="rl.ui.components.commaList",b.componentName="rlCommaList",b.controllerName="CommaListController";var h=function(){function a(a){this.remainingItems=0,this.list=this.getFirstItems(this.inList)}return a.prototype.getFirstItems=function(a){var b=this;null!=this.transform&&(a=e.map(a,function(a){return g.getValue(a,b.transform)}));var c;return null!=this.max?(c=e.take(a,this.max),this.remainingItems=a.length-this.max):c=e.clone(a),c},a.$inject=[f.downgrade.objectServiceName],a}();b.CommaListController=h;var i={template:'\n		<span>\n			<span ng-repeat="item in commaList.list track by $index">\n				<span>{{item}}</span><span ng-hide="$last">, </span>\n			</span>\n			<span ng-show="commaList.remainingItems > 0">... {{commaList.remainingItems}} more items</span>\n		</span>\n	',controller:b.controllerName,controllerAs:"commaList",bindings:{inList:"<list",max:"<?",transform:"<?"}};return d.module(b.moduleName,[f.downgrade.moduleName]).component(b.componentName,i).controller(b.controllerName,h),c.exports}),function(){var a=System.amdDefine;!function(b,c){"use strict";if("function"==typeof a&&a.amd)a("libraries/bootstrap-datetimepicker/bootstrap-datetimepicker",["jquery","moment"],c);else if("object"==typeof exports)c(require("jquery"),require("moment"));else{if(!jQuery)throw new Error("bootstrap-datetimepicker requires jQuery to be loaded first");if(!moment)throw new Error("bootstrap-datetimepicker requires moment.js to be loaded first");c(b.jQuery,moment)}}(this,function(a,b){"use strict";if("undefined"==typeof b)throw new Error("momentjs is required");var c=0,d=function(d,e){var f,g=a.fn.datetimepicker.defaults,h={time:"fa fa-clock-o",date:"fa fa-calendar",up:"fa fa-chevron-up",down:"fa fa-chevron-down"},i=this,j=!1,k=function(){var f,j,k=!1;if(i.options=a.extend({},g,e),i.options.icons=a.extend({},h,i.options.icons),i.element=a(d),m(),!i.options.pickTime&&!i.options.pickDate)throw new Error("Must choose at least one picker");if(i.id=c++,b.locale(i.options.language),i.date=b(),i.unset=!1,i.isInput=i.element.is("input"),i.component=!1,i.element.hasClass("input-group")&&(0===i.element.find(".datepickerbutton").size()?i.component=i.element.find('[class^="input-group-"]'):i.component=i.element.find(".datepickerbutton")),i.format=i.options.format,f=b().localeData(),i.format||(i.format=i.options.pickDate?f.longDateFormat("L"):"",i.options.pickDate&&i.options.pickTime&&(i.format+=" "),i.format+=i.options.pickTime?f.longDateFormat("LT"):"",i.options.useSeconds&&(-1!==f.longDateFormat("LT").indexOf(" A")?i.format=i.format.split(" A")[0]+":ss A":i.format+=":ss")),i.use24hours=i.format.toLowerCase().indexOf("a")<0&&i.format.indexOf("h")<0,i.component&&(k=i.component.find("span")),i.options.pickTime&&k&&k.addClass(i.options.icons.time),i.options.pickDate&&k&&(k.removeClass(i.options.icons.time),k.addClass(i.options.icons.date)),i.options.widgetParent="string"==typeof i.options.widgetParent&&i.options.widgetParent||i.element.parents().filter(function(){return"scroll"===a(this).css("overflow-y")}).get(0)||"body",i.widget=a(Q()).appendTo(i.options.widgetParent),i.minViewMode=i.options.minViewMode||0,"string"==typeof i.minViewMode)switch(i.minViewMode){case"months":i.minViewMode=1;break;case"years":i.minViewMode=2;break;default:i.minViewMode=0}if(i.viewMode=i.options.viewMode||0,"string"==typeof i.viewMode)switch(i.viewMode){case"months":i.viewMode=1;break;case"years":i.viewMode=2;break;default:i.viewMode=0}i.viewMode=Math.max(i.viewMode,i.minViewMode),i.options.disabledDates=O(i.options.disabledDates),i.options.enabledDates=O(i.options.enabledDates),i.startViewMode=i.viewMode,i.setMinDate(i.options.minDate),i.setMaxDate(i.options.maxDate),r(),s(),u(),v(),w(),q(),E(),l().prop("disabled")||F(),""!==i.options.defaultDate&&""===l().val()&&i.setValue(i.options.defaultDate),1!==i.options.minuteStepping&&(j=i.options.minuteStepping,i.date.minutes(Math.round(i.date.minutes()/j)*j%60).seconds(0))},l=function(){var a;if(i.isInput)return i.element;if(a=i.element.find(".datepickerinput"),0===a.size())a=i.element.find("input");else if(!a.is("input"))throw new Error('CSS class "datepickerinput" cannot be applied to non input element');return a},m=function(){var a;a=i.element.is("input")?i.element.data():i.element.find("input").data(),void 0!==a.dateFormat&&(i.options.format=a.dateFormat),void 0!==a.datePickdate&&(i.options.pickDate=a.datePickdate),void 0!==a.datePicktime&&(i.options.pickTime=a.datePicktime),void 0!==a.dateUseminutes&&(i.options.useMinutes=a.dateUseminutes),void 0!==a.dateUseseconds&&(i.options.useSeconds=a.dateUseseconds),void 0!==a.dateUsecurrent&&(i.options.useCurrent=a.dateUsecurrent),void 0!==a.calendarWeeks&&(i.options.calendarWeeks=a.calendarWeeks),void 0!==a.dateMinutestepping&&(i.options.minuteStepping=a.dateMinutestepping),void 0!==a.dateMindate&&(i.options.minDate=a.dateMindate),void 0!==a.dateMaxdate&&(i.options.maxDate=a.dateMaxdate),void 0!==a.dateShowtoday&&(i.options.showToday=a.dateShowtoday),void 0!==a.dateCollapse&&(i.options.collapse=a.dateCollapse),void 0!==a.dateLanguage&&(i.options.language=a.dateLanguage),void 0!==a.dateDefaultdate&&(i.options.defaultDate=a.dateDefaultdate),void 0!==a.dateDisableddates&&(i.options.disabledDates=a.dateDisableddates),void 0!==a.dateEnableddates&&(i.options.enabledDates=a.dateEnableddates),void 0!==a.dateIcons&&(i.options.icons=a.dateIcons),void 0!==a.dateUsestrict&&(i.options.useStrict=a.dateUsestrict),void 0!==a.dateDirection&&(i.options.direction=a.dateDirection),void 0!==a.dateSidebyside&&(i.options.sideBySide=a.dateSidebyside),void 0!==a.dateDaysofweekdisabled&&(i.options.daysOfWeekDisabled=a.dateDaysofweekdisabled)},n=function(){var b,c="absolute",d=i.component?i.component.offset():i.element.offset(),e=a(window);i.width=i.component?i.component.outerWidth():i.element.outerWidth(),d.top=d.top+i.element.outerHeight(),"up"===i.options.direction?b="top":"bottom"===i.options.direction?b="bottom":"auto"===i.options.direction&&(b=d.top+i.widget.height()>e.height()+e.scrollTop()&&i.widget.height()+i.element.outerHeight()<d.top?"top":"bottom"),"top"===b?(d.bottom=e.height()-d.top+i.element.outerHeight()+3,i.widget.addClass("top").removeClass("bottom")):(d.top+=1,d.top+=i.options.elementHeight,i.widget.addClass("bottom").removeClass("top")),void 0!==i.options.width&&i.widget.width(i.options.width),"left"===i.options.orientation&&(i.widget.addClass("left-oriented"),d.left=d.left-i.widget.width()+20),J()&&(c="fixed",d.top-=e.scrollTop(),d.left-=e.scrollLeft()),e.width()<d.left+i.widget.outerWidth()?(d.right=e.width()-d.left-i.width,d.left="auto",i.widget.addClass("pull-right")):(d.right="auto",i.widget.removeClass("pull-right")),"top"===b?i.widget.css({position:c,bottom:d.bottom,top:"auto",left:d.left,right:d.right}):i.widget.css({position:c,top:d.top,bottom:"auto",left:d.left,right:d.right})},o=function(a,c){b(i.date).isSame(b(a))&&!j||(j=!1,i.element.trigger({type:"dp.change",date:b(i.date),oldDate:b(a)}),"change"!==c&&i.element.change())},p=function(a){j=!0,i.element.trigger({type:"dp.error",date:b(a,i.format,i.options.useStrict)})},q=function(a){
b.locale(i.options.language);var c=a;c||(c=l().val(),c&&(i.date=b(c,i.format,i.options.useStrict)),i.date||(i.date=b())),i.viewDate=b(i.date).startOf("month"),t(),x()},r=function(){b.locale(i.options.language);var c,d=a("<tr>"),e=b.weekdaysMin();if(i.options.calendarWeeks===!0&&d.append('<th class="cw">#</th>'),0===b().localeData()._week.dow)for(c=0;7>c;c++)d.append('<th class="dow">'+e[c]+"</th>");else for(c=1;8>c;c++)7===c?d.append('<th class="dow">'+e[0]+"</th>"):d.append('<th class="dow">'+e[c]+"</th>");i.widget.find(".datepicker-days thead").append(d)},s=function(){b.locale(i.options.language);var a,c="",d=b.monthsShort();for(a=0;12>a;a++)c+='<span class="month">'+d[a]+"</span>";i.widget.find(".datepicker-months td").append(c)},t=function(){if(i.options.pickDate){b.locale(i.options.language);var c,d,e,f,g,h,j,k,l,m=i.viewDate.year(),n=i.viewDate.month(),o=i.options.minDate.year(),p=i.options.minDate.month(),q=i.options.maxDate.year(),r=i.options.maxDate.month(),s=[],t=b.months();for(i.widget.find(".datepicker-days").find(".disabled").removeClass("disabled"),i.widget.find(".datepicker-months").find(".disabled").removeClass("disabled"),i.widget.find(".datepicker-years").find(".disabled").removeClass("disabled"),i.widget.find(".datepicker-days th:eq(1)").text(t[n]+" "+m),d=b(i.viewDate,i.format,i.options.useStrict).subtract(1,"months"),j=d.daysInMonth(),d.date(j).startOf("week"),(m===o&&p>=n||o>m)&&i.widget.find(".datepicker-days th:eq(0)").addClass("disabled"),(m===q&&n>=r||m>q)&&i.widget.find(".datepicker-days th:eq(2)").addClass("disabled"),e=b(d).add(42,"d");d.isBefore(e);){if(d.weekday()===b().startOf("week").weekday()&&(f=a("<tr>"),s.push(f),i.options.calendarWeeks===!0&&f.append('<td class="cw">'+d.week()+"</td>")),g="",d.year()<m||d.year()===m&&d.month()<n?g+=" old":(d.year()>m||d.year()===m&&d.month()>n)&&(g+=" new"),d.isSame(b({y:i.date.year(),M:i.date.month(),d:i.date.date()}))&&(g+=" active"),!M(d,"day")&&N(d)||(g+=" disabled"),i.options.showToday===!0&&d.isSame(b(),"day")&&(g+=" today"),i.options.daysOfWeekDisabled)for(h=0;h<i.options.daysOfWeekDisabled.length;h++)if(d.day()===i.options.daysOfWeekDisabled[h]){g+=" disabled";break}f.append('<td class="day'+g+'">'+d.date()+"</td>"),c=d.date(),d.add(1,"d"),c===d.date()&&d.add(1,"d")}for(i.widget.find(".datepicker-days tbody").empty().append(s),l=i.date.year(),t=i.widget.find(".datepicker-months").find("th:eq(1)").text(m).end().find("span").removeClass("active"),l===m&&t.eq(i.date.month()).addClass("active"),o>m-1&&i.widget.find(".datepicker-months th:eq(0)").addClass("disabled"),m+1>q&&i.widget.find(".datepicker-months th:eq(2)").addClass("disabled"),h=0;12>h;h++)m===o&&p>h||o>m?a(t[h]).addClass("disabled"):(m===q&&h>r||m>q)&&a(t[h]).addClass("disabled");for(s="",m=10*parseInt(m/10,10),k=i.widget.find(".datepicker-years").find("th:eq(1)").text(m+"-"+(m+9)).parents("table").find("td"),i.widget.find(".datepicker-years").find("th").removeClass("disabled"),o>m&&i.widget.find(".datepicker-years").find("th:eq(0)").addClass("disabled"),m+9>q&&i.widget.find(".datepicker-years").find("th:eq(2)").addClass("disabled"),m-=1,h=-1;11>h;h++)s+='<span class="year'+(-1===h||10===h?" old":"")+(l===m?" active":"")+(o>m||m>q?" disabled":"")+'">'+m+"</span>",m+=1;k.html(s)}},u=function(){b.locale(i.options.language);var a,c,d,e=i.widget.find(".timepicker .timepicker-hours table"),f="";if(e.parent().hide(),i.use24hours)for(a=0,c=0;6>c;c+=1){for(f+="<tr>",d=0;4>d;d+=1)f+='<td class="hour">'+P(a.toString())+"</td>",a++;f+="</tr>"}else for(a=1,c=0;3>c;c+=1){for(f+="<tr>",d=0;4>d;d+=1)f+='<td class="hour">'+P(a.toString())+"</td>",a++;f+="</tr>"}e.html(f)},v=function(){var a,b,c=i.widget.find(".timepicker .timepicker-minutes table"),d="",e=0,f=i.options.minuteStepping;for(c.parent().hide(),1===f&&(f=5),a=0;a<Math.ceil(60/f/4);a++){for(d+="<tr>",b=0;4>b;b+=1)60>e?(d+='<td class="minute">'+P(e.toString())+"</td>",e+=f):d+="<td></td>";d+="</tr>"}c.html(d)},w=function(){var a,b,c=i.widget.find(".timepicker .timepicker-seconds table"),d="",e=0;for(c.parent().hide(),a=0;3>a;a++){for(d+="<tr>",b=0;4>b;b+=1)d+='<td class="second">'+P(e.toString())+"</td>",e+=5;d+="</tr>"}c.html(d)},x=function(){if(i.date){var a=i.widget.find(".timepicker span[data-time-component]"),b=i.date.hours(),c=i.date.format("A");i.use24hours||(0===b?b=12:12!==b&&(b%=12),i.widget.find(".timepicker [data-action=togglePeriod]").text(c)),a.filter("[data-time-component=hours]").text(P(b)),a.filter("[data-time-component=minutes]").text(P(i.date.minutes())),a.filter("[data-time-component=seconds]").text(P(i.date.second()))}},y=function(c){c.stopPropagation(),c.preventDefault(),i.unset=!1;var d,e,f,g,h=a(c.target).closest("span, td, th"),j=b(i.date);if(1===h.length&&!h.is(".disabled"))switch(h[0].nodeName.toLowerCase()){case"th":switch(h[0].className){case"picker-switch":E(1);break;case"prev":case"next":f=R.modes[i.viewMode].navStep,"prev"===h[0].className&&(f=-1*f),i.viewDate.add(f,R.modes[i.viewMode].navFnc),t()}break;case"span":h.is(".month")?(d=h.parent().find("span").index(h),i.viewDate.month(d)):(e=parseInt(h.text(),10)||0,i.viewDate.year(e)),i.viewMode===i.minViewMode&&(i.date=b({y:i.viewDate.year(),M:i.viewDate.month(),d:i.viewDate.date(),h:i.date.hours(),m:i.date.minutes(),s:i.date.seconds()}),K(),o(j,c.type)),E(-1),t();break;case"td":h.is(".day")&&(g=parseInt(h.text(),10)||1,d=i.viewDate.month(),e=i.viewDate.year(),h.is(".old")?0===d?(d=11,e-=1):d-=1:h.is(".new")&&(11===d?(d=0,e+=1):d+=1),i.date=b({y:e,M:d,d:g,h:i.date.hours(),m:i.date.minutes(),s:i.date.seconds()}),i.viewDate=b({y:e,M:d,d:Math.min(28,g)}),t(),K(),o(j,c.type))}},z={incrementHours:function(){L("add","hours",1)},incrementMinutes:function(){L("add","minutes",i.options.minuteStepping)},incrementSeconds:function(){L("add","seconds",1)},decrementHours:function(){L("subtract","hours",1)},decrementMinutes:function(){L("subtract","minutes",i.options.minuteStepping)},decrementSeconds:function(){L("subtract","seconds",1)},togglePeriod:function(){var a=i.date.hours();a>=12?a-=12:a+=12,i.date.hours(a)},showPicker:function(){i.widget.find(".timepicker > div:not(.timepicker-picker)").hide(),i.widget.find(".timepicker .timepicker-picker").show()},showHours:function(){i.widget.find(".timepicker .timepicker-picker").hide(),i.widget.find(".timepicker .timepicker-hours").show()},showMinutes:function(){i.widget.find(".timepicker .timepicker-picker").hide(),i.widget.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){i.widget.find(".timepicker .timepicker-picker").hide(),i.widget.find(".timepicker .timepicker-seconds").show()},selectHour:function(b){var c=parseInt(a(b.target).text(),10);i.use24hours||(i.date.hours()>=12?12!==c&&(c+=12):12===c&&(c=0)),i.date.hours(c),z.showPicker.call(i)},selectMinute:function(b){i.date.minutes(parseInt(a(b.target).text(),10)),z.showPicker.call(i)},selectSecond:function(b){i.date.seconds(parseInt(a(b.target).text(),10)),z.showPicker.call(i)}},A=function(c){var d=b(i.date),e=a(c.currentTarget).data("action"),f=z[e].apply(i,arguments);return B(c),i.date||(i.date=b({y:1970})),K(),x(),o(d,c.type),f},B=function(a){a.stopPropagation(),a.preventDefault()},C=function(a){27===a.keyCode&&i.hide()},D=function(c){b.locale(i.options.language);var d=a(c.target),e=b(i.date),f=b(d.val(),i.format,i.options.useStrict);f.isValid()&&!M(f)&&N(f)?(q(),i.setValue(f),o(e,c.type),K()):(i.viewDate=e,i.unset=!0,o(e,c.type),p(f))},E=function(a){a&&(i.viewMode=Math.max(i.minViewMode,Math.min(2,i.viewMode+a))),i.widget.find(".datepicker > div").hide().filter(".datepicker-"+R.modes[i.viewMode].clsName).show()},F=function(){var c,d,e,f,g;i.widget.on("click",".datepicker *",a.proxy(y,this)),i.widget.on("click","[data-action]",a.proxy(A,this)),i.widget.on("mousedown",a.proxy(B,this)),i.element.on("keydown",a.proxy(C,this)),i.options.pickDate&&i.options.pickTime&&i.widget.on("click.togglePicker",".accordion-toggle",function(b){if(b.stopPropagation(),c=a(this),d=c.closest("ul"),e=d.find(".in"),f=d.find(".collapse:not(.in)"),e&&e.length){if(g=e.data("collapse"),g&&g.transitioning)return;e.collapse("hide"),f.collapse("show"),c.find("span").toggleClass(i.options.icons.time+" "+i.options.icons.date),i.component&&i.component.find("span").toggleClass(i.options.icons.time+" "+i.options.icons.date)}}),i.isInput?i.element.on({click:a.proxy(i.show,this),focus:a.proxy(i.show,this),change:a.proxy(D,this),blur:a.proxy(i.hide,this)}):(i.element.on({change:a.proxy(D,this)},"input"),i.component?(i.component.on("click",a.proxy(i.show,this)),i.component.on("mousedown",a.proxy(B,this))):i.element.on("click",a.proxy(i.show,this))),i.widget.on("click.togglePicker","#today-button",function(a){if(1!==i.options.minuteStepping){var c=b(),d=i.options.minuteStepping;c.minutes(Math.round(c.minutes()/d)*d%60).seconds(0),i.setValue(c.format(i.format))}else i.setValue(b().format(i.format));o("",a.type),K()}),i.widget.on("click.togglePicker","#clear-button",function(a){i.setValue(null),o("",a.type)}),i.widget.on("click.togglePicker","#close-button",function(a){i.hide()})},G=function(){a(window).on("resize.datetimepicker"+i.id,a.proxy(n,this)),i.isInput||a(document).on("mousedown.datetimepicker"+i.id,a.proxy(i.hide,this))},H=function(){i.widget.off("click",".datepicker *",i.click),i.widget.off("click","[data-action]"),i.widget.off("mousedown",i.stopEvent),i.options.pickDate&&i.options.pickTime&&i.widget.off("click.togglePicker"),i.isInput?i.element.off({focus:i.show,change:D,click:i.show,blur:i.hide}):(i.element.off({change:D},"input"),i.component?(i.component.off("click",i.show),i.component.off("mousedown",i.stopEvent)):i.element.off("click",i.show))},I=function(){a(window).off("resize.datetimepicker"+i.id),i.isInput||a(document).off("mousedown.datetimepicker"+i.id)},J=function(){if(i.element){var b,c=i.element.parents(),d=!1;for(b=0;b<c.length;b++)if("fixed"===a(c[b]).css("position")){d=!0;break}return d}return!1},K=function(){b.locale(i.options.language);var a="";i.unset||(a=b(i.date).format(i.format)),l().val(a),i.element.data("date",a),i.options.pickTime||i.hide()},L=function(a,c,d){b.locale(i.options.language);var e;return"add"===a?(e=b(i.date),23===e.hours()&&e.add(d,c),e.add(d,c)):e=b(i.date).subtract(d,c),M(b(e.subtract(d,c)))||M(e)?void p(e.format(i.format)):("add"===a?i.date.add(d,c):i.date.subtract(d,c),void(i.unset=!1))},M=function(a,c){b.locale(i.options.language);var d=b(i.options.maxDate,i.format,i.options.useStrict),e=b(i.options.minDate,i.format,i.options.useStrict);return c&&(d=d.endOf(c),e=e.startOf(c)),a.isAfter(d)||a.isBefore(e)?!0:i.options.disabledDates===!1?!1:i.options.disabledDates[a.format("YYYY-MM-DD")]===!0},N=function(a){return b.locale(i.options.language),i.options.enabledDates===!1?!0:i.options.enabledDates[a.format("YYYY-MM-DD")]===!0},O=function(a){var c,d={},e=0;for(c=0;c<a.length;c++)f=b.isMoment(a[c])||a[c]instanceof Date?b(a[c]):b(a[c],i.format,i.options.useStrict),f.isValid()&&(d[f.format("YYYY-MM-DD")]=!0,e++);return e>0?d:!1},P=function(a){return a=a.toString(),a.length>=2?a:"0"+a},Q=function(){var a='<thead><tr><th class="prev">&lsaquo;</th><th colspan="'+(i.options.calendarWeeks?"6":"5")+'" class="picker-switch"></th><th class="next">&rsaquo;</th></tr></thead>',b='<tbody><tr><td colspan="'+(i.options.calendarWeeks?"8":"7")+'"></td></tr></tbody>',c='<div class="datepicker-days"><table class="table-condensed">'+a+'<tbody></tbody></table></div><div class="datepicker-months"><table class="table-condensed">'+a+b+'</table></div><div class="datepicker-years"><table class="table-condensed">'+a+b+"</table></div>",d="";return i.options.pickDate&&i.options.pickTime?(d='<div class="bootstrap-datetimepicker-widget'+(i.options.sideBySide?" timepicker-sbs":"")+(i.use24hours?" usetwentyfour":"")+' dropdown-menu" style="z-index:9999 !important;">',d+=i.options.sideBySide?'<div class="row"><div class="col-sm-6 datepicker">'+c+'</div><div class="col-sm-6 timepicker">'+S.getTemplate()+"</div></div>":'<ul class="list-unstyled"><li'+(i.options.collapse?' class="collapse in"':"")+'><div class="datepicker">'+c+'</div></li><li><span class="btn-group" style="float:left; margin-left:4px"><button class="btn btn-info"" id="today-button"> Now </button><button class="btn btn-danger" id="clear-button"> Clear </button></span><button class="btn btn-success" id="close-button" style="float:right; margin-right:4px;">Done</button><div style="clear:both; padding-bottom:5px;"></div></li><li'+(i.options.collapse?' class="collapse"':"")+'><div class="timepicker">'+S.getTemplate()+"</div></li></ul>",d+="</div>"):i.options.pickTime?'<div class="bootstrap-datetimepicker-widget dropdown-menu"><div class="timepicker">'+S.getTemplate()+"</div></div>":'<div class="bootstrap-datetimepicker-widget dropdown-menu"><div class="datepicker">'+c+"</div></div>"},R={modes:[{clsName:"days",navFnc:"month",navStep:1},{clsName:"months",navFnc:"year",navStep:1},{clsName:"years",navFnc:"year",navStep:10}]},S={hourTemplate:'<span data-action="showHours"   data-time-component="hours"   class="timepicker-hour"></span>',minuteTemplate:'<span data-action="showMinutes" data-time-component="minutes" class="timepicker-minute"></span>',secondTemplate:'<span data-action="showSeconds"  data-time-component="seconds" class="timepicker-second"></span>'};S.getTemplate=function(){return'<div class="timepicker-picker"><table class="table-condensed"><tr><td><a href="#" class="btn" data-action="incrementHours"><span class="'+i.options.icons.up+'"></span></a></td><td class="separator"></td><td>'+(i.options.useMinutes?'<a href="#" class="btn" data-action="incrementMinutes"><span class="'+i.options.icons.up+'"></span></a>':"")+"</td>"+(i.options.useSeconds?'<td class="separator"></td><td><a href="#" class="btn" data-action="incrementSeconds"><span class="'+i.options.icons.up+'"></span></a></td>':"")+(i.use24hours?"":'<td class="separator"></td>')+"<td></td></tr><tr><td>"+S.hourTemplate+'</td> <td class="separator">:</td><td>'+(i.options.useMinutes?S.minuteTemplate:'<span class="timepicker-minute">00</span>')+"</td> "+(i.options.useSeconds?'<td class="separator">:</td><td>'+S.secondTemplate+"</td>":"")+(i.use24hours?"":'<td class="separator"></td><td><button type="button" class="btn btn-primary" data-action="togglePeriod"></button></td>')+'</tr><tr><td><a href="#" class="btn" data-action="decrementHours"><span class="'+i.options.icons.down+'"></span></a></td><td class="separator"></td><td>'+(i.options.useMinutes?'<a href="#" class="btn" data-action="decrementMinutes"><span class="'+i.options.icons.down+'"></span></a>':"")+"</td>"+(i.options.useSeconds?'<td class="separator"></td><td><a href="#" class="btn" data-action="decrementSeconds"><span class="'+i.options.icons.down+'"></span></a></td>':"")+(i.use24hours?"":'<td class="separator"></td>')+'<td></td></tr></table></div><div class="timepicker-hours" data-action="selectHour"><table class="table-condensed"></table></div><div class="timepicker-minutes" data-action="selectMinute"><table class="table-condensed"></table></div>'+(i.options.useSeconds?'<div class="timepicker-seconds" data-action="selectSecond"><table class="table-condensed"></table></div>':"")},i.destroy=function(){H(),I(),i.widget.remove(),i.element.removeData("DateTimePicker"),i.component&&i.component.removeData("DateTimePicker")},i.show=function(a){if(!l().prop("disabled")){if(i.options.useCurrent)if(""===l().val()){if(i.options.fillEmpty){if(1!==i.options.minuteStepping){var c=b(),d=i.options.minuteStepping;c.minutes(Math.round(c.minutes()/d)*d%60).seconds(0),i.setValue(c.format(i.format))}else i.setValue(b().format(i.format));o("",a.type)}}else i.setValue(l().val());a&&"click"===a.type&&i.isInput&&i.widget.hasClass("picker-open")||(i.widget.hasClass("picker-open")?(i.widget.hide(),i.widget.removeClass("picker-open")):(i.widget.show(),i.widget.addClass("picker-open")),i.height=i.component?i.component.outerHeight():i.element.outerHeight(),n(),i.element.trigger({type:"dp.show",date:b(i.date)}),G(),a&&B(a))}},i.disable=function(){var a=l();a.prop("disabled")||(a.prop("disabled",!0),H())},i.enable=function(){var a=l();a.prop("disabled")&&(a.prop("disabled",!1),F())},i.hide=function(){var a,c,d=i.widget.find(".collapse");for(a=0;a<d.length;a++)if(c=d.eq(a).data("collapse"),c&&c.transitioning)return;i.widget.hide(),i.widget.removeClass("picker-open"),i.viewMode=i.startViewMode,E(),i.element.trigger({type:"dp.hide",date:b(i.date)}),I()},i.setValue=function(a){b.locale(i.options.language),a?i.unset=!1:(i.unset=!0,K()),a=b.isMoment(a)?a.locale(i.options.language):a instanceof Date?b(a):b(a,i.format,i.options.useStrict),a.isValid()?(i.date=a,K(),i.viewDate=b({y:i.date.year(),M:i.date.month()}),t(),x()):p(a)},i.getDate=function(){return i.unset?null:b(i.date)},i.setDate=function(a){var c=b(i.date);a?i.setValue(a):i.setValue(null),o(c,"function")},i.setDisabledDates=function(a){i.options.disabledDates=O(a),i.viewDate&&q()},i.setEnabledDates=function(a){i.options.enabledDates=O(a),i.viewDate&&q()},i.setMaxDate=function(a){void 0!==a&&(b.isMoment(a)||a instanceof Date?i.options.maxDate=b(a):i.options.maxDate=b(a,i.format,i.options.useStrict),i.viewDate&&q())},i.setMinDate=function(a){void 0!==a&&(b.isMoment(a)||a instanceof Date?i.options.minDate=b(a):i.options.minDate=b(a,i.format,i.options.useStrict),i.viewDate&&q())},k()};a.fn.datetimepicker=function(b){return this.each(function(){var c=a(this),e=c.data("DateTimePicker");e||c.data("DateTimePicker",new d(this,b))})},a.fn.datetimepicker.defaults={format:!1,pickDate:!0,pickTime:!0,useMinutes:!0,useSeconds:!1,useCurrent:!0,calendarWeeks:!1,minuteStepping:1,minDate:b({y:1900}),maxDate:b().add(100,"y"),showToday:!0,collapse:!1,language:b.locale(),defaultDate:"",disabledDates:!1,enabledDates:!1,icons:{},useStrict:!1,direction:"auto",sideBySide:!1,daysOfWeekDisabled:[],widgetParent:!1,fillEmpty:!1}})}(),System.registerDynamic("libraries/bootstrap-datetimepicker/index",["./bootstrap-datetimepicker"],!0,function(a,b,c){return a("./bootstrap-datetimepicker"),c.exports}),System.registerDynamic("components/components/dateTime/dateTime.html",[],!0,function(a,b,c){return c.exports='<div class="field date-time" ng-class="{ \'has-warning\': !dateTime.validFormat, \'error\': dateTime.ngModel.$invalid, \'datepicker-with-clear\': dateTime.clearButton }">\r\n	<span class="show-date-picker">\r\n		<label class="label-slide angular-animate" ng-show="dateTime.ngModel.$viewValue | isEmpty:false && dateTime.label">{{dateTime.label}}</label>\r\n		<input type="text" class="form-control" ng-model="dateTime.ngModel.$viewValue" placeholder="{{dateTime.label}}"/>\r\n		<span class="input-group-btn">\r\n			<button class="btn btn-default" ng-click="toggle()"><i class="fa fa-calendar"></i></button>\r\n		</span>\r\n		<span class="timezone" ng-if="dateTime.useDate">{{dateTime.timezone.display}}</span>\r\n	</span>\r\n	<span class="datepicker-clear" ng-if="::dateTime.clearButton">\r\n		<button type="button" class="btn btn-default"  ng-disabled="dateTime.ngModel.$viewValue | isEmpty" ng-click="dateTime.onClearClick()" >\r\n			<i class="fa fa-times"></i>\r\n		</button>\r\n	</span>\r\n	<span class="error-string angular-animate" ng-if="dateTime.inputValidator.error | isEmpty:false">{{dateTime.inputValidator.error}}</span>\r\n</div>',c.exports}),System.registerDynamic("components/components/dateTime/dateTime",["../../../libraries/bootstrap-datetimepicker/index","angular","moment","lodash","typescript-angular-utilities","../input/input","../../services/componentValidator/componentValidator.service","./dateTime.html"],!0,function(a,b,c){"use strict";var d=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};a("../../../libraries/bootstrap-datetimepicker/index");var e=a("angular"),f=a("moment"),g=a("lodash"),h=a("typescript-angular-utilities"),i=h.services.date,j=h.services.object,k=h.services.timezone,l=a("../input/input"),m=a("../../services/componentValidator/componentValidator.service");b.moduleName="rl.ui.components.dateTime",b.componentName="rlDateTime",b.controllerName="DateTimeController";var n=function(a){function b(b,c,d,e){a.call(this,b,c,d),this.$element=e,this.inputType="date-time",this.useDate=g.isUndefined(this.useDate)?!0:this.useDate,this.useTime=g.isUndefined(this.useTime)?!0:this.useTime}return d(b,a),b.prototype.onClearClick=function(){this.ngModel.$setViewValue(null),this.onClearEvent()},b.prototype.$postLink=function(){var a=this,b=this.$element.datetimepicker.defaults,c=null!=this.min?this.min:b.minDate,d=null!=this.max?this.max:b.maxDate;this.setValidity(this.ngModel.$viewValue),this.ngModel.$formatters.push(function(b){if(null==b)return a.timezone=k.timezoneService.currentTimezone,null;var c=f(b);return a.setValidity(c),a.timezone=k.timezones.get(c.tz()),c.format(a.getFormatOrDefault())}),this.ngModel.$parsers.push(function(b){if(j.objectUtility.isNullOrEmpty(b))return null;var c=k.timezoneService.buildMomentWithTimezone(b,a.timezone,a.getFormatOrDefault());return a.setValidity(c),c}),this.$element.find(".show-date-picker").datetimepicker({stepping:this.minuteStepping||1,format:this.getFormatOrDefault(),direction:"bottom",elementHeight:2,pickDate:this.useDate,pickTime:this.useTime,minDate:c,maxDate:d}).on("change.dp",function(){var b=a.$element.find("input").val();a.ngModel.$setViewValue(b),a.$scope.$apply()})},b.prototype.getFormatOrDefault=function(){return this.format||this.defaultFormat(this.useDate,this.useTime)},b.prototype.defaultFormat=function(a,b){return a&&b?i.defaultFormats.dateTimeFormat:a?i.defaultFormats.dateFormat:b?i.defaultFormats.timeFormat:!1},b.prototype.setValidity=function(a){this.validFormat=j.objectUtility.isNullOrEmpty(a)?!0:f(a).isValid()},b.$inject=["$scope","$attrs",m.factoryName,"$element"],b}(l.InputController);b.DateTimeController=n;var o=l.buildInput({template:a("./dateTime.html"),controller:b.controllerName,controllerAs:"dateTime",bindings:{minuteStepping:"<?",useDate:"<?",useTime:"<?",min:"<?",max:"<?",clearButton:"<?",onClearEvent:"&"}});return e.module(b.moduleName,[l.moduleName]).component(b.componentName,o).controller(b.controllerName,n),c.exports}),System.registerDynamic("components/components/dateTimeStatic/dateTimeStatic.html",[],!0,function(a,b,c){return c.exports='<span class="rl-date-time-static">{{view.dateValue | rlDate:view.includeTime}}</span>',c.exports}),System.registerDynamic("components/components/dateTimeStatic/dateTimeStatic",["angular","./dateTimeStatic.html"],!0,function(a,b,c){"use strict";var d=a("angular");b.moduleName="rl.ui.components.dateTimeStatic",b.componentName="rlDateTimeStatic";var e={template:a("./dateTimeStatic.html"),controllerAs:"view",bindings:{dateValue:"<",includeTime:"<?"}};return d.module(b.moduleName,[]).component(b.componentName,e),c.exports}),System.registerDynamic("components/components/form/form",["angular","../../services/parentChild/parentChild.service","../../services/autosave/autosave.service"],!0,function(a,b,c){"use strict";var d=a("angular"),e=a("../../services/parentChild/parentChild.service"),f=a("../../services/autosave/autosave.service");b.moduleName="rl.ui.components.form",b.componentName="rlForm",b.controllerName="rlFormController";var g=function(){function a(a,b,c,d,e,f){this.$element=a,this.$scope=b,this.$timeout=c,this.$q=d,this.autosaveFactory=e,this.parentChild=f}return a.prototype.$onInit=function(){var a=this;this.$timeout(function(){a.form=a.$scope.rlForm,a.autosave=a.autosaveFactory.getInstance({save:a.saveForm.bind(a),contentForm:a.$scope.rlForm,triggers:"none"}),a.parentChild.registerChildBehavior(a.childLink,{save:a.autosave.validateAndSave.bind(a.autosave)})})},a.prototype.saveForm=function(){var a=this;return this.saving=!0,this.$q.when(this.save()).then(function(){a.saving=!1})["catch"](function(){a.saving=!1})},a.$inject=["$element","$scope","$timeout","$q",f.factoryName,e.serviceName],a}();b.FormController=g;var h={transclude:!0,template:'<form ng-transclude name="rlForm" ng-submit="controller.autosave.validateAndSave()"></form>',controller:b.controllerName,controllerAs:"controller",bindings:{saving:"=?",save:"&",form:"=?",childLink:"=?"}};return d.module(b.moduleName,[f.moduleName]).component(b.componentName,h).controller(b.controllerName,g),c.exports}),System.registerDynamic("components/components/genericContainer/genericContainer",["angular","lodash","typescript-angular-utilities","../../services/jquery/jquery.service","../../services/templateLoader/templateLoader.service"],!0,function(a,b,c){"use strict";var d=a("angular"),e=a("lodash"),f=a("typescript-angular-utilities"),g=a("../../services/jquery/jquery.service"),h=a("../../services/templateLoader/templateLoader.service");b.moduleName="rl.ui.components.genericContainer",b.componentName="rlGenericContainer",b.controllerName="GenericContainerController";var i=function(){function a(a,b,c,d,e,f){this.$element=a,this.$transclude=b,this.$compile=c,this.object=d,this.jquery=e,this.templateLoader=f}return a.prototype.$onChanges=function(a){if(this.container&&a.selector){var b=this.resolveTemplate(a.selector.currentValue);this.swapTemplates(b)}},a.prototype.refresh=function(){var a=this.resolveTemplate(this.selector);this.swapTemplates(a)},a.prototype.resolveTemplate=function(a){return e.has(this.templates,a)?this.templates[a]:this["default"]},a.prototype.$postLink=function(){this.initDefaults(),this.container=this.$element.find("#container");var a=this.templateLoader.loadTemplates(this.$transclude);this.templates=e.extend(this.templates,a.templates),this["default"]=a["default"],this.templateScope=a.transclusionScope,this["default"]||(this["default"]="<div></div>"),this.refresh()},a.prototype.initDefaults=function(){this["default"]=this.defaultTemplate,this.templates=this.configuredTemplates?this.configuredTemplates:{}},a.prototype.swapTemplates=function(a){var b=d.element(a);this.jquery.replaceContent(this.container,b),this.$compile(b)(this.templateScope)},a.$inject=["$element","$transclude","$compile",f.downgrade.objectServiceName,g.serviceName,h.serviceName],a}();b.GenericContainerController=i;var j={template:'<div id="container"></div>',transclude:!0,controller:b.controllerName,controllerAs:"genericContainer",bindings:{selector:"<",configuredTemplates:"<templates",defaultTemplate:"<"}};return d.module(b.moduleName,[g.moduleName,f.downgrade.moduleName,h.moduleName]).component(b.componentName,j).controller(b.controllerName,i),c.exports}),System.registerDynamic("components/components/lazyLoad/lazyLoad",["angular"],!0,function(a,b,c){"use strict";var d=a("angular");b.moduleName="rl.ui.components.lazyLoad",b.componentName="rlLazyLoad",b.controllerName="LazyLoadController";var e=function(){function a(){this.init=!1}return a.prototype.$onInit=function(){this.init=this.show},a.prototype.$onChanges=function(a){!this.init&&a.show&&a.show.currentValue&&(this.init=!0)},a}();b.LazyLoadController=e;var f={transclude:!0,template:'\n		<div ng-if="lazyLoad.init">\n			<div ng-show="lazyLoad.show">\n				<div ng-transclude></div>\n			</div>\n		</div>\n	',controller:b.controllerName,controllerAs:"lazyLoad",bindings:{show:"<"}};return d.module(b.moduleName,[]).component(b.componentName,f).controller(b.controllerName,e),c.exports}),System.registerDynamic("components/components/button/button.html",[],!0,function(a,b,c){return c.exports='<button type="button" class="btn {{::button.types}} {{::button.configuredSize}}" ng-click="button.action()" ng-disabled="button.ngDisabled">\r\n	<span ng-transclude></span>\r\n</button>',c.exports}),System.registerDynamic("components/components/button/button",["lodash","angular","./button.html"],!0,function(a,b,c){"use strict";function d(a){var b=e.clone(h);return b.require=a.require,b.transclude=null!=a.transclude?a.transclude:b.transclude,b.template=a.template,b.controller=a.controller||b.controller,b.controllerAs=a.controllerAs||b.controllerAs,b.bindings=e.assign({},b.bindings,a.bindings),e.each(b.bindings,function(a,c){null==a&&delete b.bindings[c]}),b}var e=a("lodash"),f=a("angular");b.moduleName="rl.ui.components.button",b.componentName="rlButton",b.controllerName="ButtonController";var g=function(){function a(){this.type=null!=this.type?this.type:"default",this.configuredSize=null!=this.size&&""!==this.size?"btn-"+this.size:null}return Object.defineProperty(a.prototype,"types",{get:function(){var a=this.type.split(" ");return a.forEach(function(b,c){-1===b.indexOf("btn-")&&(b="btn-"+b),a[c]=b}),a.join(" ")},enumerable:!0,configurable:!0}),a}();b.ButtonController=g;var h={transclude:!0,template:a("./button.html"),bindings:{action:"&",type:"@",ngDisabled:"<?",size:"@"},controller:b.controllerName,controllerAs:"button"};return b.buildButton=d,f.module(b.moduleName,[]).component(b.componentName,h).controller(b.controllerName,g),c.exports}),System.registerDynamic("components/components/buttonAsync/buttonAsync.html",[],!0,function(a,b,c){return c.exports='<button type="button" class="btn {{::button.types}} {{::button.configuredSize}}" ng-click="button.trigger()" ng-disabled="button.busy || button.ngDisabled">\r\n	<rl-busy ng-if="::button.rightAligned" loading="button.busy"></rl-busy>\r\n	<span ng-transclude></span>\r\n	<rl-busy ng-if="::!button.rightAligned" loading="button.busy"></rl-busy>\r\n</button>',c.exports}),System.registerDynamic("components/components/buttonAsync/buttonAsync",["angular","lodash","../../services/promise/promise.service","../button/button","./buttonAsync.html"],!0,function(a,b,c){"use strict";var d=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},e=a("angular"),f=a("lodash"),g=a("../../services/promise/promise.service"),h=a("../button/button");b.moduleName="rl.ui.components.buttonAsync",b.componentName="rlButtonAsync",b.controllerName="ButtonAsyncController";var i=function(a){function b(b){a.call(this),this.promiseUtility=b}return d(b,a),b.prototype.trigger=function(){var a=this;if(!this.busy){this.busy=!0;var b=this.action();this.promiseUtility.isPromise(b)&&f.isFunction(b["finally"])?b["finally"](function(){a.busy=!1}):b!==!0&&(this.busy=!1)}},b.$inject=[g.serviceName],b}(h.ButtonController);b.ButtonAsyncController=i;var j=h.buildButton({template:a("./buttonAsync.html"),bindings:{busy:"<?",rightAligned:"<?"},controller:b.controllerName});return e.module(b.moduleName,[g.moduleName]).component(b.componentName,j).controller(b.controllerName,i),c.exports}),System.registerDynamic("components/components/longClickButton/longClickButton.html",[],!0,function(a,b,c){return c.exports='<button class="btn btn-long-click {{button.types}} {{button.configuredSize}}"\r\n		ng-mousedown="button.startAction()" ng-mouseleave="button.stopAction()" ng-mouseup="button.stopAction()"\r\n		ng-disabled="button.busy || button.ngDisabled">\r\n	<rl-busy loading="button.busy" ng-if="button.rightAligned"></rl-busy>\r\n	<span ng-transclude class="long-click-text">\r\n		<i ng-show="button.icon != null" class="fa fa-{{button.icon}}"></i> {{button.text}}\r\n	</span>\r\n	<rl-busy loading="button.busy" ng-if="!button.rightAligned"></rl-busy>\r\n	<div class="long-click-progress"></div>\r\n</button>',c.exports}),System.registerDynamic("components/components/longClickButton/longClickButton",["angular","typescript-angular-utilities","../../services/promise/promise.service","../button/button","../buttonAsync/buttonAsync","./longClickButton.html"],!0,function(a,b,c){"use strict";var d=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},e=a("angular"),f=a("typescript-angular-utilities"),g=a("../../services/promise/promise.service"),h=a("../button/button"),i=a("../buttonAsync/buttonAsync");b.moduleName="rl.ui.components.longClickButton",
b.componentName="rlLongClickButton",b.controllerName="LongClickButtonController";var j=function(a){function b(b,c,d,e,f){a.call(this,e),this.$interval=b,this.$timeout=c,this.objectUtility=d,this.notification=f,this.duration=2e3}return d(b,a),b.prototype.startAction=function(){var a=this;this.active||this.busy||(this.active=!0,this.actionTimeout=this.$timeout(function(){a.cleanup(),a.trigger()},this.duration))},b.prototype.stopAction=function(){this.active&&(null!=this.actionTimeout&&this.warn(),this.cleanup())},b.prototype.cleanup=function(){this.$timeout.cancel(this.actionTimeout),this.actionTimeout=null,this.active=!1},b.prototype.warn=function(){var a=this.warning||this.onShortClickText||"Press and hold to complete this action";this.notification.warning(a)},b.$inject=["$interval","$timeout",f.downgrade.objectServiceName,g.serviceName,f.downgrade.notificationServiceName],b}(i.ButtonAsyncController);b.LongClickButtonController=j;var k=h.buildButton({template:a("./longClickButton.html"),controller:b.controllerName,bindings:{warning:"@",busy:"<?",rightAligned:"<?",onShortClickText:"@",icon:"@",text:"@"}});return e.module(b.moduleName,[f.downgrade.moduleName,g.moduleName]).component(b.componentName,k).controller(b.controllerName,j),c.exports}),System.registerDynamic("components/components/messageLog/editedByPopover.html",[],!0,function(a,b,c){return c.exports="<div>Last edited by: {{entry.lastUpdatedBy.name}}</div>\r\n<div>{{ entry.lastUpdatedDate | rlDate:true }}</div>",c.exports}),System.registerDynamic("components/components/messageLog/messageLogEditDialog.html",[],!0,function(a,b,c){return c.exports='<rl-dialog autosave="true">\r\n	<rl-dialog-content>\r\n		<ng-form name="noteForm">\r\n			<div class="form-group">\r\n				<rl-textbox ng-model="dialog.entry.message" label="Message:" maxlength="250"></rl-textbox>\r\n			</div>\r\n		</ng-form>\r\n	</rl-dialog-content>\r\n</rl-dialog>',c.exports}),System.registerDynamic("components/components/messageLog/messageLog.html",[],!0,function(a,b,c){return c.exports='<div>\r\n	<rl-busy loading="log.loadingInitial" size="2x"></rl-busy>\r\n	<div class="content-group" ng-repeat="entry in log.messages" rl-alias="entry as {{log.messageAs}}" ng-class="{ \'system-note\': entry.isSystemNote }">\r\n		<rl-generic-container selector="log.getEntrySelector(entry)" templates="log.templates">\r\n			<template default>\r\n				<div class="message-body">\r\n					<div class="message-content">\r\n						<div ng-bind-html="entry.message"></div>\r\n					</div>\r\n					<span class="message-button" ng-if="log.canEditEntry(entry)">\r\n						<rl-button-async type="message-default flat" action="log.editMessage(entry)" size="xs"><i class="fa fa-edit"></i></rl-button-async>\r\n					</span>\r\n					<span class="message-button" ng-if="log.canDeleteEntry(entry)">\r\n						<rl-button-async type="message-danger flat" action="log.messageLog.deleteMessage(entry)" size="xs"><i class="fa fa-remove"></i></rl-button-async>\r\n					</span>\r\n				</div>\r\n				<div class="message-byline">\r\n					<div class="byline">{{entry.createdBy.name}}</div>\r\n					<div class="byline">\r\n						{{ entry.createdDate | rlDate:true }}\r\n						<span  ng-if="entry.edited" class="edited-note" rl-popover="log.tooltipTemplate" popover-trigger="mouseenter">(edited)</span></div>\r\n				</div>\r\n			</template>\r\n		</rl-generic-container>\r\n	</div>\r\n	<div class="content-group" ng-if="(log.messages | isEmpty) && !log.loadingInitial">No existing messages</div>\r\n	<div class="row">\r\n		<div class="col-xs-12">\r\n			<div class="text-center">\r\n				<rl-button-async action="log.getTop()" ng-disabled="log.loading" button-right-aligned="true">\r\n					<span ng-show="log.hasPreviousPage">Top <i class="fa fa-caret-up"></i></span>\r\n					<span ng-hide="log.hasPreviousPage"><i class="fa fa-refresh"></i> Refresh</span>\r\n				</rl-button-async>\r\n				<rl-button-async ng-disabled="log.hasNextPage == false || log.loading" action="log.getOlder()">\r\n					Older <i class="fa fa-caret-right"></i>\r\n				</rl-button-async>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n',c.exports}),System.registerDynamic("components/components/messageLog/messageLog.directive",["lodash","typescript-angular-utilities","../../services/jquery/jquery.service","./messageLog.service","../../services/services.module","../../services/templateLoader/templateLoader.service","./editedByPopover.html","./messageLogEditDialog.html","./messageLog.html"],!0,function(a,b,c){"use strict";function d(c,d,e,f){return{restrict:"E",template:a("./messageLog.html"),transclude:!0,controller:b.controllerName,controllerAs:"log",scope:{messageData:"="},bindToController:{service:"=",selector:"=",pageSize:"=",messageLogBinding:"=messageLog",messageAs:"@",currentUser:"=?",canDelete:"=?",canEdit:"=?"},link:function(a,b,c,d,f){d.templates=e.loadTemplates(f).templates}}}var e=a("lodash"),f=a("typescript-angular-utilities"),g=a("../../services/jquery/jquery.service"),h=a("./messageLog.service"),i=a("../../services/services.module"),j=i.dialog,k=a("../../services/templateLoader/templateLoader.service");b.directiveName="rlMessageLog",b.controllerName="MessageLogController",function(a){a[a.deleteMine=0]="deleteMine",a[a.deleteAll=1]="deleteAll",a[a.deleteNone=2]="deleteNone"}(b.DeletePermissions||(b.DeletePermissions={}));var l=b.DeletePermissions;!function(a){a[a.editMine=0]="editMine",a[a.editAll=1]="editAll",a[a.editNone=2]="editNone"}(b.EditPermissions||(b.EditPermissions={}));var m=b.EditPermissions,n=function(){function b(b,c,d){var e=this;this.dialog=b,this.messageLog=this.messageLogBinding||d.getInstance(),c.$watch(function(){return e.messageLog.visibleMessages},function(a){e.messages=a}),c.$watch(function(){return e.messageLog.hasForwardMessages},function(a){e.hasNextPage=a}),c.$watch(function(){return e.messageLog.hasBackwardMessages},function(a){e.hasPreviousPage=a}),c.$watch(function(){return e.messageLog.busy},function(a){a?e.loading=!0:(e.loading=!1,e.loadingInitial=!1)}),c.$watch(function(){return e.service},function(a){e.messageLog.dataService=a,e.loadingInitial=!0}),this.messageLog.pageSize=null!=this.pageSize?this.pageSize:8,this.tooltipTemplate=a("./editedByPopover.html")}return b.prototype.getEntrySelector=function(a){return e.isString(this.selector)?a[this.selector]:e.isFunction(this.selector)?this.selector(a):void 0},b.prototype.getOlder=function(){return this.messageLog.getNextPage()},b.prototype.getTop=function(){return this.messageLog.getTopPage()},b.prototype.canDeleteEntry=function(a){if(a.isSystemNote)return!1;switch(this.canDelete){case l.deleteAll:return!0;case l.deleteMine:return null==this.currentUser||this.currentUser.id===a.createdBy.id;default:return!1}},b.prototype.canEditEntry=function(a){if(a.isSystemNote)return!1;switch(this.canEdit){case m.editAll:return!0;case m.editMine:return null==this.currentUser||this.currentUser.id===a.createdBy.id;default:return!1}},b.prototype.editMessage=function(b){var c=e.clone(b);this.dialog.openForm({save:this.updateNote.bind(this),data:{entry:c,originalEntry:b},template:a("./messageLogEditDialog.html")})},b.prototype.updateNote=function(a){return this.messageLog.updateMessage(a.entry)},b.prototype.saveNote=function(a){return this.messageLog.addMessage(a.entry)},b.$inject=[j.serviceName,"$scope",h.factoryName],b}();return b.MessageLogController=n,d.$inject=["$interpolate",g.serviceName,k.serviceName,f.downgrade.objectServiceName],b.messageLog=d,c.exports}),System.registerDynamic("components/components/messageLog/messageLog.service",[],!0,function(a,b,c){"use strict";function d(){return{getInstance:function(){return new e}}}b.factoryName="messageLog",b.defaultPageSize=10;var e=function(){function a(){this.currentStartingMessage=0,this._hasForwardMessages=!1,this._hasBackwardMessages=!1,this._pageSize=b.defaultPageSize}return Object.defineProperty(a.prototype,"pageSize",{get:function(){return this._pageSize},set:function(a){this._pageSize=a,this.updateCurrentPage()},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"hasForwardMessages",{get:function(){return this._hasForwardMessages},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"hasBackwardMessages",{get:function(){return this._hasBackwardMessages},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"dataService",{get:function(){return this._dataService},set:function(a){this._dataService=a,null!=a&&(this.visibleMessages=null,this.updateCurrentPage())},enumerable:!0,configurable:!0}),a.prototype.addMessage=function(a){var b=this;return this.dataService.saveMessage(a).then(function(){b.getTopPage()})},a.prototype.updateMessage=function(a){var b=this;return this.dataService.updateMessage(a).then(function(){b.getTopPage()})},a.prototype.deleteMessage=function(a){var b=this;return this.dataService.deleteMessage(a).then(function(){b.refresh()})},a.prototype.getNextPage=function(){return this.hasForwardMessages?(this.currentStartingMessage+=this.pageSize,this.updateCurrentPage()):void 0},a.prototype.getPreviousPage=function(){return this.hasBackwardMessages?(this.currentStartingMessage-=this.pageSize,this.currentStartingMessage<0&&(this.currentStartingMessage=0),this.updateCurrentPage()):void 0},a.prototype.getTopPage=function(){return this.currentStartingMessage=0,this.updateCurrentPage()},a.prototype.refresh=function(){return this.updateCurrentPage()},a.prototype.updateCurrentPage=function(){var a=this;return null==this.dataService?null:(this.busy=!0,this.dataService.getMessages(this.currentStartingMessage,this.pageSize).then(function(b){a.visibleMessages=b.messages,a._hasForwardMessages=b.hasMoreMessages,a._hasBackwardMessages=a.currentStartingMessage>0,a.busy=!1}))},a}();return b.MessageLog=e,b.messageLogFactory=d,c.exports}),System.registerDynamic("components/components/messageLog/editableMessageLog",["typescript-angular-utilities","./messageLog.service"],!0,function(a,b,c){"use strict";function d(){return{restrict:"E",template:'\n			<form ng-submit="log.add()">\n				<div class="input-group">\n					<input type="text" class="form-control" ng-model="log.newMessage" placeholder="Enter log message" />\n					<span class="input-group-btn">\n						<button class="btn btn-default" type="submit" ng-disabled="log.busy">\n							<rl-busy loading="log.savingMessage"></rl-busy> Add\n						</button>\n					</span>\n				</div>\n				<div class="message-log">\n					<rl-message-log service="log.service" page-size="log.pageSize" message-log="log.messageLogService"\n									current-user="log.currentUser" can-delete="log.canDelete"></rl-message-log>\n				</div>\n			</form>\n		',controller:b.controllerName,controllerAs:"log",scope:{},bindToController:{service:"=",pageSize:"=",currentUser:"=?",canDelete:"=?"}}}var e=a("typescript-angular-utilities"),f=a("./messageLog.service");b.directiveName="rlEditableMessageLog",b.controllerName="EditableMessageLogController";var g=function(){function a(a,b,c){var d=this;this.object=c,this.messageLogService=b.getInstance(),a.$watch(function(){return d.messageLogService.busy},function(a){a===!1?(d.busy=!1,d.savingMessage=!1):d.busy=!0})}return a.prototype.add=function(){if(this.object.isNullOrWhitespace(this.newMessage))return null;this.savingMessage=!0;var a=this.newMessage;return this.newMessage="",this.messageLogService.addMessage({message:a})},a.$inject=["$scope",f.factoryName,e.downgrade.objectServiceName],a}();return b.EditableMessageLogController=g,b.editableMessageLog=d,c.exports}),System.registerDynamic("components/components/messageLog/messageLog.module",["angular","typescript-angular-utilities","../../services/jquery/jquery.service","./messageLog.service","./messageLog.directive","./editableMessageLog","../../services/services.module","../../services/templateLoader/templateLoader.service","../../filters/date/date.filter"],!0,function(a,b,c){"use strict";function d(a){for(var c in a)b.hasOwnProperty(c)||(b[c]=a[c])}var e=a("angular"),f=a("typescript-angular-utilities"),g=a("../../services/jquery/jquery.service"),h=a("./messageLog.service"),i=a("./messageLog.directive"),j=a("./editableMessageLog"),k=a("../../services/services.module"),l=k.dialog,m=a("../../services/templateLoader/templateLoader.service"),n=a("../../filters/date/date.filter");return d(a("./messageLog.service")),d(a("./messageLog.directive")),b.moduleName="rl.ui.components.messageLog",e.module(b.moduleName,[f.downgrade.moduleName,g.moduleName,m.moduleName,l.moduleName,n.moduleName]).factory(h.factoryName,h.messageLogFactory).directive(i.directiveName,i.messageLog).controller(i.controllerName,i.MessageLogController).directive(j.directiveName,j.editableMessageLog).controller(j.controllerName,j.EditableMessageLogController),c.exports}),System.registerDynamic("components/components/multiStepIndicator/multiStepIndicator.html",[],!0,function(a,b,c){return c.exports='<div class="multi-step checked" ng-class="{ \'numbered\': breadcrumb.numbered }">\r\n	<ol>\r\n		<li ng-repeat="step in breadcrumb.steps" ng-click="breadcrumb.onClick(step)"\r\n			ng-class="{ \'completed\': step.getCompleted(), \'current\': step.isCurrent, \'active\': !step.inactive && !breadcrumb.anyLoading() }">\r\n			<div class="wrap">\r\n				<p class="badge" ng-show="step.hasCount">{{step.count()}}</p>\r\n				<p class="error" ng-if="!step.getValid()"></p>\r\n				<p class="title">{{step.title}} <rl-busy loading="step.loading"></rl-busy></p>\r\n				<p class="subtitle">{{step.subtitle}}</p>\r\n			</div>\r\n		</li>\r\n	</ol>\r\n</div>',c.exports}),System.registerDynamic("components/components/multiStepIndicator/multiStepIndicator",["angular","lodash","typescript-angular-utilities","./multiStepIndicator.html"],!0,function(a,b,c){"use strict";var d=a("angular"),e=a("lodash"),f=a("typescript-angular-utilities");b.moduleName="rl.ui.components.multiStepIndicator",b.componentName="rlMultiStepIndicator",b.controllerName="MultiStepIndicatorController";var g=function(){function a(a,b,c){this.$state=a,this.$q=b,this.object=c,this.configureSteps()}return a.prototype.onClick=function(a){this.anyLoading()||(a.loading=!0,this.$q.when(a.onClick()).then(function(){a.loading=!1}))},a.prototype.anyLoading=function(){return e.some(this.steps,function(a){return a.loading})},a.prototype.configureSteps=function(){var a=this;e.each(this.steps,function(b){b.hasCount=e.isFunction(b.count),b.getCompleted=function(){return a.getIsCompleted(b)},b.getValid=function(){return a.getIsValid(b)},e.isFunction(b.onClick)||(a.object.isNullOrWhitespace(b.stateName)?b.inactive=!0:(b.onClick=function(){return a.redirectToState(b)},a.$state.includes(b.stateName)&&(b.isCurrent=!0)))})},a.prototype.redirectToState=function(a){var b=this;return this.$state.go(a.stateName).then(function(){b.clearCurrentState(),a.isCurrent=!0})},a.prototype.clearCurrentState=function(){e.each(this.steps,function(a){a.isCurrent=!1})},a.prototype.getIsCompleted=function(a){return e.isFunction(a.isCompleted)?a.isCompleted():a.isCompleted},a.prototype.setIsCompleted=function(a,b){e.isFunction(a.isCompleted)||(a.isCompleted=b)},a.prototype.getIsValid=function(a){return e.isFunction(a.isValid)?a.isValid():e.isUndefined(null!=a.isValid)?!0:a.isValid},a.$inject=["$state","$q",f.downgrade.objectServiceName],a}();b.MultiStepIndicatorController=g;var h={template:a("./multiStepIndicator.html"),controller:b.controllerName,controllerAs:"breadcrumb",bindings:{steps:"=",numbered:"="}};return d.module(b.moduleName,[f.downgrade.moduleName]).component(b.componentName,h).controller(b.controllerName,g),c.exports}),System.registerDynamic("components/components/radio/radioGroup",["typescript-angular-utilities"],!0,function(a,b,c){"use strict";function d(){return{restrict:"AE",require:{ngModel:"ngModel"},controller:b.controllerName,bindToController:!0}}var e=a("typescript-angular-utilities"),f=e.services.guid;b.directiveName="rlRadioGroup",b.controllerName="RadioGroupController";var g=function(){function a(a,b){this.ngModel=a,this.name=b}return Object.defineProperty(a.prototype,"selection",{get:function(){return this.ngModel.$viewValue},set:function(a){this.ngModel.$setViewValue(a)},enumerable:!0,configurable:!0}),a}();b.RadioGroup=g;var h=function(){function a(a,b){this.$attrs=a,this.object=b}return a.prototype.$onInit=function(){var a;a=this.object.isNullOrWhitespace(this.$attrs.rlRadioGroup)?this.object.isNullOrWhitespace(this.$attrs.name)?"RadioGroup-"+f.guid.random():this.$attrs.name:this.$attrs.rlRadioGroup,this.group=new g(this.ngModel,a)},a.$inject=["$attrs",e.downgrade.objectServiceName],a}();return b.RadioGroupController=h,b.radioGroup=d,c.exports}),System.registerDynamic("components/components/radio/radio",["./radioGroup"],!0,function(a,b,c){"use strict";var d=a("./radioGroup");b.componentName="rlRadio",b.controllerName="RadioController";var e=function(){function a(){}return a.prototype.$onInit=function(){null!=this.groupController?this.radioGroup=this.groupController.group:this.radioGroup=new d.RadioGroup(this.ngModel)},a}();return b.RadioController=e,b.radio={require:{groupController:"?^^rlRadioGroup",ngModel:"?ngModel"},transclude:!0,template:'\n		<label>\n			<input id="radio" type="radio" name="{{::radio.radioGroup.name}}" ng-model="radio.radioGroup.selection" ng-value="::radio.value" />\n			<span ng-transclude></div>\n		</label>\n	',controller:b.controllerName,controllerAs:"radio",bindings:{value:"<"}},c.exports}),System.registerDynamic("components/components/radio/radio.module",["angular","typescript-angular-utilities","./radioGroup","./radio"],!0,function(a,b,c){"use strict";var d=a("angular"),e=a("typescript-angular-utilities"),f=a("./radioGroup");b.radioGroupDirectiveName=f.directiveName,b.radioGroup=f.radioGroup,b.radioGroupControllerName=f.controllerName,b.RadioGroupController=f.RadioGroupController;var g=a("./radio");return b.radioComponentName=g.componentName,b.radio=g.radio,b.radioControllerName=g.controllerName,b.RadioController=g.RadioController,b.moduleName="rl21.components.radio",d.module(b.moduleName,[e.downgrade.moduleName]).directive(f.directiveName,f.radioGroup).controller(f.controllerName,f.RadioGroupController).component(g.componentName,g.radio).controller(g.controllerName,g.RadioController),c.exports}),System.registerDynamic("components/components/ratingBar/ratingBarBackgrounds.service",[],!0,function(a,b,c){"use strict";var d=function(){function a(){this.standard={type:"standard","class":"background"},this.dark={type:"dark","class":"background-dark"},this.transparent={type:"transparent","class":"background-transparent"}}return a.prototype.getBackground=function(a){return a===this.dark.type?this.dark["class"]:a===this.transparent.type?this.transparent["class"]:this.standard["class"]},a}();return b.RatingBarBackgroundService=d,c.exports}),System.registerDynamic("components/components/ratingBar/ratingBarClass.service",[],!0,function(a,b,c){"use strict";var d=function(){function a(){}return a.prototype.getClass=function(a){return a>=.8?"very-high":a>=.6?"high":a>=.4?"medium":a>=.2?"low":"very-low"},a}();return b.RatingBarClassService=d,c.exports}),System.registerDynamic("components/components/ratingBar/ratingBar",["angular","../componentsDefaultTheme","./ratingBarBackgrounds.service","./ratingBarClass.service"],!0,function(a,b,c){"use strict";var d=a("angular"),e=a("../componentsDefaultTheme"),f=a("./ratingBarBackgrounds.service"),g=a("./ratingBarClass.service");b.moduleName="rl.ui.components.ratingBar",b.componentName="rlRatingBar",b.controllerName="RatingBarController";var h=function(){function a(a){this.useDefaultTheme=a;var b=new f.RatingBarBackgroundService;this.ratingBarClass=new g.RatingBarClassService,this.backgroundClass=b.getBackground(this.background),null==this.value&&(this.value=0),this.updateValue(this.value),this.updateDimensions(this.totalWidth)}return a.prototype.$onChanges=function(a){a.value&&this.updateValue(a.value.currentValue),a.totalWidth&&this.updateDimensions(a.totalWidth.currentValue)},a.prototype.updateValue=function(a){var b=(a-this.min)/(this.max-this.min);this.barClass=this.ratingBarClass.getClass(b),this.width=Math.round(b*this.totalWidth)},a.prototype.updateDimensions=function(a){this.dimensions={width:a+2,height:this.height+2},this.updateValue(this.value)},a.$inject=[e.defaultThemeValueName],a}();b.RatingBarController=h;var i={template:'\n		<div class="rating-bar">\n			<div class="{{ratingBar.backgroundClass}}" ng-class="{ empty: ratingBar.value == ratingBar.min, \'default-theme\': ratingBar.useDefaultTheme }" ng-style="ratingBar.dimensions">\n				<div ng-class="ratingBar.barClass" ng-style="{ width: ratingBar.width, height: ratingBar.height }"></div>\n			</div>\n		</div>\n	',controller:b.controllerName,controllerAs:"ratingBar",bindings:{totalWidth:"<width",height:"<",value:"<",min:"<",max:"<",background:"<"}};return d.module(b.moduleName,[]).component(b.componentName,i).controller(b.controllerName,h),c.exports}),System.registerDynamic("node_modules/ng-wig/dist/ng-wig",[],!1,function(a,b,c){var d=System.get("@@global-helpers").prepareGlobal(c.id,null,null);return function(){angular.module("ngWig",["ngwig-app-templates"]),angular.module("ngWig").directive("ngWig",["$window","$document","ngWigToolbar",function(a,b,c){return{scope:{content:"=ngWig",onPaste:"="},restrict:"A",replace:!0,templateUrl:"ng-wig/views/ng-wig.html",link:function(b,d,e){function f(a){return a.split(",").map(Function.prototype.call,String.prototype.trim)}b.formElementName=e.name,d.removeAttr("name"),b.isRequired=!!e.required,b.isSourceModeAllowed=-1!==Object.keys(e).indexOf("sourceModeAllowed"),b.editMode=!1,b.toolbarButtons=c.getToolbarButtons(e.buttons&&f(e.buttons)),b.toggleEditMode=function(){b.editMode=!b.editMode,a.getSelection().removeAllRanges&&a.getSelection().removeAllRanges()},b.execCommand=function(a,c){return b.editMode?!1:void(("createlink"!==a||(c=prompt("Please enter the URL","http://")))&&b.$broadcast("execCommand",{command:a,options:c}))},null==e.ngDisabled&&null==e.disabled||b.$watch(function(){return!!e.disabled},function(a){b.isDisabled=a,b.$broadcast("nw-disabled",a)})}}}]),angular.module("ngWig").directive("ngWigEditable",["$document",function(a){function b(b,c,d,e){function f(){e.$setViewValue(c.html())}c.attr("contenteditable",!0),e.$render=function(){c.html(e.$viewValue||"")};var g=["blur","keyup","change","focus","click"];angular.isFunction(b.onPaste)?c.on("paste",function(a){b.onPaste(a,c.html()).then(function(a){c.html(a)})}):g.push("paste"),c.bind(g.join(" "),function(){f(),b.$applyAsync()}),b.isEditorActive=function(){return c[0]===a[0].activeElement},b.$on("execCommand",function(b,d){c[0].focus();var e=a[0].selection,g=d.command,h=d.options;if(e)var i=e.createRange();if(a[0].queryCommandSupported&&!a[0].queryCommandSupported(g))throw'The command "'+g+'" is not supported';a[0].execCommand(g,!1,h),e&&(i.collapse(!1),i.select()),f()}),b.$on("nw-disabled",function(a,b){c.attr("contenteditable",!b)})}return{restrict:"A",require:"ngModel",replace:!0,link:b}}]),angular.module("ngWig").directive("ngWigPlugin",["$compile",function(a){return{restrict:"E",link:function(b,c){var d="<"+b.button.pluginName+" />",e=a(d)(b);c.replaceWith(e)}}}]),angular.module("ngWig").provider("ngWigToolbar",function(){var a={list1:{title:"Unordered List",command:"insertunorderedlist",styleClass:"list-ul"},list2:{title:"Ordered List",command:"insertorderedlist",styleClass:"list-ol"},bold:{title:"Bold",command:"bold",styleClass:"bold"},italic:{title:"Italic",command:"italic",styleClass:"italic"},link:{title:"Link",command:"createlink",styleClass:"link"}},b=["list1","list2","bold","italic","link"],c=function(){return this.command&&document.queryCommandState(this.command)};this.setButtons=function(a){if(!angular.isArray(a))throw'Argument "buttons" should be an array';b=a},this.addStandardButton=function(c,d,e,f){if(!c||!d||!e)throw'Arguments "name", "title" and "command" are required';f=f||"",a[c]={title:d,command:e,styleClass:f},b.push(c)},this.addCustomButton=function(c,d){if(!c||!d)throw'Arguments "name" and "pluginName" are required';a[c]={pluginName:d,isComplex:!0},b.push(c)},this.$get=function(){return{getToolbarButtons:function(d){var e=[];return(d||b).forEach(function(b){if(!a[b])throw'There is no "'+b+'" in your library. Possible variants: '+Object.keys(a);var d=angular.copy(a[b]);angular.isFunction(d.isActive)||(d.isActive=c),e.push(d)}),e}}}}),angular.module("ngWig").config(["ngWigToolbarProvider",function(a){a.addCustomButton("formats","nw-formats-button")}]).directive("nwFormatsButton",function(){return{restrict:"E",replace:!0,template:'<select class="nw-select" ng-model="format" ng-change="execCommand(\'formatblock\', format.value)" ng-options="format.name for format in formats" ng-disabled="editMode || isDisabled"></select>',link:function(a){a.formats=[{name:"Normal text",value:"p"},{name:"Header 1",value:"h1"},{name:"Header 2",value:"h2"},{name:"Header 3",value:"h3"}],a.format=a.formats[0]}}}),angular.module("ngwig-app-templates",["ng-wig/views/ng-wig.html"]),angular.module("ng-wig/views/ng-wig.html",[]).run(["$templateCache",function(a){a.put("ng-wig/views/ng-wig.html",'<div class="ng-wig">\n  <ul class="nw-toolbar">\n    <li class="nw-toolbar__item" ng-repeat="button in toolbarButtons" >\n        <div ng-if="!button.isComplex">\n          <button type="button" class="nw-button {{button.styleClass}}" title="{{button.title}}" ng-click="execCommand(button.command)" ng-class="{ \'nw-button--active\': isEditorActive() && button.isActive() }" ng-disabled="editMode || isDisabled">\n            {{ button.title }}\n          </button>\n        </div>\n        <div ng-if="button.isComplex">\n          <ng-wig-plugin plugin="{{button}}"></ng-wig-plugin>\n        </div>\n    </li><!--\n    --><li class="nw-toolbar__item">\n      <button type="button" class="nw-button nw-button--source" title="Edit HTML" ng-class="{ \'nw-button--active\': editMode }" ng-show="isSourceModeAllowed" ng-click="toggleEditMode()" ng-disabled="isDisabled">\n        Edit HTML\n      </button>\n    </li>\n  </ul>\n\n  <div class="nw-editor-container">\n    <div class="nw-editor__src-container" ng-show="editMode">\n      <textarea ng-required="isRequired" ng-disabled="isDisabled" class="nw-editor__src" ng-model="content"></textarea>\n    </div>\n    <div class="nw-editor" ng-class="{ \'nw-disabled\': isDisabled }">\n      <div name="{{formElementName}}" ng-required="isRequired" tabindex="-1" ng-class="{\'nw-invisible\': editMode}" class="nw-editor__res" ng-model="content" ng-wig-editable on-paste="onPaste"></div>\n    </div>\n  </div>\n</div>\n')}])}(),d()}),System.registerDynamic("components/components/richTextEditor/richTextEditor.config",[],!0,function(a,b,c){"use strict";function d(a){return{addCustomButton:function(b,c){a.addCustomButton(b,c)},addStandardButton:function(b,c,d,e){a.addStandardButton(b,toolbar,d,"fa-"+e)},$get:function(){a.addCustomButton("paragraph","rl-paragraph-button"),a.addCustomButton("h1","rl-header-button"),a.addStandardButton("underline","Underline","underline","fa-underline"),a.addStandardButton("indent","Indent","indent","fa-indent"),a.addStandardButton("outdent","Outdent","outdent","fa-outdent")}}}return b.providerName="richTextEditor",d.$inject=["ngWigToolbarProvider"],b.richTextEditorProvider=d,c.exports}),System.registerDynamic("components/components/richTextEditor/headerButton",[],!0,function(a,b,c){"use strict";function d(){return{restrict:"E",template:'\n			<button type="button" class="nw-button header" ng-click="trigger()" ng-disabled="editMode || isDisabled" title="Header 1"></button>\n		',link:function(a){a.trigger=function(){a.execCommand("formatblock","h1")}}}}return b.headerButtonDirectiveName="rlHeaderButton",b.headerButton=d,c.exports}),System.registerDynamic("components/components/richTextEditor/paragraphButton",[],!0,function(a,b,c){"use strict";function d(){return{restrict:"E",template:'\n			<button type="button" class="nw-button paragraph" ng-click="trigger()" ng-disabled="editMode || isDisabled" title="paragraph"></button>\n		',link:function(a){a.trigger=function(){a.execCommand("formatblock","p")}}}}return b.paragraphButtonDirectiveName="rlParagraphButton",b.paragraphButton=d,c.exports}),System.registerDynamic("components/components/richTextEditor/richTextEditor.html",[],!0,function(a,b,c){return c.exports='<textarea class="rich-text-editor" ng-wig="editor.ngModel" buttons="{{editor.toolbar}}" ng-disabled="editor.ngDisabled"></textarea>',c.exports}),System.registerDynamic("components/components/richTextEditor/richTextEditor",["ng-wig/dist/ng-wig","angular","typescript-angular-utilities","./richTextEditor.config","./headerButton","./paragraphButton","./richTextEditor.html"],!0,function(a,b,c){"use strict";a("ng-wig/dist/ng-wig");var d=a("angular"),e=a("typescript-angular-utilities"),f=a("./richTextEditor.config"),g=a("./headerButton"),h=a("./paragraphButton"),i=f.providerName+"Provider";b.providerName=i,b.moduleName="rl.ui.components.richTextEditor",b.componentName="rlRichTextEditor",b.controllerName="RichTextEditorController";var j=function(){function a(a,b){this.toolbar="h1, paragraph, bold, italic, underline, list1, list2, indent, outdent",a.isNullOrEmpty(this.customButtons)||(this.toolbar+=", "+this.customButtons)}return a.$inject=[e.downgrade.objectServiceName,f.providerName],a}();b.RichTextEditorController=j;var k={template:a("./richTextEditor.html"),controller:b.controllerName,controllerAs:"editor",bindings:{ngModel:"=",customButtons:"=",ngDisabled:"="}};return d.module(b.moduleName,["ngWig",e.downgrade.moduleName]).component(b.componentName,k).controller(b.controllerName,j).directive(g.headerButtonDirectiveName,g.headerButton).directive(h.paragraphButtonDirectiveName,h.paragraphButton).provider(f.providerName,f.richTextEditorProvider),c.exports}),System.registerDynamic("node_modules/ui-select/dist/select",[],!1,function(a,b,c){var d=System.get("@@global-helpers").prepareGlobal(c.id,null,null);return function(){!function(){"use strict";var a={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,COMMAND:91,MAP:{91:"COMMAND",8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",17:"CTRL",18:"ALT",19:"PAUSEBREAK",20:"CAPSLOCK",27:"ESC",32:"SPACE",33:"PAGE_UP",34:"PAGE_DOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",43:"+",44:"PRINTSCREEN",45:"INSERT",46:"DELETE",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NUMLOCK",145:"SCROLLLOCK",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},isControl:function(b){var c=b.which;switch(c){case a.COMMAND:case a.SHIFT:case a.CTRL:case a.ALT:return!0}return!!b.metaKey},isFunctionKey:function(a){return a=a.which?a.which:a,a>=112&&123>=a},isVerticalMovement:function(b){return~[a.UP,a.DOWN].indexOf(b)},isHorizontalMovement:function(b){return~[a.LEFT,a.RIGHT,a.BACKSPACE,a.DELETE].indexOf(b)},toSeparator:function(b){var c={ENTER:"\n",TAB:"	",SPACE:" "}[b];return c?c:a[b]?void 0:b}};void 0===angular.element.prototype.querySelectorAll&&(angular.element.prototype.querySelectorAll=function(a){return angular.element(this[0].querySelectorAll(a))}),void 0===angular.element.prototype.closest&&(angular.element.prototype.closest=function(a){for(var b=this[0],c=b.matches||b.webkitMatchesSelector||b.mozMatchesSelector||b.msMatchesSelector;b;){if(c.bind(b)(a))return b;b=b.parentElement}return!1});var b=0,c=angular.module("ui.select",[]).constant("uiSelectConfig",{theme:"bootstrap",searchEnabled:!0,
sortable:!1,placeholder:"",refreshDelay:1e3,closeOnSelect:!0,dropdownPosition:"auto",generateId:function(){return b++},appendToBody:!1}).service("uiSelectMinErr",function(){var a=angular.$$minErr("ui.select");return function(){var b=a.apply(this,arguments),c=b.message.replace(new RegExp("\nhttp://errors.angularjs.org/.*"),"");return new Error(c)}}).directive("uisTranscludeAppend",function(){return{link:function(a,b,c,d,e){e(a,function(a){b.append(a)})}}}).filter("highlight",function(){function a(a){return(""+a).replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(b,c){return c&&b?(""+b).replace(new RegExp(a(c),"gi"),'<span class="ui-select-highlight">$&</span>'):b}}).factory("uisOffset",["$document","$window",function(a,b){return function(c){var d=c[0].getBoundingClientRect();return{width:d.width||c.prop("offsetWidth"),height:d.height||c.prop("offsetHeight"),top:d.top+(b.pageYOffset||a[0].documentElement.scrollTop),left:d.left+(b.pageXOffset||a[0].documentElement.scrollLeft)}}}]);c.directive("uiSelectChoices",["uiSelectConfig","uisRepeatParser","uiSelectMinErr","$compile","$window",function(a,b,c,d,e){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(b){b.addClass("ui-select-choices");var c=b.parent().attr("theme")||a.theme;return c+"/choices.tpl.html"},compile:function(f,g){if(!g.repeat)throw c("repeat","Expected 'repeat' expression.");return function(f,g,h,i,j){var k=h.groupBy,l=h.groupFilter;if(i.parseRepeatAttr(h.repeat,k,l),i.disableChoiceExpression=h.uiDisableChoice,i.onHighlightCallback=h.onHighlight,i.dropdownPosition=h.position?h.position.toLowerCase():a.dropdownPosition,k){var m=g.querySelectorAll(".ui-select-choices-group");if(1!==m.length)throw c("rows","Expected 1 .ui-select-choices-group but got '{0}'.",m.length);m.attr("ng-repeat",b.getGroupNgRepeatExpression())}var n=g.querySelectorAll(".ui-select-choices-row");if(1!==n.length)throw c("rows","Expected 1 .ui-select-choices-row but got '{0}'.",n.length);n.attr("ng-repeat",i.parserResult.repeatExpression(k)).attr("ng-if","$select.open"),e.document.addEventListener&&n.attr("ng-mouseenter","$select.setActiveItem("+i.parserResult.itemName+")").attr("ng-click","$select.select("+i.parserResult.itemName+",false,$event)");var o=g.querySelectorAll(".ui-select-choices-row-inner");if(1!==o.length)throw c("rows","Expected 1 .ui-select-choices-row-inner but got '{0}'.",o.length);o.attr("uis-transclude-append",""),e.document.addEventListener||o.attr("ng-mouseenter","$select.setActiveItem("+i.parserResult.itemName+")").attr("ng-click","$select.select("+i.parserResult.itemName+",false,$event)"),d(g,j)(f),f.$watch("$select.search",function(a){a&&!i.open&&i.multiple&&i.activate(!1,!0),i.activeIndex=i.tagging.isActivated?-1:0,!h.minimumInputLength||i.search.length>=h.minimumInputLength?i.refresh(h.refresh):i.items=[]}),h.$observe("refreshDelay",function(){var b=f.$eval(h.refreshDelay);i.refreshDelay=void 0!==b?b:a.refreshDelay})}}}}]),c.controller("uiSelectCtrl",["$scope","$element","$timeout","$filter","uisRepeatParser","uiSelectMinErr","uiSelectConfig","$parse","$injector",function(b,c,d,e,f,g,h,i,j){function k(a,b,c){if(a.findIndex)return a.findIndex(b,c);for(var d,e=Object(a),f=e.length>>>0,g=0;f>g;g++)if(d=e[g],b.call(c,d,g,e))return g;return-1}function l(){(p.resetSearchInput||void 0===p.resetSearchInput&&h.resetSearchInput)&&(p.search=q,p.selected&&p.items.length&&!p.multiple&&(p.activeIndex=k(p.items,function(a){return angular.equals(this,a)},p.selected)))}function m(a,b){var c,d,e=[];for(c=0;c<b.length;c++)for(d=0;d<a.length;d++)a[d].name==[b[c]]&&e.push(a[d]);return e}function n(b){var c=!0;switch(b){case a.DOWN:!p.open&&p.multiple?p.activate(!1,!0):p.activeIndex<p.items.length-1&&p.activeIndex++;break;case a.UP:!p.open&&p.multiple?p.activate(!1,!0):(p.activeIndex>0||0===p.search.length&&p.tagging.isActivated&&p.activeIndex>-1)&&p.activeIndex--;break;case a.TAB:p.multiple&&!p.open||p.select(p.items[p.activeIndex],!0);break;case a.ENTER:p.open&&(p.tagging.isActivated||p.activeIndex>=0)?p.select(p.items[p.activeIndex]):p.activate(!1,!0);break;case a.ESC:p.close();break;default:c=!1}return c}function o(){var a=c.querySelectorAll(".ui-select-choices-content"),b=a.querySelectorAll(".ui-select-choices-row");if(b.length<1)throw g("choices","Expected multiple .ui-select-choices-row but got '{0}'.",b.length);if(!(p.activeIndex<0)){var d=b[p.activeIndex],e=d.offsetTop+d.clientHeight-a[0].scrollTop,f=a[0].offsetHeight;e>f?a[0].scrollTop+=e-f:e<d.clientHeight&&(p.isGrouped&&0===p.activeIndex?a[0].scrollTop=0:a[0].scrollTop-=d.clientHeight-e)}}var p=this,q="";if(p.placeholder=h.placeholder,p.searchEnabled=h.searchEnabled,p.sortable=h.sortable,p.refreshDelay=h.refreshDelay,p.paste=h.paste,p.removeSelected=!1,p.closeOnSelect=!0,p.search=q,p.activeIndex=0,p.items=[],p.open=!1,p.focus=!1,p.disabled=!1,p.selected=void 0,p.dropdownPosition="auto",p.focusser=void 0,p.resetSearchInput=!0,p.multiple=void 0,p.disableChoiceExpression=void 0,p.tagging={isActivated:!1,fct:void 0},p.taggingTokens={isActivated:!1,tokens:void 0},p.lockChoiceExpression=void 0,p.clickTriggeredSelect=!1,p.$filter=e,p.$animate=function(){try{return j.get("$animate")}catch(a){return null}}(),p.searchInput=c.querySelectorAll("input.ui-select-search"),1!==p.searchInput.length)throw g("searchInput","Expected 1 input.ui-select-search but got '{0}'.",p.searchInput.length);p.isEmpty=function(){return angular.isUndefined(p.selected)||null===p.selected||""===p.selected||p.multiple&&0===p.selected.length},p.activate=function(a,e){if(!p.disabled&&!p.open){e||l(),b.$broadcast("uis:activate"),p.open=!0,p.activeIndex=p.activeIndex>=p.items.length?0:p.activeIndex,-1===p.activeIndex&&p.taggingLabel!==!1&&(p.activeIndex=0);var f=c.querySelectorAll(".ui-select-choices-content");p.$animate&&p.$animate.enabled(f[0])?p.$animate.on("enter",f[0],function(b,c){"close"===c&&d(function(){p.focusSearchInput(a)})}):d(function(){p.focusSearchInput(a)})}},p.focusSearchInput=function(a){p.search=a||p.search,p.searchInput[0].focus(),!p.tagging.isActivated&&p.items.length>1&&o()},p.findGroupByName=function(a){return p.groups&&p.groups.filter(function(b){return b.name===a})[0]},p.parseRepeatAttr=function(a,c,d){function e(a){var e=b.$eval(c);if(p.groups=[],angular.forEach(a,function(a){var b=angular.isFunction(e)?e(a):a[e],c=p.findGroupByName(b);c?c.items.push(a):p.groups.push({name:b,items:[a]})}),d){var f=b.$eval(d);angular.isFunction(f)?p.groups=f(p.groups):angular.isArray(f)&&(p.groups=m(p.groups,f))}p.items=[],p.groups.forEach(function(a){p.items=p.items.concat(a.items)})}function h(a){p.items=a}p.setItemsFn=c?e:h,p.parserResult=f.parse(a),p.isGrouped=!!c,p.itemProperty=p.parserResult.itemName;var j=p.parserResult.source,k=function(){var a=j(b);b.$uisSource=Object.keys(a).map(function(b){var c={};return c[p.parserResult.keyName]=b,c.value=a[b],c})};p.parserResult.keyName&&(k(),p.parserResult.source=i("$uisSource"+p.parserResult.filters),b.$watch(j,function(a,b){a!==b&&k()},!0)),p.refreshItems=function(a){a=a||p.parserResult.source(b);var c=p.selected;if(p.isEmpty()||angular.isArray(c)&&!c.length||!p.removeSelected)p.setItemsFn(a);else if(void 0!==a){var d=a.filter(function(a){return c&&c.indexOf(a)<0});p.setItemsFn(d)}"auto"!==p.dropdownPosition&&"up"!==p.dropdownPosition||b.calculateDropdownPos()},b.$watchCollection(p.parserResult.source,function(a){if(void 0===a||null===a)p.items=[];else{if(!angular.isArray(a))throw g("items","Expected an array but got '{0}'.",a);p.refreshItems(a),p.ngModel.$modelValue=null}})};var r;p.refresh=function(a){void 0!==a&&(r&&d.cancel(r),r=d(function(){b.$eval(a)},p.refreshDelay))},p.isActive=function(a){if(!p.open)return!1;var b=p.items.indexOf(a[p.itemProperty]),c=b==p.activeIndex;return!c||0>b&&p.taggingLabel!==!1||0>b&&p.taggingLabel===!1?!1:(c&&!angular.isUndefined(p.onHighlightCallback)&&a.$eval(p.onHighlightCallback),c)},p.isDisabled=function(a){if(p.open){var b,c=p.items.indexOf(a[p.itemProperty]),d=!1;return c>=0&&!angular.isUndefined(p.disableChoiceExpression)&&(b=p.items[c],d=!!a.$eval(p.disableChoiceExpression),b._uiSelectChoiceDisabled=d),d}},p.select=function(a,c,e){if(void 0===a||!a._uiSelectChoiceDisabled){if(!p.items&&!p.search&&!p.tagging.isActivated)return;if(!a||!a._uiSelectChoiceDisabled){if(p.tagging.isActivated){if(p.taggingLabel===!1)if(p.activeIndex<0){if(a=void 0!==p.tagging.fct?p.tagging.fct(p.search):p.search,!a||angular.equals(p.items[0],a))return}else a=p.items[p.activeIndex];else if(0===p.activeIndex){if(void 0===a)return;if(void 0!==p.tagging.fct&&"string"==typeof a){if(a=p.tagging.fct(a),!a)return}else"string"==typeof a&&(a=a.replace(p.taggingLabel,"").trim())}if(p.selected&&angular.isArray(p.selected)&&p.selected.filter(function(b){return angular.equals(b,a)}).length>0)return void p.close(c)}b.$broadcast("uis:select",a);var f={};f[p.parserResult.itemName]=a,d(function(){p.onSelectCallback(b,{$item:a,$model:p.parserResult.modelMapper(b,f)})}),p.closeOnSelect&&p.close(c),e&&"click"===e.type&&(p.clickTriggeredSelect=!0)}}},p.close=function(a){p.open&&(p.ngModel&&p.ngModel.$setTouched&&p.ngModel.$setTouched(),l(),p.open=!1,b.$broadcast("uis:close",a))},p.setFocus=function(){p.focus||p.focusInput[0].focus()},p.clear=function(a){p.select(void 0),a.stopPropagation(),d(function(){p.focusser[0].focus()},0,!1)},p.toggle=function(a){p.open?(p.close(),a.preventDefault(),a.stopPropagation()):p.activate()},p.isLocked=function(a,b){var c,d=p.selected[b];return d&&!angular.isUndefined(p.lockChoiceExpression)&&(c=!!a.$eval(p.lockChoiceExpression),d._uiSelectChoiceLocked=c),c};var s=null;p.sizeSearchInput=function(){var a=p.searchInput[0],c=p.searchInput.parent().parent()[0],e=function(){return c.clientWidth*!!a.offsetParent},f=function(b){if(0===b)return!1;var c=b-a.offsetLeft-10;return 50>c&&(c=b),p.searchInput.css("width",c+"px"),!0};p.searchInput.css("width","10px"),d(function(){null!==s||f(e())||(s=b.$watch(e,function(a){f(a)&&(s(),s=null)}))})},p.searchInput.on("keydown",function(c){var e=c.which;~[a.ENTER,a.ESC].indexOf(e)&&(c.preventDefault(),c.stopPropagation()),b.$apply(function(){var b=!1;if((p.items.length>0||p.tagging.isActivated)&&(n(e),p.taggingTokens.isActivated)){for(var f=0;f<p.taggingTokens.tokens.length;f++)p.taggingTokens.tokens[f]===a.MAP[c.keyCode]&&p.search.length>0&&(b=!0);b&&d(function(){p.searchInput.triggerHandler("tagged");var b=p.search.replace(a.MAP[c.keyCode],"").trim();p.tagging.fct&&(b=p.tagging.fct(b)),b&&p.select(b,!0)})}}),a.isVerticalMovement(e)&&p.items.length>0&&o(),e!==a.ENTER&&e!==a.ESC||(c.preventDefault(),c.stopPropagation())}),p.searchInput.on("paste",function(b){var c;if(c=window.clipboardData&&window.clipboardData.getData?window.clipboardData.getData("Text"):(b.originalEvent||b).clipboardData.getData("text/plain"),c=p.search+c,c&&c.length>0)if(p.taggingTokens.isActivated){var d=a.toSeparator(p.taggingTokens.tokens[0]),e=c.split(d||p.taggingTokens.tokens[0]);if(e&&e.length>0){var f=p.search;angular.forEach(e,function(a){var b=p.tagging.fct?p.tagging.fct(a):a;b&&p.select(b,!0)}),p.search=f||q,b.preventDefault(),b.stopPropagation()}}else p.paste&&(p.paste(c),p.search=q,b.preventDefault(),b.stopPropagation())}),p.searchInput.on("tagged",function(){d(function(){l()})}),b.$on("$destroy",function(){p.searchInput.off("keyup keydown tagged blur paste")})}]),c.directive("uiSelect",["$document","uiSelectConfig","uiSelectMinErr","uisOffset","$compile","$parse","$timeout",function(a,b,c,d,e,f,g){return{restrict:"EA",templateUrl:function(a,c){var d=c.theme||b.theme;return d+(angular.isDefined(c.multiple)?"/select-multiple.tpl.html":"/select.tpl.html")},replace:!0,transclude:!0,require:["uiSelect","^ngModel"],scope:!0,controller:"uiSelectCtrl",controllerAs:"$select",compile:function(e,h){var i=/{(.*)}\s*{(.*)}/.exec(h.ngClass);if(i){var j="{"+i[1]+", "+i[2]+"}";h.ngClass=j,e.attr("ng-class",j)}return angular.isDefined(h.multiple)?e.append("<ui-select-multiple/>").removeAttr("multiple"):e.append("<ui-select-single/>"),h.inputId&&(e.querySelectorAll("input.ui-select-search")[0].id=h.inputId),function(e,h,i,j,k){function l(a){if(o.open){var b=!1;if(b=window.jQuery?window.jQuery.contains(h[0],a.target):h[0].contains(a.target),!b&&!o.clickTriggeredSelect){var c=["input","button","textarea","select"],d=angular.element(a.target).controller("uiSelect"),f=d&&d!==o;f||(f=~c.indexOf(a.target.tagName.toLowerCase())),o.close(f),e.$digest()}o.clickTriggeredSelect=!1}}function m(){var b=d(h);r=angular.element('<div class="ui-select-placeholder"></div>'),r[0].style.width=b.width+"px",r[0].style.height=b.height+"px",h.after(r),s=h[0].style.width,a.find("body").append(h),h[0].style.position="absolute",h[0].style.left=b.left+"px",h[0].style.top=b.top+"px",h[0].style.width=b.width+"px"}function n(){null!==r&&(r.replaceWith(h),r=null,h[0].style.position="",h[0].style.left="",h[0].style.top="",h[0].style.width=s,o.setFocus())}var o=j[0],p=j[1];o.generatedId=b.generateId(),o.baseTitle=i.title||"Select box",o.focusserTitle=o.baseTitle+" focus",o.focusserId="focusser-"+o.generatedId,o.closeOnSelect=function(){return angular.isDefined(i.closeOnSelect)?f(i.closeOnSelect)():b.closeOnSelect}(),o.onSelectCallback=f(i.onSelect),o.onRemoveCallback=f(i.onRemove),o.limit=angular.isDefined(i.limit)?parseInt(i.limit,10):void 0,o.ngModel=p,o.choiceGrouped=function(a){return o.isGrouped&&a&&a.name},i.tabindex&&i.$observe("tabindex",function(a){o.focusInput.attr("tabindex",a),h.removeAttr("tabindex")}),e.$watch("searchEnabled",function(){var a=e.$eval(i.searchEnabled);o.searchEnabled=void 0!==a?a:b.searchEnabled}),e.$watch("sortable",function(){var a=e.$eval(i.sortable);o.sortable=void 0!==a?a:b.sortable}),i.$observe("disabled",function(){o.disabled=void 0!==i.disabled?i.disabled:!1}),i.$observe("resetSearchInput",function(){var a=e.$eval(i.resetSearchInput);o.resetSearchInput=void 0!==a?a:!0}),i.$observe("paste",function(){o.paste=e.$eval(i.paste)}),i.$observe("tagging",function(){if(void 0!==i.tagging){var a=e.$eval(i.tagging);o.tagging={isActivated:!0,fct:a!==!0?a:void 0}}else o.tagging={isActivated:!1,fct:void 0}}),i.$observe("taggingLabel",function(){void 0!==i.tagging&&("false"===i.taggingLabel?o.taggingLabel=!1:o.taggingLabel=void 0!==i.taggingLabel?i.taggingLabel:"(new)")}),i.$observe("taggingTokens",function(){if(void 0!==i.tagging){var a=void 0!==i.taggingTokens?i.taggingTokens.split("|"):[",","ENTER"];o.taggingTokens={isActivated:!0,tokens:a}}}),angular.isDefined(i.autofocus)&&g(function(){o.setFocus()}),angular.isDefined(i.focusOn)&&e.$on(i.focusOn,function(){g(function(){o.setFocus()})}),a.on("click",l),e.$on("$destroy",function(){a.off("click",l)}),k(e,function(a){var b=angular.element("<div>").append(a),d=b.querySelectorAll(".ui-select-match");if(d.removeAttr("ui-select-match"),d.removeAttr("data-ui-select-match"),1!==d.length)throw c("transcluded","Expected 1 .ui-select-match but got '{0}'.",d.length);h.querySelectorAll(".ui-select-match").replaceWith(d);var e=b.querySelectorAll(".ui-select-choices");if(e.removeAttr("ui-select-choices"),e.removeAttr("data-ui-select-choices"),1!==e.length)throw c("transcluded","Expected 1 .ui-select-choices but got '{0}'.",e.length);h.querySelectorAll(".ui-select-choices").replaceWith(e)});var q=e.$eval(i.appendToBody);(void 0!==q?q:b.appendToBody)&&(e.$watch("$select.open",function(a){a?m():n()}),e.$on("$destroy",function(){n()}));var r=null,s="",t=null,u="direction-up";e.$watch("$select.open",function(){"auto"!==o.dropdownPosition&&"up"!==o.dropdownPosition||e.calculateDropdownPos()});var v=function(a,b){a=a||d(h),b=b||d(t),t[0].style.position="absolute",t[0].style.top=-1*b.height+"px",h.addClass(u)},w=function(a,b){h.removeClass(u),a=a||d(h),b=b||d(t),t[0].style.position="",t[0].style.top=""};e.calculateDropdownPos=function(){if(o.open){if(t=angular.element(h).querySelectorAll(".ui-select-dropdown"),0===t.length)return;t[0].style.opacity=0,g(function(){if("up"===o.dropdownPosition)v();else{h.removeClass(u);var b=d(h),c=d(t),e=a[0].documentElement.scrollTop||a[0].body.scrollTop;b.top+b.height+c.height>e+a[0].documentElement.clientHeight?v(b,c):w(b,c)}t[0].style.opacity=1})}else{if(null===t||0===t.length)return;t[0].style.position="",t[0].style.top="",h.removeClass(u)}}}}}}]),c.directive("uiSelectMatch",["uiSelectConfig",function(a){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(b){b.addClass("ui-select-match");var c=b.parent().attr("theme")||a.theme,d=b.parent().attr("multiple");return c+(d?"/match-multiple.tpl.html":"/match.tpl.html")},link:function(b,c,d,e){function f(a){e.allowClear=angular.isDefined(a)?""===a?!0:"true"===a.toLowerCase():!1}e.lockChoiceExpression=d.uiLockChoice,d.$observe("placeholder",function(b){e.placeholder=void 0!==b?b:a.placeholder}),d.$observe("allowClear",f),f(d.allowClear),e.multiple&&e.sizeSearchInput()}}}]),c.directive("uiSelectMultiple",["uiSelectMinErr","$timeout",function(b,c){return{restrict:"EA",require:["^uiSelect","^ngModel"],controller:["$scope","$timeout",function(a,b){var c,d=this,e=a.$select;angular.isUndefined(e.selected)&&(e.selected=[]),a.$evalAsync(function(){c=a.ngModel}),d.activeMatchIndex=-1,d.updateModel=function(){c.$setViewValue(Date.now()),d.refreshComponent()},d.refreshComponent=function(){e.refreshItems(),e.sizeSearchInput()},d.removeChoice=function(c){var f=e.selected[c];if(!f._uiSelectChoiceLocked){var g={};g[e.parserResult.itemName]=f,e.selected.splice(c,1),d.activeMatchIndex=-1,e.sizeSearchInput(),b(function(){e.onRemoveCallback(a,{$item:f,$model:e.parserResult.modelMapper(a,g)})}),d.updateModel()}},d.getPlaceholder=function(){return e.selected&&e.selected.length?void 0:e.placeholder}}],controllerAs:"$selectMultiple",link:function(d,e,f,g){function h(a){return angular.isNumber(a.selectionStart)?a.selectionStart:a.value.length}function i(b){function c(){switch(b){case a.LEFT:return~n.activeMatchIndex?k:g;case a.RIGHT:return~n.activeMatchIndex&&i!==g?j:(l.activate(),!1);case a.BACKSPACE:return~n.activeMatchIndex?(n.removeChoice(i),k):g;case a.DELETE:return~n.activeMatchIndex?(n.removeChoice(n.activeMatchIndex),i):!1}}var d=h(l.searchInput[0]),e=l.selected.length,f=0,g=e-1,i=n.activeMatchIndex,j=n.activeMatchIndex+1,k=n.activeMatchIndex-1,m=i;return d>0||l.search.length&&b==a.RIGHT?!1:(l.close(),m=c(),l.selected.length&&m!==!1?n.activeMatchIndex=Math.min(g,Math.max(f,m)):n.activeMatchIndex=-1,!0)}function j(a){if(void 0===a||void 0===l.search)return!1;var b=a.filter(function(a){return void 0===l.search.toUpperCase()||void 0===a?!1:a.toUpperCase()===l.search.toUpperCase()}).length>0;return b}function k(a,b){var c=-1;if(angular.isArray(a))for(var d=angular.copy(a),e=0;e<d.length;e++)if(void 0===l.tagging.fct)d[e]+" "+l.taggingLabel===b&&(c=e);else{var f=d[e];angular.isObject(f)&&(f.isTag=!0),angular.equals(f,b)&&(c=e)}return c}var l=g[0],m=d.ngModel=g[1],n=d.$selectMultiple;l.multiple=!0,l.removeSelected=!0,l.focusInput=l.searchInput,m.$parsers.unshift(function(){for(var a,b={},c=[],e=l.selected.length-1;e>=0;e--)b={},b[l.parserResult.itemName]=l.selected[e],a=l.parserResult.modelMapper(d,b),c.unshift(a);return c}),m.$formatters.unshift(function(a){var b,c=l.parserResult.source(d,{$select:{search:""}}),e={};if(!c)return a;var f=[],g=function(a,c){if(a&&a.length){for(var g=a.length-1;g>=0;g--){if(e[l.parserResult.itemName]=a[g],b=l.parserResult.modelMapper(d,e),l.parserResult.trackByExp){var h=/(\w*)\./.exec(l.parserResult.trackByExp),i=/\.([^\s]+)/.exec(l.parserResult.trackByExp);if(h&&h.length>0&&h[1]==l.parserResult.itemName&&i&&i.length>0&&b[i[1]]==c[i[1]])return f.unshift(a[g]),!0}if(angular.equals(b,c))return f.unshift(a[g]),!0}return!1}};if(!a)return f;for(var h=a.length-1;h>=0;h--)g(l.selected,a[h])||g(c,a[h])||f.unshift(a[h]);return f}),d.$watchCollection(function(){return m.$modelValue},function(a,b){b!=a&&(m.$modelValue=null,n.refreshComponent())}),m.$render=function(){if(!angular.isArray(m.$viewValue)){if(!angular.isUndefined(m.$viewValue)&&null!==m.$viewValue)throw b("multiarr","Expected model value to be array but got '{0}'",m.$viewValue);l.selected=[]}l.selected=m.$viewValue,d.$evalAsync()},d.$on("uis:select",function(a,b){l.selected.length>=l.limit||(l.selected.push(b),n.updateModel())}),d.$on("uis:activate",function(){n.activeMatchIndex=-1}),d.$watch("$select.disabled",function(a,b){b&&!a&&l.sizeSearchInput()}),l.searchInput.on("keydown",function(b){var c=b.which;d.$apply(function(){var d=!1;a.isHorizontalMovement(c)&&(d=i(c)),d&&c!=a.TAB&&(b.preventDefault(),b.stopPropagation())})}),l.searchInput.on("keyup",function(b){if(a.isVerticalMovement(b.which)||d.$evalAsync(function(){l.activeIndex=l.taggingLabel===!1?-1:0}),l.tagging.isActivated&&l.search.length>0){if(b.which===a.TAB||a.isControl(b)||a.isFunctionKey(b)||b.which===a.ESC||a.isVerticalMovement(b.which))return;if(l.activeIndex=l.taggingLabel===!1?-1:0,l.taggingLabel===!1)return;var c,e,f,g,h=angular.copy(l.items),i=angular.copy(l.items),m=!1,n=-1;if(void 0!==l.tagging.fct){if(f=l.$filter("filter")(h,{isTag:!0}),f.length>0&&(g=f[0]),h.length>0&&g&&(m=!0,h=h.slice(1,h.length),i=i.slice(1,i.length)),c=l.tagging.fct(l.search),c.isTag=!0,i.filter(function(a){return angular.equals(a,l.tagging.fct(l.search))}).length>0)return;c.isTag=!0}else{if(f=l.$filter("filter")(h,function(a){return a.match(l.taggingLabel)}),f.length>0&&(g=f[0]),e=h[0],void 0!==e&&h.length>0&&g&&(m=!0,h=h.slice(1,h.length),i=i.slice(1,i.length)),c=l.search+" "+l.taggingLabel,k(l.selected,l.search)>-1)return;if(j(i.concat(l.selected)))return void(m&&(h=i,d.$evalAsync(function(){l.activeIndex=0,l.items=h})));if(j(i))return void(m&&(l.items=i.slice(1,i.length)))}m&&(n=k(l.selected,c)),n>-1?h=h.slice(n+1,h.length-1):(h=[],h.push(c),h=h.concat(i)),d.$evalAsync(function(){l.activeIndex=0,l.items=h})}}),l.searchInput.on("blur",function(){c(function(){n.activeMatchIndex=-1})})}}}]),c.directive("uiSelectSingle",["$timeout","$compile",function(b,c){return{restrict:"EA",require:["^uiSelect","^ngModel"],link:function(d,e,f,g){var h=g[0],i=g[1];i.$parsers.unshift(function(a){var b,c={};return c[h.parserResult.itemName]=a,b=h.parserResult.modelMapper(d,c)}),i.$formatters.unshift(function(a){var b,c=h.parserResult.source(d,{$select:{search:""}}),e={};if(c){var f=function(c){return e[h.parserResult.itemName]=c,b=h.parserResult.modelMapper(d,e),b==a};if(h.selected&&f(h.selected))return h.selected;for(var g=c.length-1;g>=0;g--)if(f(c[g]))return c[g]}return a}),d.$watch("$select.selected",function(a){i.$viewValue!==a&&i.$setViewValue(a)}),i.$render=function(){h.selected=i.$viewValue},d.$on("uis:select",function(a,b){h.selected=b}),d.$on("uis:close",function(a,c){b(function(){h.focusser.prop("disabled",!1),c||h.focusser[0].focus()},0,!1)}),d.$on("uis:activate",function(){j.prop("disabled",!0)});var j=angular.element("<input ng-disabled='$select.disabled' class='ui-select-focusser ui-select-offscreen' type='text' id='{{ $select.focusserId }}' aria-label='{{ $select.focusserTitle }}' aria-haspopup='true' role='button' />");c(j)(d),h.focusser=j,h.focusInput=j,e.parent().append(j),j.bind("focus",function(){d.$evalAsync(function(){h.focus=!0})}),j.bind("blur",function(){d.$evalAsync(function(){h.focus=!1})}),j.bind("keydown",function(b){return b.which===a.BACKSPACE?(b.preventDefault(),b.stopPropagation(),h.select(void 0),void d.$apply()):void(b.which===a.TAB||a.isControl(b)||a.isFunctionKey(b)||b.which===a.ESC||(b.which!=a.DOWN&&b.which!=a.UP&&b.which!=a.ENTER&&b.which!=a.SPACE||(b.preventDefault(),b.stopPropagation(),h.activate()),d.$digest()))}),j.bind("keyup input",function(b){b.which===a.TAB||a.isControl(b)||a.isFunctionKey(b)||b.which===a.ESC||b.which==a.ENTER||b.which===a.BACKSPACE||(h.activate(j.val()),j.val(""),d.$digest())})}}}]),c.directive("uiSelectSort",["$timeout","uiSelectConfig","uiSelectMinErr",function(a,b,c){return{require:"^^uiSelect",link:function(b,d,e,f){if(null===b[e.uiSelectSort])throw c("sort","Expected a list to sort");var g=angular.extend({axis:"horizontal"},b.$eval(e.uiSelectSortOptions)),h=g.axis,i="dragging",j="dropping",k="dropping-before",l="dropping-after";b.$watch(function(){return f.sortable},function(a){a?d.attr("draggable",!0):d.removeAttr("draggable")}),d.on("dragstart",function(a){d.addClass(i),(a.dataTransfer||a.originalEvent.dataTransfer).setData("text/plain",b.$index)}),d.on("dragend",function(){d.removeClass(i)});var m,n=function(a,b){this.splice(b,0,this.splice(a,1)[0])},o=function(a){a.preventDefault();var b="vertical"===h?a.offsetY||a.layerY||(a.originalEvent?a.originalEvent.offsetY:0):a.offsetX||a.layerX||(a.originalEvent?a.originalEvent.offsetX:0);b<this["vertical"===h?"offsetHeight":"offsetWidth"]/2?(d.removeClass(l),d.addClass(k)):(d.removeClass(k),d.addClass(l))},p=function(b){b.preventDefault();var c=parseInt((b.dataTransfer||b.originalEvent.dataTransfer).getData("text/plain"),10);a.cancel(m),m=a(function(){q(c)},20)},q=function(a){var c=b.$eval(e.uiSelectSort),f=c[a],g=null;g=d.hasClass(k)?a<b.$index?b.$index-1:b.$index:a<b.$index?b.$index:b.$index+1,n.apply(c,[a,g]),b.$apply(function(){b.$emit("uiSelectSort:change",{array:c,item:f,from:a,to:g})}),d.removeClass(j),d.removeClass(k),d.removeClass(l),d.off("drop",p)};d.on("dragenter",function(){d.hasClass(i)||(d.addClass(j),d.on("dragover",o),d.on("drop",p))}),d.on("dragleave",function(a){a.target==d&&(d.removeClass(j),d.removeClass(k),d.removeClass(l),d.off("dragover",o),d.off("drop",p))})}}}]),c.service("uisRepeatParser",["uiSelectMinErr","$parse",function(a,b){var c=this;c.parse=function(c){var d,e=/\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)/.test(c);if(d=c.match(/^\s*(?:([\s\S]+?)\s+as\s+)?(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(([\w\.]+)?\s*(|\s*[\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),!d)throw a("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",c);if(!d[6]&&e)throw a("iexp","Expected expression in form of '_item_ as (_key_, _item_) in _ObjCollection_ [ track by _id_]' but got '{0}'.",c);return{itemName:d[4]||d[2],keyName:d[3],source:b(d[3]?d[6]:d[5]),sourceName:d[6],filters:d[7],trackByExp:d[8],modelMapper:b(d[1]||d[4]||d[2]),repeatExpression:function(a){var b=this.itemName+" in "+(a?"$group.items":"$select.items");return this.trackByExp&&(b+=" track by "+this.trackByExp),b}}},c.getGroupNgRepeatExpression=function(){return"$group in $select.groups"}}])}(),angular.module("ui.select").run(["$templateCache",function(a){a.put("bootstrap/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content ui-select-dropdown dropdown-menu" role="listbox" ng-show="$select.items.length > 0"><li class="ui-select-choices-group" id="ui-select-choices-{{ $select.generatedId }}"><div class="divider" ng-show="$select.isGrouped && $index > 0"></div><div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header" ng-bind="$group.name"></div><div id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}" role="option"><a href="" class="ui-select-choices-row-inner"></a></div></li></ul>'),a.put("bootstrap/match-multiple.tpl.html",'<span class="ui-select-match"><span ng-repeat="$item in $select.selected"><span class="ui-select-match-item btn btn-default btn-xs" tabindex="-1" type="button" ng-disabled="$select.disabled" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'btn-primary\':$selectMultiple.activeMatchIndex === $index, \'select-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span class="close ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&nbsp;&times;</span> <span uis-transclude-append=""></span></span></span></span>'),a.put("bootstrap/match.tpl.html",'<div class="ui-select-match" ng-hide="$select.open" ng-disabled="$select.disabled" ng-class="{\'btn-default-focus\':$select.focus}"><span tabindex="-1" class="btn btn-default form-control ui-select-toggle" aria-label="{{ $select.baseTitle }} activate" ng-disabled="$select.disabled" ng-click="$select.activate()" style="outline: 0;"><span ng-show="$select.isEmpty()" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="ui-select-match-text pull-left" ng-class="{\'ui-select-allow-clear\': $select.allowClear && !$select.isEmpty()}" ng-transclude=""></span> <i class="caret pull-right" ng-click="$select.toggle($event)"></i> <a ng-show="$select.allowClear && !$select.isEmpty()" aria-label="{{ $select.baseTitle }} clear" style="margin-right: 10px" ng-click="$select.clear($event)" class="btn btn-xs btn-link pull-right"><i class="glyphicon glyphicon-remove" aria-hidden="true"></i></a></span></div>'),a.put("bootstrap/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control" ng-class="{open: $select.open}"><div><div class="ui-select-match"></div><input type="text" autocomplete="false" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search input-xs" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-click="$select.activate()" ng-model="$select.search" role="combobox" aria-label="{{ $select.baseTitle }}" ondrop="return false;"></div><div class="ui-select-choices"></div></div>'),a.put("bootstrap/select.tpl.html",'<div class="ui-select-container ui-select-bootstrap dropdown" ng-class="{open: $select.open}"><div class="ui-select-match"></div><input type="text" autocomplete="false" tabindex="-1" aria-expanded="true" aria-label="{{ $select.baseTitle }}" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="form-control ui-select-search" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-show="$select.searchEnabled && $select.open"><div class="ui-select-choices"></div></div>'),a.put("select2/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content select2-results"><li class="ui-select-choices-group" ng-class="{\'select2-result-with-children\': $select.choiceGrouped($group) }"><div ng-show="$select.choiceGrouped($group)" class="ui-select-choices-group-label select2-result-label" ng-bind="$group.name"></div><ul role="listbox" id="ui-select-choices-{{ $select.generatedId }}" ng-class="{\'select2-result-sub\': $select.choiceGrouped($group), \'select2-result-single\': !$select.choiceGrouped($group) }"><li role="option" id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{\'select2-highlighted\': $select.isActive(this), \'select2-disabled\': $select.isDisabled(this)}"><div class="select2-result-label ui-select-choices-row-inner"></div></li></ul></li></ul>'),a.put("select2/match-multiple.tpl.html",'<span class="ui-select-match"><li class="ui-select-match-item select2-search-choice" ng-repeat="$item in $select.selected" ng-class="{\'select2-search-choice-focus\':$selectMultiple.activeMatchIndex === $index, \'select2-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span uis-transclude-append=""></span> <a href="javascript:;" class="ui-select-match-close select2-search-choice-close" ng-click="$selectMultiple.removeChoice($index)" tabindex="-1"></a></li></span>'),a.put("select2/match.tpl.html",'<a class="select2-choice ui-select-match" ng-class="{\'select2-default\': $select.isEmpty()}" ng-click="$select.toggle($event)" aria-label="{{ $select.baseTitle }} select"><span ng-show="$select.isEmpty()" class="select2-chosen">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="select2-chosen" ng-transclude=""></span> <abbr ng-if="$select.allowClear && !$select.isEmpty()" class="select2-search-choice-close" ng-click="$select.clear($event)"></abbr> <span class="select2-arrow ui-select-toggle"><b></b></span></a>'),
a.put("select2/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple select2 select2-container select2-container-multi" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled}"><ul class="select2-choices"><span class="ui-select-match"></span><li class="select2-search-field"><input type="text" autocomplete="false" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="select2-input ui-select-search" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-model="$select.search" ng-click="$select.activate()" style="width: 34px;" ondrop="return false;"></li></ul><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="ui-select-choices"></div></div></div>'),a.put("select2/select.tpl.html",'<div class="ui-select-container select2 select2-container" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled, \'select2-container-active\': $select.focus, \'select2-allowclear\': $select.allowClear && !$select.isEmpty()}"><div class="ui-select-match"></div><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="select2-search" ng-show="$select.searchEnabled"><input type="text" autocomplete="false" autocorrect="false" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="ui-select-search select2-input" ng-model="$select.search"></div><div class="ui-select-choices"></div></div></div>'),a.put("selectize/choices.tpl.html",'<div ng-show="$select.open" class="ui-select-choices ui-select-dropdown selectize-dropdown single"><div class="ui-select-choices-content selectize-dropdown-content"><div class="ui-select-choices-group optgroup" role="listbox"><div ng-show="$select.isGrouped" class="ui-select-choices-group-label optgroup-header" ng-bind="$group.name"></div><div role="option" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}"><div class="option ui-select-choices-row-inner" data-selectable=""></div></div></div></div></div>'),a.put("selectize/match.tpl.html",'<div ng-hide="($select.open || $select.isEmpty())" class="ui-select-match" ng-transclude=""></div>'),a.put("selectize/select.tpl.html",'<div class="ui-select-container selectize-control single" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.open && !$select.searchEnabled ? $select.toggle($event) : $select.activate()"><div class="ui-select-match"></div><input type="text" autocomplete="false" tabindex="-1" class="ui-select-search ui-select-toggle" ng-click="$select.toggle($event)" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-hide="!$select.searchEnabled || ($select.selected && !$select.open)" ng-disabled="$select.disabled" aria-label="{{ $select.baseTitle }}"></div><div class="ui-select-choices"></div></div>')}])}(),d()}),System.registerDynamic("node_modules/ui-select/index",["./dist/select.js"],!0,function(a,b,c){return a("./dist/select.js"),c.exports="ui.select",c.exports}),System.registerDynamic("components/components/select/select.html",[],!0,function(a,b,c){return c.exports='<div class="field" ng-class="{ \'error\': select.ngModel.$invalid }">\r\n	<label ng-show="select.selection" class="label-slide angular-animate">\r\n		{{::select.label}}\r\n	</label>\r\n	<ui-select ng-model="select.selection" search-enabled="false" theme="bootstrap" ng-disabled="select.ngDisabled">\r\n		<ui-select-match placeholder="{{::select.label}}">{{select.getDisplayName($select.selected)}}</ui-select-match>\r\n		<ui-select-choices repeat="$item in select.options">\r\n			<div ng-switch="$item.__isNullOption">\r\n				<div ng-switch-when="true">{{select.nullOption}}</div>\r\n				<div ng-switch-default>\r\n					<rl-template-renderer template="select.template" rl-alias="$item as {{select.itemAs}}"></rl-template-renderer>\r\n				</div>\r\n			</div>\r\n		</ui-select-choices>\r\n	</ui-select>\r\n	<span class="error-string angular-animate" ng-if="select.inputValidator.error | isEmpty:false">{{select.inputValidator.error}}</span>\r\n	<rl-busy loading="select.loading"></rl-busy>\r\n</div>',c.exports}),System.registerDynamic("components/components/select/select",["ui-select","angular","lodash","typescript-angular-utilities","../input/input","../../services/componentValidator/componentValidator.service","../../services/jquery/jquery.service","./select.html"],!0,function(a,b,c){"use strict";var d=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};a("ui-select");var e=a("angular"),f=a("lodash"),g=a("typescript-angular-utilities"),h=g.services.transform.transform,i=a("../input/input"),j=a("../../services/componentValidator/componentValidator.service"),k=a("../../services/jquery/jquery.service");b.moduleName="rl.ui.components.select",b.componentName="rlSelect",b.controllerName="SelectController";var l=function(a){function b(b,c,d,e,f,g,h){var i=this;a.call(this,b,c,g),this.$q=d,this.object=f,this._nullOption={__isNullOption:!0},this.inputType="select",this.transform=this.transform||this.selector,this.template||e(function(a){a.length?i.template=h.getHtml(a):i.template="{{select.getDisplayName($item)}}"})}return d(b,a),Object.defineProperty(b.prototype,"selection",{get:function(){return this.ngModel.$viewValue},set:function(a){a.__isNullOption?this.ngModel.$setViewValue(null):this.ngModel.$setViewValue(a),this.select({item:this.ngModel.$viewValue})},enumerable:!0,configurable:!0}),b.prototype.$onInit=function(){var b=this;a.prototype.$onInit.call(this),f.isUndefined(this.options)?(this.loading=!0,this.loadItems().then(function(a){b.options=a,b.loading=!1})):this.options=this.configureOptions(this.options)},b.prototype.getDisplayName=function(a){return h.getValue(a,this.transform)},b.prototype.loadItems=function(){var a,b=this;return a=this.getOptions(),null==a&&(a=this.$q.when(this.options)),a.then(function(a){return b.configureOptions(a)})},b.prototype.configureOptions=function(a){return this.object.isNullOrWhitespace(this.nullOption)||a.unshift(this._nullOption),a},b.$inject=["$scope","$attrs","$q","$transclude",g.downgrade.objectServiceName,j.factoryName,k.serviceName],b}(i.InputController);b.SelectController=l;var m=i.buildInput({transclude:!0,template:a("./select.html"),controller:b.controllerName,controllerAs:"select",bindings:{options:"<?",getOptions:"&",transform:"<?",ngDisabled:"<?",nullOption:"@",select:"&",itemAs:"@",selector:"<?",template:"<?"}});return e.module(b.moduleName,["ui.select",g.downgrade.moduleName,i.moduleName,k.moduleName]).component(b.componentName,m).controller(b.controllerName,l),c.exports}),function(){var a=System.amdDefine;!function(b,c){"function"==typeof a&&a.amd?a("node_modules/signature_pad/signature_pad",[],function(){return b.SignaturePad=c()}):"object"==typeof exports?module.exports=c():b.SignaturePad=c()}(this,function(){var a=function(a){"use strict";var b=function(a,b){var c=this,d=b||{};this.velocityFilterWeight=d.velocityFilterWeight||.7,this.minWidth=d.minWidth||.5,this.maxWidth=d.maxWidth||2.5,this.dotSize=d.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=d.penColor||"black",this.backgroundColor=d.backgroundColor||"rgba(0,0,0,0)",this.onEnd=d.onEnd,this.onBegin=d.onBegin,this._canvas=a,this._ctx=a.getContext("2d"),this.clear(),this._handleMouseDown=function(a){1===a.which&&(c._mouseButtonDown=!0,c._strokeBegin(a))},this._handleMouseMove=function(a){c._mouseButtonDown&&c._strokeUpdate(a)},this._handleMouseUp=function(a){1===a.which&&c._mouseButtonDown&&(c._mouseButtonDown=!1,c._strokeEnd(a))},this._handleTouchStart=function(a){if(1==a.targetTouches.length){var b=a.changedTouches[0];c._strokeBegin(b)}},this._handleTouchMove=function(a){a.preventDefault();var b=a.targetTouches[0];c._strokeUpdate(b)},this._handleTouchEnd=function(a){var b=a.target===c._canvas;b&&(a.preventDefault(),c._strokeEnd(a))},this._handleMouseEvents(),this._handleTouchEvents()};b.prototype.clear=function(){var a=this._ctx,b=this._canvas;a.fillStyle=this.backgroundColor,a.clearRect(0,0,b.width,b.height),a.fillRect(0,0,b.width,b.height),this._reset()},b.prototype.toDataURL=function(a,b){var c=this._canvas;return c.toDataURL.apply(c,arguments)},b.prototype.fromDataURL=function(a){var b=this,c=new Image,d=window.devicePixelRatio||1,e=this._canvas.width/d,f=this._canvas.height/d;this._reset(),c.src=a,c.onload=function(){b._ctx.drawImage(c,0,0,e,f)},this._isEmpty=!1},b.prototype._strokeUpdate=function(a){var b=this._createPoint(a);this._addPoint(b)},b.prototype._strokeBegin=function(a){this._reset(),this._strokeUpdate(a),"function"==typeof this.onBegin&&this.onBegin(a)},b.prototype._strokeDraw=function(a){var b=this._ctx,c="function"==typeof this.dotSize?this.dotSize():this.dotSize;b.beginPath(),this._drawPoint(a.x,a.y,c),b.closePath(),b.fill()},b.prototype._strokeEnd=function(a){var b=this.points.length>2,c=this.points[0];!b&&c&&this._strokeDraw(c),"function"==typeof this.onEnd&&this.onEnd(a)},b.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),a.addEventListener("mouseup",this._handleMouseUp)},b.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)},b.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()},b.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),a.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)},b.prototype.isEmpty=function(){return this._isEmpty},b.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._isEmpty=!0,this._ctx.fillStyle=this.penColor},b.prototype._createPoint=function(a){var b=this._canvas.getBoundingClientRect();return new c(a.clientX-b.left,a.clientY-b.top)},b.prototype._addPoint=function(a){var b,c,e,f,g=this.points;g.push(a),g.length>2&&(3===g.length&&g.unshift(g[0]),f=this._calculateCurveControlPoints(g[0],g[1],g[2]),b=f.c2,f=this._calculateCurveControlPoints(g[1],g[2],g[3]),c=f.c1,e=new d(g[1],b,c,g[2]),this._addCurve(e),g.shift())},b.prototype._calculateCurveControlPoints=function(a,b,d){var e=a.x-b.x,f=a.y-b.y,g=b.x-d.x,h=b.y-d.y,i={x:(a.x+b.x)/2,y:(a.y+b.y)/2},j={x:(b.x+d.x)/2,y:(b.y+d.y)/2},k=Math.sqrt(e*e+f*f),l=Math.sqrt(g*g+h*h),m=i.x-j.x,n=i.y-j.y,o=l/(k+l),p={x:j.x+m*o,y:j.y+n*o},q=b.x-p.x,r=b.y-p.y;return{c1:new c(i.x+q,i.y+r),c2:new c(j.x+q,j.y+r)}},b.prototype._addCurve=function(a){var b,c,d=a.startPoint,e=a.endPoint;b=e.velocityFrom(d),b=this.velocityFilterWeight*b+(1-this.velocityFilterWeight)*this._lastVelocity,c=this._strokeWidth(b),this._drawCurve(a,this._lastWidth,c),this._lastVelocity=b,this._lastWidth=c},b.prototype._drawPoint=function(a,b,c){var d=this._ctx;d.moveTo(a,b),d.arc(a,b,c,0,2*Math.PI,!1),this._isEmpty=!1},b.prototype._drawCurve=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o=this._ctx,p=c-b;for(d=Math.floor(a.length()),o.beginPath(),f=0;d>f;f++)g=f/d,h=g*g,i=h*g,j=1-g,k=j*j,l=k*j,m=l*a.startPoint.x,m+=3*k*g*a.control1.x,m+=3*j*h*a.control2.x,m+=i*a.endPoint.x,n=l*a.startPoint.y,n+=3*k*g*a.control1.y,n+=3*j*h*a.control2.y,n+=i*a.endPoint.y,e=b+i*p,this._drawPoint(m,n,e);o.closePath(),o.fill()},b.prototype._strokeWidth=function(a){return Math.max(this.maxWidth/(a+1),this.minWidth)};var c=function(a,b,c){this.x=a,this.y=b,this.time=c||(new Date).getTime()};c.prototype.velocityFrom=function(a){return this.time!==a.time?this.distanceTo(a)/(this.time-a.time):1},c.prototype.distanceTo=function(a){return Math.sqrt(Math.pow(this.x-a.x,2)+Math.pow(this.y-a.y,2))};var d=function(a,b,c,d){this.startPoint=a,this.control1=b,this.control2=c,this.endPoint=d};return d.prototype.length=function(){var a,b,c,d,e,f,g,h,i=10,j=0;for(a=0;i>=a;a++)b=a/i,c=this._point(b,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),d=this._point(b,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y),a>0&&(g=c-e,h=d-f,j+=Math.sqrt(g*g+h*h)),e=c,f=d;return j},d.prototype._point=function(a,b,c,d,e){return b*(1-a)*(1-a)*(1-a)+3*c*(1-a)*(1-a)*a+3*d*(1-a)*a*a+e*a*a*a},b}(document);return a})}(),System.registerDynamic("components/components/signaturePad/signaturePad",["angular","signature_pad"],!0,function(a,b,c){"use strict";function d(){return{restrict:"E",require:"ngModel",template:'\n			<canvas class="signature-pad" ng-if="!ngDisabled"></canvas>\n			<img ng-src="{{ngModel.$viewValue}}" ng-style="style" ng-if="ngDisabled" />\n		',scope:{pad:"=?",height:"=",width:"=",ngDisabled:"="},link:function(a,b,c,d){a.$watch("ngDisabled",function(c){if(a.ngModel=d,c)a.style={height:null!=a.height?a.height:100,width:null!=a.width?a.width:200};else{var e=b.find(".signature-pad").get(0),g={backgroundColor:"rgb(255, 255, 255)"};a.pad=new f(e,g),e.height=null!=a.height?a.height:100,e.width=null!=a.width?a.width:200,a.$watch(function(){return d.$viewValue},function(b){null!=b&&a.pad.fromDataURL(b)}),a.$watch(function(){return a.pad.toDataURL()},function(a){null!=a&&d.$setViewValue(a)})}})}}}var e=a("angular"),f=a("signature_pad");return b.moduleName="rl.ui.components.signaturePad",b.directiveName="rlSignaturePad",b.signaturePad=d,e.module(b.moduleName,[]).directive(b.directiveName,d),c.exports}),System.registerDynamic("components/components/simpleCardList/simpleCard.html",[],!0,function(a,b,c){return c.exports='<div class="card col-xs-12 {{card.cardType}}" rl-alternating-class="card-odd">\r\n	<div class="header row" ng-class="{ \'active\': card.canOpen && !card.alwaysOpen, \'error\': cardForm.$invalid }" ng-click="card.toggleContent()">\r\n		<div ng-transclude="headerSlot"></div>\r\n		<div class="clearfix"></div>\r\n	</div>\r\n\r\n	<ng-form name="cardForm" rl-autosave="card.autosaveLink" save="card.save()" save-when-invalid="card.saveWhenInvalid">\r\n		<div ng-show="card.showContent || card.alwaysOpen">\r\n			<div class="body row">\r\n				<div ng-transclude="contentSlot"></div>\r\n				<div class="clearfix"></div>\r\n			</div>\r\n			<div class="footer row">\r\n				<div ng-transclude="footerSlot"></div>\r\n				<div class="clearfix"></div>\r\n			</div>\r\n		</div>\r\n	</ng-form>\r\n</div>',c.exports}),System.registerDynamic("components/components/simpleCardList/simpleCard",["rxjs","../../services/parentChild/parentChild.service","./simpleCard.html"],!0,function(a,b,c){"use strict";var d=a("rxjs"),e=a("../../services/parentChild/parentChild.service");b.componentName="rlSimpleCard",b.controllerName="SimpleCardController";var f=function(){function a(a){var b=this;this.parentChild=a,this.showContent=!1,this.autosaveLink={},this.close=function(){return b.showContent===!1||b.alwaysOpen?!0:b.autosave()}}return a.prototype.$onInit=function(){null==this.canOpen&&(this.canOpen=!0),null==this.listController&&(this.listController=this.noList());var a={autosave:this.autosave.bind(this),close:this.close};this.listController.alwaysOpenChanges.subscribe(this.updateAlwaysOpen.bind(this)),this.listController.registerCard(a),this.parentChild.registerChildBehavior(this.childLink,a),this.updateAlwaysOpen(this.alwaysOpen)},a.prototype.$onChanges=function(a){a.alwaysOpen&&this.updateAlwaysOpen(a.alwaysOpen.currentValue)},a.prototype.toggleContent=function(){this.showContent?this.close():this.open()},a.prototype.open=function(){this.canOpen&&this.listController.openCard()&&(this.showContent=!0,this.onOpen())},a.prototype.autosave=function(){var a=this;return this.parentChild.triggerChildBehavior(this.autosaveLink,function(b){var c=b.autosave();return c&&(a.showContent=!1),c})},a.prototype.noList=function(){return{alwaysOpenChanges:new d.Subject,openCard:function(){return!0},registerCard:function(a){return null}}},a.prototype.updateAlwaysOpen=function(a){a?this.showContent=!0:this.close()},a.$inject=[e.serviceName],a}();return b.SimpleCardController=f,b.simpleCard={transclude:{headerSlot:"?rlCardHeader",contentSlot:"?rlCardContent",footerSlot:"?rlCardFooter"},require:{listController:"?^^rlSimpleCardList"},template:a("./simpleCard.html"),controller:b.controllerName,controllerAs:"card",bindings:{onOpen:"&",canOpen:"<?",alwaysOpen:"<?",childLink:"=?",save:"&",saveWhenInvalid:"<?",cardType:"@"}},c.exports}),System.registerDynamic("components/components/simpleCardList/simpleCardList",["lodash","rxjs"],!0,function(a,b,c){"use strict";function d(){return{restrict:"AE",controller:b.controllerName}}var e=a("lodash"),f=a("rxjs");b.directiveName="rlSimpleCardList",b.controllerName="SimpleCardListController";var g=function(){function a(a,b,c){this.cards=[],this.alwaysOpenChanges=new f.Subject,a.$watch(function(){return c(b.alwaysOpen)(a)},this.alwaysOpenChange.bind(this)),b.$addClass("card-list")}return a.prototype.registerCard=function(a){this.cards.push(a)},a.prototype.openCard=function(){return e.every(this.cards,function(a){return a.close()})},a.prototype.alwaysOpenChange=function(a){this.alwaysOpen=a,this.alwaysOpenChanges.next(a)},a.$inject=["$scope","$attrs","$parse"],a}();return b.SimpleCardListController=g,b.simpleCardList=d,c.exports}),System.registerDynamic("components/components/simpleCardList/simpleCardList.module",["angular","typescript-angular-utilities","../../services/parentChild/parentChild.service","./simpleCard","./simpleCardList"],!0,function(a,b,c){"use strict";var d=a("angular"),e=a("typescript-angular-utilities"),f=a("../../services/parentChild/parentChild.service"),g=a("./simpleCard");b.simpleCard=g;var h=a("./simpleCardList");return b.simpleCardList=h,b.moduleName="rl.ui.components.simpleCardList",d.module(b.moduleName,[e.downgrade.moduleName,f.moduleName]).directive(h.directiveName,h.simpleCardList).controller(h.controllerName,h.SimpleCardListController).component(g.componentName,g.simpleCard).controller(g.controllerName,g.SimpleCardController),c.exports}),System.registerDynamic("libraries/bootstrap-touchspin/jquery.bootstrap-touchspin",[],!1,function(a,b,c){var d=System.get("@@global-helpers").prepareGlobal(c.id,null,null);return function(){!function(a){"use strict";function b(a,b){return a+".touchspin_"+b}function c(c,d){return a.map(c,function(a){return b(a,d)})}var d=0;a.fn.TouchSpin=function(b){if("destroy"===b)return void this.each(function(){var b=a(this),d=b.data();a(document).off(c(["mouseup","touchend","touchcancel","mousemove","touchmove","scroll","scrollstart"],d.spinnerid).join(" "))});var e={min:0,max:100,initval:"",step:1,decimals:0,stepinterval:100,forcestepdivisibility:"round",stepintervaldelay:500,verticalbuttons:!1,verticalupclass:"glyphicon glyphicon-chevron-up",verticaldownclass:"glyphicon glyphicon-chevron-down",prefix:"",postfix:"",prefix_extraclass:"",postfix_extraclass:"",booster:!0,boostat:10,maxboostedstep:!1,mousewheel:!0,buttondown_class:"btn btn-default",buttonup_class:"btn btn-default",buttondown_txt:"-",buttonup_txt:"+"},f={min:"min",max:"max",initval:"init-val",step:"step",decimals:"decimals",stepinterval:"step-interval",verticalbuttons:"vertical-buttons",verticalupclass:"vertical-up-class",verticaldownclass:"vertical-down-class",forcestepdivisibility:"force-step-divisibility",stepintervaldelay:"step-interval-delay",prefix:"prefix",postfix:"postfix",prefix_extraclass:"prefix-extra-class",postfix_extraclass:"postfix-extra-class",booster:"booster",boostat:"boostat",maxboostedstep:"max-boosted-step",mousewheel:"mouse-wheel",buttondown_class:"button-down-class",buttonup_class:"button-up-class",buttondown_txt:"button-down-txt",buttonup_txt:"button-up-txt"};return this.each(function(){function g(){if(!J.data("alreadyinitialized")){if(J.data("alreadyinitialized",!0),d+=1,J.data("spinnerid",d),!J.is("input"))return void console.log("Must be an input.");j(),h(),u(),m(),p(),q(),r(),s(),D.input.css("display","block")}}function h(){""!==B.initval&&""===J.val()&&J.val(B.initval)}function i(a){l(a),u();var b=D.input.val();""!==b&&(b=Number(D.input.val()),D.input.val(b.toFixed(B.decimals)))}function j(){B=a.extend({},e,K,k(),b)}function k(){var b={};return a.each(f,function(a,c){var d="bts-"+c;J.is("[data-"+d+"]")&&(b[a]=J.data(d))}),b}function l(b){B=a.extend({},B,b)}function m(){var a=J.val(),b=J.parent();""!==a&&(a=Number(a).toFixed(B.decimals)),J.data("initvalue",a).val(a),J.addClass("form-control"),b.hasClass("input-group")?n(b):o()}function n(b){b.addClass("bootstrap-touchspin");var c,d,e=J.prev(),f=J.next(),g='<span class="input-group-addon bootstrap-touchspin-prefix">'+B.prefix+"</span>",h='<span class="input-group-addon bootstrap-touchspin-postfix">'+B.postfix+"</span>";e.hasClass("input-group-btn")?(c='<button class="'+B.buttondown_class+' bootstrap-touchspin-down" type="button">'+B.buttondown_txt+"</button>",e.append(c)):(c='<span class="input-group-btn"><button class="'+B.buttondown_class+' bootstrap-touchspin-down" type="button">'+B.buttondown_txt+"</button></span>",a(c).insertBefore(J)),f.hasClass("input-group-btn")?(d='<button class="'+B.buttonup_class+' bootstrap-touchspin-up" type="button">'+B.buttonup_txt+"</button>",f.prepend(d)):(d='<span class="input-group-btn"><button class="'+B.buttonup_class+' bootstrap-touchspin-up" type="button">'+B.buttonup_txt+"</button></span>",a(d).insertAfter(J)),a(g).insertBefore(J),a(h).insertAfter(J),C=b}function o(){var b;b=B.verticalbuttons?'<div class="input-group bootstrap-touchspin"><span class="input-group-addon bootstrap-touchspin-prefix">'+B.prefix+'</span><span class="input-group-addon bootstrap-touchspin-postfix">'+B.postfix+'</span><span class="input-group-btn-vertical"><button class="'+B.buttondown_class+' bootstrap-touchspin-up" type="button"><i class="'+B.verticalupclass+'"></i></button><button class="'+B.buttonup_class+' bootstrap-touchspin-down" type="button"><i class="'+B.verticaldownclass+'"></i></button></span></div>':'<div class="input-group bootstrap-touchspin"><span class="input-group-btn"><button class="'+B.buttondown_class+' bootstrap-touchspin-down" type="button">'+B.buttondown_txt+'</button></span><span class="input-group-addon bootstrap-touchspin-prefix">'+B.prefix+'</span><span class="input-group-addon bootstrap-touchspin-postfix">'+B.postfix+'</span><span class="input-group-btn"><button class="'+B.buttonup_class+' bootstrap-touchspin-up" type="button">'+B.buttonup_txt+"</button></span></div>",C=a(b).insertBefore(J),a(".bootstrap-touchspin-prefix",C).after(J),J.hasClass("input-sm")?C.addClass("input-group-sm"):J.hasClass("input-lg")&&C.addClass("input-group-lg")}function p(){D={down:a(".bootstrap-touchspin-down",C),up:a(".bootstrap-touchspin-up",C),input:a("input",C),prefix:a(".bootstrap-touchspin-prefix",C).addClass(B.prefix_extraclass),postfix:a(".bootstrap-touchspin-postfix",C).addClass(B.postfix_extraclass)}}function q(){""===B.prefix&&D.prefix.hide(),""===B.postfix&&D.postfix.hide()}function r(){J.on("keydown",function(a){var b=a.keyCode||a.which;38===b?("up"!==M&&(w(),z()),a.preventDefault()):40===b&&("down"!==M&&(x(),y()),a.preventDefault())}),J.on("keyup",function(a){var b=a.keyCode||a.which;38===b?A():40===b&&A()}),J.on("blur",function(){u()}),D.down.on("keydown",function(a){var b=a.keyCode||a.which;32!==b&&13!==b||("down"!==M&&(x(),y()),a.preventDefault())}),D.down.on("keyup",function(a){var b=a.keyCode||a.which;32!==b&&13!==b||A()}),D.up.on("keydown",function(a){var b=a.keyCode||a.which;32!==b&&13!==b||("up"!==M&&(w(),z()),a.preventDefault())}),D.up.on("keyup",function(a){var b=a.keyCode||a.which;32!==b&&13!==b||A()}),D.down.on("mousedown.touchspin",function(a){D.down.off("touchstart.touchspin"),J.is(":disabled")||(x(),y(),a.preventDefault(),a.stopPropagation())}),D.down.on("touchstart.touchspin",function(a){D.down.off("mousedown.touchspin"),J.is(":disabled")||(x(),y(),a.preventDefault(),a.stopPropagation())}),D.up.on("mousedown.touchspin",function(a){D.up.off("touchstart.touchspin"),J.is(":disabled")||(w(),z(),a.preventDefault(),a.stopPropagation())}),D.up.on("touchstart.touchspin",function(a){D.up.off("mousedown.touchspin"),J.is(":disabled")||(w(),z(),a.preventDefault(),a.stopPropagation())}),D.up.on("mouseout touchleave touchend touchcancel",function(a){M&&(a.stopPropagation(),A())}),D.down.on("mouseout touchleave touchend touchcancel",function(a){M&&(a.stopPropagation(),A())}),D.down.on("mousemove touchmove",function(a){M&&(a.stopPropagation(),a.preventDefault())}),D.up.on("mousemove touchmove",function(a){M&&(a.stopPropagation(),a.preventDefault())}),a(document).on(c(["mouseup","touchend","touchcancel"],d).join(" "),function(a){M&&(a.preventDefault(),A())}),a(document).on(c(["mousemove","touchmove","scroll","scrollstart"],d).join(" "),function(a){M&&(a.preventDefault(),A())}),J.on("mousewheel DOMMouseScroll",function(a){if(B.mousewheel&&J.is(":focus")){var b=a.originalEvent.wheelDelta||-a.originalEvent.deltaY||-a.originalEvent.detail;a.stopPropagation(),a.preventDefault(),0>b?x():w()}})}function s(){J.on("touchspin.uponce",function(){A(),w()}),J.on("touchspin.downonce",function(){A(),x()}),J.on("touchspin.startupspin",function(){z()}),J.on("touchspin.startdownspin",function(){y()}),J.on("touchspin.stopspin",function(){A()}),J.on("touchspin.updatesettings",function(a,b){i(b)})}function t(a){switch(B.forcestepdivisibility){case"round":return(Math.round(a/B.step)*B.step).toFixed(B.decimals);case"floor":return(Math.floor(a/B.step)*B.step).toFixed(B.decimals);case"ceil":return(Math.ceil(a/B.step)*B.step).toFixed(B.decimals);default:return a}}function u(){var a,b,c;a=J.val(),""!==a&&(B.decimals>0&&"."===a||(b=parseFloat(a),isNaN(b)&&(b=0),c=b,b.toString()!==a&&(c=b),b<B.min&&(c=B.min),b>B.max&&(c=B.max),c=t(c),Number(a).toString()!==c.toString()&&(J.val(c),J.trigger("change"))))}function v(){if(B.booster){var a=Math.pow(2,Math.floor(L/B.boostat))*B.step;return B.maxboostedstep&&a>B.maxboostedstep&&(a=B.maxboostedstep,E=Math.round(E/a)*a),Math.max(B.step,a)}return B.step}function w(){u(),E=parseFloat(D.input.val()),isNaN(E)&&(E=0);var a=E,b=v();E+=b,E>B.max&&(E=B.max,J.trigger("touchspin.on.max"),A()),D.input.val(Number(E).toFixed(B.decimals)),a!==E&&J.trigger("change")}function x(){u(),E=parseFloat(D.input.val()),isNaN(E)&&(E=0);var a=E,b=v();E-=b,E<B.min&&(E=B.min,J.trigger("touchspin.on.min"),A()),D.input.val(E.toFixed(B.decimals)),a!==E&&J.trigger("change")}function y(){A(),L=0,M="down",J.trigger("touchspin.on.startspin"),J.trigger("touchspin.on.startdownspin"),H=setTimeout(function(){F=setInterval(function(){L++,x()},B.stepinterval)},B.stepintervaldelay)}function z(){A(),L=0,M="up",J.trigger("touchspin.on.startspin"),J.trigger("touchspin.on.startupspin"),I=setTimeout(function(){G=setInterval(function(){L++,w()},B.stepinterval)},B.stepintervaldelay)}function A(){switch(clearTimeout(H),clearTimeout(I),clearInterval(F),clearInterval(G),M){case"up":J.trigger("touchspin.on.stopupspin"),J.trigger("touchspin.on.stopspin");break;case"down":J.trigger("touchspin.on.stopdownspin"),J.trigger("touchspin.on.stopspin")}L=0,M=!1}var B,C,D,E,F,G,H,I,J=a(this),K=J.data(),L=0,M=!1;g()})}}(jQuery)}(),d()}),System.registerDynamic("libraries/bootstrap-touchspin/index",["jquery","./jquery.bootstrap-touchspin"],!0,function(a,b,c){return jQuery=a("jquery"),a("./jquery.bootstrap-touchspin"),c.exports}),System.registerDynamic("components/components/spinner/spinner.html",[],!0,function(a,b,c){return c.exports='<rl-generic-container selector="spinner.ngDisabled" class="spinner-container">\r\n	<template default>\r\n		<div class="field" ng-class="{ \'error\': spinner.ngModel.$invalid }">\r\n			<label class="label-slide angular-animate" ng-show="spinner.ngModel.$viewValue | isEmpty:false && spinner.label">{{spinner.label}}</label>\r\n			<input name="{{::spinner.name}}" class="spinner" id="{{::spinner.spinnerId}}" type="text" placeholder="{{spinner.label}}"/>\r\n			<span class="error-string" ng-if="spinner.inputValidator.error | isEmpty:false">{{spinner.inputValidator.error}}</span>\r\n		</div>\r\n	</template>\r\n	<template when-selector="true">\r\n		<div class="input-group field">\r\n			<label class="label-slide angular-animate" ng-show="spinner.ngModel.$viewValue | isEmpty:false && spinner.label">{{spinner.label}}</label>\r\n			<span class="input-group-addon" ng-if="::spinner.prefix != null">{{::spinner.prefix}}</span>\r\n			<input class="form-control" disabled="true" type="text" ng-model="spinner.ngModel.$viewValue" placeholder="{{spinner.label}}" />\r\n			<span class="input-group-addon" ng-if="::spinner.postfix != null">{{::spinner.postfix}}</span>\r\n		</div>\r\n	</template>\r\n</rl-generic-container>',c.exports}),System.registerDynamic("components/components/spinner/spinner",["../../../libraries/bootstrap-touchspin/index","angular","lodash","typescript-angular-utilities","../input/input","../../services/componentValidator/componentValidator.service","./spinner.html"],!0,function(a,b,c){"use strict";var d=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};a("../../../libraries/bootstrap-touchspin/index");var e=a("angular"),f=a("lodash"),g=a("typescript-angular-utilities"),h=g.services.string,i=g.services.number,j=a("../input/input"),k=a("../../services/componentValidator/componentValidator.service");b.moduleName="rl.ui.components.spinner",b.componentName="rlSpinner",b.controllerName="SpinnerController",b.defaultMaxValue=1e20;var l=function(a){function c(b,c,d,e,f){a.call(this,b,c,d),this.$element=e,this.$timeout=f,this.inputType="spinner"}return d(c,a),c.prototype.$postLink=function(){this.setDisabled(this.ngDisabled)},c.prototype.$onChanges=function(a){a.ngDisabled&&this.setDisabled(a.ngDisabled.currentValue)},c.prototype.round=function(a){return null!=a&&this.roundToStep&&(a=i.numberUtility.roundToStep(a,this.step),a=i.numberUtility.preciseRound(a,this.decimals)),a},c.prototype.setDisabled=function(a){var c=this;a?f.isFunction(this.unbindWatches)&&this.unbindWatches():this.$timeout(function(){var a=c.$element.find("input.spinner").TouchSpin({min:null!=c.min?c.min:0,max:null!=c.max?c.max:b.defaultMaxValue,step:c.step,prefix:c.prefix,postfix:c.postfix,decimals:c.decimals,initval:c.ngModel.$viewValue,forcestepdivisibility:c.roundToStep?"round":"none"});a.on("change",function(){c.$scope.$apply(function(){var b=a.val();c.ngModel.$setViewValue(h.stringUtility.toNumber(b))})});var d=c.$scope.$watch(function(){return c.ngModel.$viewValue},function(b){a.val(null!=b?b.toString():"")}),e=c.$scope.$watch(function(){return c.ngModel.$modelValue},function(a){c.ngModel.$modelValue=c.round(a)});c.unbindWatches=function(){
d(),e()}})},c.$inject=["$scope","$attrs",k.factoryName,"$element","$timeout"],c}(j.InputController);b.SpinnerController=l;var m=j.buildInput({template:a("./spinner.html"),controller:b.controllerName,controllerAs:"spinner",bindings:{min:"<?",max:"<?",step:"<?",decimals:"<?",prefix:"@",postfix:"@",roundToStep:"<?",ngDisabled:"<?",spinnerId:"@"}});return e.module(b.moduleName,[j.moduleName]).component(b.componentName,m).controller(b.controllerName,l),c.exports}),System.registerDynamic("components/components/stringWithWatermark/stringWithWatermark",["angular"],!0,function(a,b,c){"use strict";var d=a("angular");b.moduleName="rl.ui.components.stringWithWatermark",b.componentName="rlStringWithWatermark";var e={template:'\n		<rl-generic-container selector="controller.string | isEmpty">\n			<template when-selector="true"><span class="watermark">{{controller.watermark}}</span></template>\n			<template default><span>{{controller.string}}</span></template>\n		</rl-generic-container>\n	',controllerAs:"controller",bindings:{string:"@",watermark:"@"}};return d.module(b.moduleName,[]).component(b.componentName,e),c.exports}),System.registerDynamic("components/components/tabs/tab.html",[],!0,function(a,b,c){return c.exports='<div class="tab-pane" ng-class="{ \'active\': tab.header.isVisible }">\r\n	<div class="tab-body">\r\n		<div ng-transclude="contentSlot" ng-form="tabForm"></div>\r\n		<div class="clearfix"></div>\r\n	</div>\r\n	<div class="tab-footer">\r\n		<div ng-transclude="footerSlot"></div>\r\n		<div class="clearfix"></div>\r\n	</div>\r\n</div>',c.exports}),System.registerDynamic("components/components/tabs/tab",["./tab.html"],!0,function(a,b,c){"use strict";b.componentName="rlTab",b.controllerName="rlTabController";var d=function(){function a(a,b,c){var d=this;this.$element=b,this.$transclude=c,a.$watch("tabForm.$valid",function(a){d.header.isValid=null!=a?a:!0})}return a.prototype.$postLink=function(){var a=this;this.$transclude(function(b){a.header={template:b.html(),isValid:!0},a.tabset.registerTab(a.$element,a.header)},null,"headerSlot")},a.$inject=["$scope","$element","$transclude"],a}();return b.TabController=d,b.tab={transclude:{headerSlot:"?rlTabHeader",contentSlot:"?rlTabContent",footerSlot:"?rlTabFooter"},require:{tabset:"^^rlTabset"},template:a("./tab.html"),controller:b.controllerName,controllerAs:"tab"},c.exports}),System.registerDynamic("components/components/tabs/tabset.html",[],!0,function(a,b,c){return c.exports='<div class="nav-tabs-dropshadow">\r\n	<ul class="nav nav-tabs">\r\n		<li ng-repeat="tabHeader in tabset.tabHeaders" ng-click="tabset.select(tabHeader)"\r\n			ng-class="{ \'active\': tabHeader.isVisible, \'error\': !tabHeader.isValid }">\r\n			<a><span ng-bind-html="tabHeader.template"></span></a>\r\n		</li>\r\n	</ul>\r\n	<div class="tab-content">\r\n		<div ng-transclude></div>\r\n	</div>\r\n</div>',c.exports}),System.registerDynamic("components/components/tabs/tabset",["lodash","typescript-angular-utilities","./tabset.html"],!0,function(a,b,c){"use strict";var d=a("lodash"),e=a("typescript-angular-utilities"),f=e.services.array;b.componentName="rlTabset",b.controllerName="rlTabsetController";var g=function(){function a(a){this.$element=a,this.tabHeaders=[]}return a.prototype.registerTab=function(a,b){var c=this.findPosition(a);f.arrayUtility.has(this.tabHeaders,c)?b.isVisible=this.tabHeaders[c].isVisible:b.isVisible=0===c,this.tabHeaders[c]=b},a.prototype.select=function(a){d.each(this.tabHeaders,function(a){a.isVisible=!1}),a.isVisible=!0},a.prototype.findPosition=function(a){var b,c=this.$element.find("rl-tab");return d.each(c,function(c,d){return a[0]===c?(b=d,!1):void 0}),b},a.$inject=["$element"],a}();return b.TabsetController=g,b.tabset={transclude:!0,template:a("./tabset.html"),controller:b.controllerName,controllerAs:"tabset"},c.exports}),System.registerDynamic("components/components/tabs/tabs.module",["angular","./tab","./tabset"],!0,function(a,b,c){"use strict";var d=a("angular"),e=a("./tab");b.tabComponentName=e.componentName,b.tab=e.tab,b.tabControllerName=e.controllerName,b.TabController=e.TabController;var f=a("./tabset");return b.tabsetComponentName=f.componentName,b.tabset=f.tabset,b.tabsetControllerName=f.controllerName,b.TabsetController=f.TabsetController,b.moduleName="rl.ui.components.tabs",d.module(b.moduleName,[]).component(e.componentName,e.tab).controller(e.controllerName,e.TabController).component(f.componentName,f.tabset).controller(f.controllerName,f.TabsetController),c.exports}),System.registerDynamic("components/components/templateRenderer/templateRenderer",["angular","lodash"],!0,function(a,b,c){"use strict";var d=a("angular"),e=a("lodash");b.moduleName="rl.ui.components.templateRenderer",b.componentName="rlTemplateRenderer",b.controllerName="TemplateRendererController";var f=function(){function a(a,b,c){if(e.isString(this.template)){var d=this.template;this.template={template:d,scope:c.$parent.$new()}}var f=b.find(".template-target"),g=f.append(this.template.template);a(g)(this.template.scope)}return a.$inject=["$compile","$element","$scope"],a}();b.TemplateRendererController=f;var g={template:'<div class="template-target"></div>',controller:b.controllerName,controllerAs:"controller",bindings:{template:"<"}};return d.module(b.moduleName,[]).component(b.componentName,g).controller(b.controllerName,f),c.exports}),System.registerDynamic("components/components/textarea/textarea.html",[],!0,function(a,b,c){return c.exports='<div class="field" ng-class="{ \'error\': input.ngModel.$invalid }">\r\n	<label ng-show="input.inputValue && input.label" class="label-slide angular-animate">{{::input.label}}</label>\r\n	<textarea class="form-control" ng-model="input.inputValue" rows="{{::input.rows}}" maxlength="{{::input.maxlength}}" ng-disabled="input.ngDisabled" placeholder="{{::input.label}}"></textarea>\r\n	<span class="error-string angular-animate" ng-if="input.inputValidator.error | isEmpty:false">{{input.inputValidator.error}}</span>\r\n</div>',c.exports}),System.registerDynamic("components/components/textarea/textarea",["angular","../input/input","./textarea.html"],!0,function(a,b,c){"use strict";var d=a("angular"),e=a("../input/input");b.moduleName="rl.ui.components.textarea",b.componentName="rlTextarea";var f=e.buildInput({template:a("./textarea.html"),bindings:{rows:"<?",ngDisabled:"<?",maxlength:"<?"}});return d.module(b.moduleName,[e.moduleName]).component(b.componentName,f),c.exports}),System.registerDynamic("components/components/textbox/textbox.html",[],!0,function(a,b,c){return c.exports='<div class="field" ng-class="{ \'error\': input.ngModel.$invalid }">\r\n	<label ng-show="input.inputValue && input.label" class="label-slide angular-animate">{{::input.label}}</label>\r\n	<input  type="text" class="form-control angular-animate" ng-model="input.inputValue" placeholder="{{::input.label}}" maxlength="{{::input.maxlength}}" />\r\n	<span class="error-string angular-animate" ng-if="input.inputValidator.error | isEmpty:false">{{input.inputValidator.error}}</span>\r\n</div>',c.exports}),System.registerDynamic("components/components/textbox/textbox",["angular","../input/input","./textbox.html"],!0,function(a,b,c){"use strict";var d=a("angular"),e=a("../input/input");b.moduleName="rl.ui.components.textbox",b.componentName="rlTextbox";var f=e.buildInput({template:a("./textbox.html"),bindings:{maxlength:"<?"}});return d.module(b.moduleName,[e.moduleName]).component(b.componentName,f),c.exports}),System.registerDynamic("components/behaviors/required/required",["angular"],!0,function(a,b,c){"use strict";function d(){return{restrict:"A",controller:b.controllerName}}var e=a("angular");b.moduleName="rl.ui.behaviors.required",b.directiveName="rlRequired",b.controllerName="RequiredController";var f=function(){function a(a,b,c){this.$scope=a,this.$attrs=b,this.$interpolate=c,this.message=this.$interpolate(this.$attrs.rlRequired)(this.$scope)}return a.$inject=["$scope","$attrs","$interpolate"],a}();return b.RequiredController=f,e.module(b.moduleName,[]).directive(b.directiveName,d).controller(b.controllerName,f),c.exports}),System.registerDynamic("components/components/input/input",["angular","lodash","typescript-angular-utilities","../../behaviors/required/required","../../services/componentValidator/componentValidator.service"],!0,function(a,b,c){"use strict";function d(a){var b=f.clone(n);return b.transclude=a.transclude,b.template=a.template,b.controller=a.controller||b.controller,b.controllerAs=a.controllerAs||b.controllerAs,b.bindings=f.assign({},b.bindings,a.bindings),b}var e=a("angular"),f=a("lodash"),g=a("typescript-angular-utilities"),h=g.services.object,i=g.services.guid,j=g.services.array,k=a("../../behaviors/required/required"),l=a("../../services/componentValidator/componentValidator.service");b.moduleName="rl.ui.components.input",b.controllerName="InputController";var m=function(){function a(a,b,c){this.$scope=a,this.$attrs=b,this.componentValidatorFactory=c,this.inputType="input"}return Object.defineProperty(a.prototype,"inputValue",{get:function(){return this.ngModel.$viewValue},set:function(a){this.ngModel.$setViewValue(a)},enumerable:!0,configurable:!0}),a.prototype.$onInit=function(){var a=this,b=[];f.isUndefined(this.validator)||(b=b.concat(j.arrayUtility.arrayify(this.validator))),f.isUndefined(this.validators)||(b=b.concat(j.arrayUtility.arrayify(this.validators))),h.objectUtility.isNullOrEmpty(this.$attrs.name)&&this.$attrs.$set("name",this.inputType+"-"+i.guid.random()),null!=this.required&&b.push({name:"rlRequired",validate:function(){return!h.objectUtility.isNullOrEmpty(a.ngModel.$viewValue)},errorMessage:this.required.message}),f.some(b)&&(this.inputValidator=this.componentValidatorFactory.getInstance({ngModel:this.ngModel,$scope:this.$scope,validators:b}))},a.$inject=["$scope","$attrs",l.factoryName],a}();b.InputController=m;var n={require:{ngModel:"ngModel",required:"?"+k.directiveName},template:"",controller:b.controllerName,controllerAs:"input",bindings:{validator:"<?",validators:"<?",label:"@",name:"@"}};return b.buildInput=d,e.module(b.moduleName,[l.moduleName]).controller(b.controllerName,m),c.exports}),System.registerDynamic("components/components/typeahead/typeahead.html",[],!0,function(a,b,c){return c.exports='<div class="field typeahead" ng-class="{ \'error\': typeahead.ngModel.$invalid }">\r\n	<label ng-show="typeahead.selection" class="label-slide angular-animate">\r\n		{{::typeahead.label}}\r\n	</label>\r\n	<div ng-if="!typeahead.collapsed">\r\n		<ui-select ng-model="typeahead.selection" theme="bootstrap" ng-disabled="typeahead.ngDisabled">\r\n			<ui-select-match placeholder="{{::typeahead.placeholder}}">{{typeahead.getDisplayName($select.selected)}}</ui-select-match>\r\n			<ui-select-choices repeat="item in typeahead.visibleItems"\r\n								refresh="typeahead.refresh($select.search)"\r\n								refresh-delay="typeahead.loadDelay">\r\n				{{typeahead.getDisplayName(item)}}\r\n			</ui-select-choices>\r\n		</ui-select>\r\n	</div>\r\n	<div class="collapsed" ng-if="typeahead.collapsed">\r\n		<span>{{typeahead.getDisplayName(typeahead.selection)}}</span>\r\n		<rl-button type="default flat" action="typeahead.clear()"><i class="fa fa-remove"></i></rl-button>\r\n	</div>\r\n	<span class="error-string angular-animate" ng-if="typeahead.inputValidator.error | isEmpty:false">{{typeahead.inputValidator.error}}</span>\r\n	<rl-busy loading="typeahead.loading"></rl-busy>\r\n</div>',c.exports}),System.registerDynamic("components/components/typeahead/typeahead",["angular","lodash","typescript-angular-utilities","../../services/parentChild/parentChild.service","../input/input","../../services/componentValidator/componentValidator.service","./typeahead.html"],!0,function(a,b,c){"use strict";var d=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},e=a("angular"),f=a("lodash"),g=a("typescript-angular-utilities"),h=g.services.search,i=g.services.transform.transform,j=a("../../services/parentChild/parentChild.service"),k=a("../input/input"),l=a("../../services/componentValidator/componentValidator.service");b.moduleName="rl.ui.components.typeahead",b.componentName="rlTypeahead",b.controllerName="TypeaheadController";var m=function(a){function b(b,c,d,e,f,g,h,i){a.call(this,b,d,i),this.$q=c,this.$timeout=e,this.parentChild=f,this.object=g,this.array=h,this.loading=!1,this.collapsed=!1,this.hasSearchOption=!1,this._searchOption={__isSearchOption:!0},this.inputType="typeahead"}return d(b,a),Object.defineProperty(b.prototype,"selection",{get:function(){return this.ngModel.$viewValue},set:function(a){null!=a&&(a.__isSearchOption&&(a=this.create({value:a.text})),this.select({value:a}),this.collapseOnSelect&&(this.collapsed=!0,this.ngModel.$setViewValue(a)))},enumerable:!0,configurable:!0}),b.prototype.$onInit=function(){var b=this;a.prototype.$onInit.call(this),this.loadDelay=this.useClientSearching?100:500,this.prefix=this.prefix||"Search for",this.placeholder=null!=this.label?this.prefix+" "+this.label.toLowerCase():"Search";var c=this.$attrs;this.collapseOnSelect=this.allowCollapse||this.object.isNullOrEmpty(c.select),this.allowCustomOption=!this.object.isNullOrEmpty(c.create),this.$timeout(function(){b.collapseOnSelect&&!b.object.isNullOrEmpty(b.ngModel.$viewValue)&&(b.collapsed=!0)}),this.parentChild.registerChildBehavior(this.childLink,{add:this.addItem.bind(this),remove:this.removeItem.bind(this)}),this.$scope.$watch(function(){return b.ngModel.$viewValue},function(a){null!=a&&b.collapseOnSelect&&(b.collapsed=!0)})},b.prototype.getDisplayName=function(a){return null!=a&&a.__isSearchOption?a.text:i.getValue(a,this.transform)},b.prototype.refresh=function(a){var b=this;return this.object.isNullOrEmpty(a)?(this.visibleItems=[],null):(this.loading=!0,this.loadItems(a).then(function(){b.loading=!1,b._searchOption.text=a,b.showCustomSearch(a)&&(b.hasSearchOption=!0,b.visibleItems.unshift(b._searchOption))}))},b.prototype.loadItems=function(a){var b=this;return this.useClientSearching?null!=this.cachedItems?(this.visibleItems=this.filter(this.cachedItems,a),this.$q.when()):this.$q.when(this.getItems()).then(function(c){b.cachedItems=c,b.visibleItems=b.filter(c,a)}):this.$q.when(this.getItems({search:a})).then(function(a){b.visibleItems=a})},b.prototype.clear=function(){this.ngModel.$setViewValue(null),this.collapsed=!1},b.prototype.showCustomSearch=function(a){var b=this;return this.allowCustomOption&&!this.hasSearchOption&&!f.find(this.visibleItems,function(c){return b.getDisplayName(c)===a})},b.prototype.filter=function(a,b){return f.filter(a,function(a){return h.searchUtility.tokenizedSearch(a,b)})},b.prototype.addItem=function(a){null!=this.cachedItems&&this.cachedItems.push(a)},b.prototype.removeItem=function(a){null!=this.cachedItems&&this.array.remove(this.cachedItems,a)},b.$inject=["$scope","$q","$attrs","$timeout",j.serviceName,g.downgrade.objectServiceName,g.downgrade.arrayServiceName,l.factoryName],b}(k.InputController);b.TypeaheadController=m;var n=k.buildInput({template:a("./typeahead.html"),controller:b.controllerName,controllerAs:"typeahead",bindings:{childLink:"=?",select:"&",create:"&",allowCollapse:"<?",transform:"<?",getItems:"&",prefix:"@",useClientSearching:"<?",ngDisabled:"<?"}});return e.module(b.moduleName,[j.moduleName,g.downgrade.moduleName,k.moduleName]).component(b.componentName,n).controller(b.controllerName,m),c.exports}),System.registerDynamic("components/services/parentChild/parentChild.service",["angular","lodash"],!0,function(a,b,c){"use strict";var d=a("angular"),e=a("lodash");b.moduleName="rl.utilities.services.parentChildBehavior",b.serviceName="parentChildBehavior";var f=function(){function a(){}return a.prototype.getChildBehavior=function(a){return a&&null!=a.viewData?a.viewData.behavior:null},a.prototype.triggerChildBehavior=function(a,b){var c=this.getChildBehavior(a);return null==c?null:b(c)},a.prototype.triggerAllChildBehaviors=function(a,b){var c=this.getAllChildBehaviors(a);return e.map(c,function(a){return b(a)})},a.prototype.getAllChildBehaviors=function(a){var b=this;return e(a).map(function(a){return b.getChildBehavior(a)}).filter(function(a){return null!=a}).value()},a.prototype.registerChildBehavior=function(a,b){if(null!=a){null==a.viewData&&(a.viewData={behavior:null});var c=a.viewData.behavior;null==c?a.viewData.behavior=b:a.viewData.behavior=e.extend(c,b)}},a}();return b.ParentChildBehaviorService=f,d.module(b.moduleName,[]).service(b.serviceName,f),c.exports}),System.registerDynamic("components/components/typeaheadList/defaultListItem.html",[],!0,function(a,b,c){return c.exports='<div class="col-xs-10">{{$transform($item)}}</div>\r\n<div class="col-xs-2">\r\n	<rl-button-async type="danger" action="$remove($item)"><i class="fa fa-remove"></i></rl-button-async>\r\n</div>',c.exports}),System.registerDynamic("components/components/typeaheadList/typeaheadItem",["./defaultListItem.html"],!0,function(a,b,c){"use strict";b.componentName="rlTypeaheadListItem";var d=function(){function b(a,b,c){this.$scope=a,this.$element=b,this.$compile=c}return b.prototype.$onInit=function(){var b=this.$scope.$parent.$new(),c=this.$element.find(".content-target");if(this.transclude.isSlotFilled("listItemSlot"))this.transclude(b,function(a){c.append(a)},null,"listItemSlot");else{var d=c.append(a("./defaultListItem.html"));this.$compile(d)(b)}},b.$inject=["$scope","$element","$compile"],b}();return b.typeaheadItem={bindings:{transclude:"<"},controller:d,template:'<div class="content-target"></div>'},c.exports}),System.registerDynamic("components/components/typeaheadList/typeaheadList.html",[],!0,function(a,b,c){return c.exports='<rl-generic-container selector="list.disableSearching">\r\n	<template when-selector="true">\r\n		<rl-select ng-if="list.cachedItems | isEmpty:false" ng-model="list.model" select="list.addItem(item)" transform="list.transform"\r\n				   options="list.cachedItems" label="{{list.label}}" ng-disabled="list.ngDisabled"></rl-select>\r\n	</template>\r\n	<template default>\r\n		<rl-typeahead ng-model="list.model" select="list.addItem(value)" allow-collapse="false"\r\n					  transform="list.transform" get-items="list.searchItems(search)" label="{{list.label}}"\r\n					  prefix="{{list.prefix}}" ng-disabled="list.ngDisabled"></rl-typeahead>\r\n	</template>\r\n</rl-generic-container>\r\n<div class="table-container col-xs-12">\r\n	<div class="row table-header" ng-show="list.ngModel.$viewValue | isEmpty:false">\r\n		<div ng-transclude="headerSlot">\r\n			<div class="col-xs-12">Name</div>\r\n		</div>\r\n	</div>\r\n	<div class="row table-row" ng-repeat="$item in list.ngModel.$viewValue" rl-alias="$item as {{list.itemAs}}">\r\n		<rl-typeahead-list-item transclude="list.$transclude"></rl-typeahead-list-item>\r\n	</div>\r\n</div>',c.exports}),System.registerDynamic("components/components/typeaheadList/typeaheadList",["angular","lodash","typescript-angular-utilities","../../services/parentChild/parentChild.service","./typeaheadItem","./typeaheadList.html"],!0,function(a,b,c){"use strict";var d=a("angular"),e=a("lodash"),f=a("typescript-angular-utilities"),g=f.services.array,h=f.services.transform.transform,i=f.services.search,j=a("../../services/parentChild/parentChild.service"),k=a("./typeaheadItem");b.moduleName="rl.ui.components.typeaheadList",b.componentName="rlTypeaheadList",b.controllerName="TypeaheadListController";var l=function(){function a(a,b,c,d){this.$scope=a,this.$transclude=b,this.$q=c,this.parentChild=d}return a.prototype.$onInit=function(){var a=this;this.$scope.$remove=this.removeItem.bind(this),this.$scope.$transform=function(b){return h.getValue(b,a.transform)},this.$scope.listData=this.listData,this.parentChild.registerChildBehavior(this.childLink,{add:this.addItem.bind(this),remove:this.removeItem.bind(this)}),this.disableSearching&&this.loadCachedItems()},a.prototype.$onChanges=function(a){a.disableSearching&&a.disableSearching.currentValue&&!this.cachedItems&&this.loadCachedItems()},a.prototype.loadItems=function(a){return this.useClientSearching||this.disableSearching?null!=this.cachedItems?this.$q.when(this.cachedItems):this.$q.when(this.getItems()):this.getItems({search:a})},a.prototype.searchItems=function(a){var b=this;return this.loadItems(a).then(function(c){return b.filter(c,a)})},a.prototype.addItem=function(a){var b=this;return this.$q.when(this.add({item:a})).then(function(c){return c=c||a,b.ngModel.$viewValue.push(c),b.ngModel.$setDirty(),null!=b.cachedItems&&g.arrayUtility.remove(b.cachedItems,a),b.model=null,c})},a.prototype.removeItem=function(a){var b=this;return this.$q.when(this.remove({item:a})).then(function(){g.arrayUtility.remove(b.ngModel.$viewValue,a),b.ngModel.$setDirty(),null!=b.cachedItems&&b.cachedItems.push(a)})},a.prototype.filter=function(a,b){var c=this,d=e.filter(a,function(a){return!e.find(c.ngModel.$viewValue,a)});return this.useClientSearching?(this.cachedItems=d,e.filter(d,function(a){return i.searchUtility.tokenizedSearch(a,b)})):d},a.prototype.loadCachedItems=function(){var a=this;this.searchItems().then(function(b){a.cachedItems=b})},a.$inject=["$scope","$transclude","$q",j.serviceName],a}();b.TypeaheadListController=l;var m={require:{ngModel:"ngModel"},transclude:{headerSlot:"?rlListHeader",listItemSlot:"?rlListItem"},template:a("./typeaheadList.html"),controller:b.controllerName,controllerAs:"list",bindings:{getItems:"&",add:"&",remove:"&",transform:"<?",label:"@",prefix:"@",useClientSearching:"<?",ngDisabled:"<?",itemAs:"@",childLink:"=?",listData:"<?",disableSearching:"<?"}};return d.module(b.moduleName,[j.moduleName]).component(b.componentName,m).controller(b.controllerName,l).component(k.componentName,k.typeaheadItem),c.exports}),System.registerDynamic("components/components/userRating/userRating",["angular","lodash","../componentsDefaultTheme"],!0,function(a,b,c){"use strict";var d=a("angular"),e=a("lodash"),f=a("../componentsDefaultTheme");b.moduleName="rl.components.userRating",b.componentName="rlUserRating",b.controllerName="UserRatingController";var g=function(){function a(a,b){this.$timeout=a,this.useDefaultTheme=b}return a.prototype.$onInit=function(){var a=this;this.stars=[];var b=null!=this.range?this.range:5,c=e.range(1,b+1).reverse();e.each(c,function(b){a.stars.push({value:b,filled:!1})}),this.$timeout(function(){a.updateStarView(a.ngModel.$viewValue)})},a.prototype.setRating=function(a){this.ngModel.$setViewValue(a),this.updateStarView(a)},a.prototype.updateStarView=function(a){e.each(this.stars,function(b){b.value<=a?b.filled=!0:b.filled=!1})},a.$inject=["$timeout",f.defaultThemeValueName],a}();b.UserRatingController=g;var h={require:{ngModel:"ngModel"},template:'\n		<span class="rating" ng-class="{ \'default-theme\': userRating.useDefaultTheme }">\n			<span class="star" ng-repeat="star in userRating.stars" ng-class="{ \'filled\': star.filled }" ng-click="userRating.setRating(star.value)"></span>\n		</span>\n	',controller:b.controllerName,controllerAs:"userRating",bindings:{range:"="}};return d.module(b.moduleName,[]).component(b.componentName,h).controller(b.controllerName,g),c.exports}),System.registerDynamic("components/components/validationGroup/validationGroup.html",[],!0,function(a,b,c){return c.exports='<div class="content-group" ng-form="validationGroupForm">\r\n	<div class="error-message" ng-if="validationGroupForm.$error.customValidation">\r\n		<label>{{group.groupValidator.error}}</label>\r\n	</div>\r\n	<div ng-transclude></div>\r\n</div>',c.exports}),System.registerDynamic("components/components/validationGroup/validationGroup",["angular","lodash","typescript-angular-utilities","../../services/componentValidator/componentValidator.service","./validationGroup.html"],!0,function(a,b,c){"use strict";var d=a("angular"),e=a("lodash"),f=a("typescript-angular-utilities"),g=f.services.array,h=a("../../services/componentValidator/componentValidator.service");b.moduleName="rl.ui.components.validationGroup",b.componentName="rlValidationGroup",b.controllerName="ValidationGroupController";var i=function(){function a(a,b,c){this.$scope=a,this.$timeout=b,this.componentValidatorFactory=c}return a.prototype.$onInit=function(){var a=this;this.$timeout(function(){a.validators=g.arrayUtility.arrayify(a.validator).concat(g.arrayUtility.arrayify(a.validators)),e.isUndefined(a.validator)||(a.groupValidator=a.componentValidatorFactory.getInstance({form:a.$scope.validationGroupForm,$scope:a.$scope,validators:a.validators}))})},a.$inject=["$scope","$timeout",h.factoryName],a}();b.ValidationGroupController=i;var j={transclude:!0,template:a("./validationGroup.html"),controller:b.controllerName,controllerAs:"group",bindings:{validator:"<?",validators:"<?"}};return d.module(b.moduleName,[h.moduleName]).component(b.componentName,j).controller(b.controllerName,i),c.exports}),System.registerDynamic("components/components/componentsDefaultTheme",[],!0,function(a,b,c){"use strict";return b.defaultThemeValueName="useDefaultTheme",b.defaultThemeValue=!0,c.exports}),System.registerDynamic("components/components/components.module",["angular","./busy/busy","./button/button","./buttonAsync/buttonAsync","./buttonLink/buttonLink","./buttonSubmit/buttonSubmit","./buttonToggle/buttonToggle","./cardContainer/cardContainer.module","./checkbox/checkbox","./commaList/commaList","./dateTime/dateTime","./dateTimeStatic/dateTimeStatic","./dialog/dialog","./form/form","./genericContainer/genericContainer","./lazyLoad/lazyLoad","./longClickButton/longClickButton","./messageLog/messageLog.module","./multiStepIndicator/multiStepIndicator","./radio/radio.module","./ratingBar/ratingBar","./richTextEditor/richTextEditor","./select/select","./signaturePad/signaturePad","./simpleCardList/simpleCardList.module","./spinner/spinner","./stringWithWatermark/stringWithWatermark","./tabs/tabs.module","./templateRenderer/templateRenderer","./textarea/textarea","./textbox/textbox","./typeahead/typeahead","./typeaheadList/typeaheadList","./userRating/userRating","./validationGroup/validationGroup","./componentsDefaultTheme"],!0,function(a,b,c){"use strict";var d=a("angular"),e=a("./busy/busy");b.busy=e;var f=a("./button/button");b.button=f;var g=a("./buttonAsync/buttonAsync");b.buttonAsync=g;var h=a("./buttonLink/buttonLink");b.buttonLink=h;var i=a("./buttonSubmit/buttonSubmit");b.buttonSubmit=i;var j=a("./buttonToggle/buttonToggle");b.buttonToggle=j;var k=a("./cardContainer/cardContainer.module");b.cardContainer=k;var l=a("./checkbox/checkbox");b.checkbox=l;var m=a("./commaList/commaList");b.commaList=m;var n=a("./dateTime/dateTime");b.dateTime=n;var o=a("./dateTimeStatic/dateTimeStatic");b.dateTimeStatic=o;var p=a("./dialog/dialog");b.dialog=p;var q=a("./form/form");b.form=q;var r=a("./genericContainer/genericContainer");b.genericContainer=r;var s=a("./lazyLoad/lazyLoad");b.lazyLoad=s;var t=a("./longClickButton/longClickButton");b.longClickButton=t;var u=a("./messageLog/messageLog.module");b.messageLog=u;var v=a("./multiStepIndicator/multiStepIndicator");b.multiStepIndicator=v;var w=a("./radio/radio.module");b.radio=w;var x=a("./ratingBar/ratingBar");b.ratingBar=x;var y=a("./richTextEditor/richTextEditor");b.richTextEditor=y;var z=a("./select/select");b.select=z;var A=a("./signaturePad/signaturePad");b.signaturePad=A;var B=a("./simpleCardList/simpleCardList.module");b.simpleCardList=B;var C=a("./spinner/spinner");b.spinner=C;var D=a("./stringWithWatermark/stringWithWatermark");b.stringWithWatermark=D;var E=a("./tabs/tabs.module");b.tabs=E;var F=a("./templateRenderer/templateRenderer");b.templateRenderer=F;var G=a("./textarea/textarea");b.textarea=G;var H=a("./textbox/textbox");b.textbox=H;var I=a("./typeahead/typeahead");b.typeahead=I;var J=a("./typeaheadList/typeaheadList");b.typeaheadList=J;var K=a("./userRating/userRating");b.userRating=K;var L=a("./validationGroup/validationGroup");b.validationGroup=L;var M=a("./componentsDefaultTheme");return b.defaultThemeValueName=M.defaultThemeValueName,b.moduleName="rl.ui.components",d.module(b.moduleName,[e.moduleName,f.moduleName,g.moduleName,h.moduleName,i.moduleName,j.moduleName,k.moduleName,l.moduleName,m.moduleName,n.moduleName,o.moduleName,p.moduleName,q.moduleName,r.moduleName,s.moduleName,t.moduleName,u.moduleName,v.moduleName,w.moduleName,x.moduleName,y.moduleName,z.moduleName,A.moduleName,B.moduleName,C.moduleName,D.moduleName,E.moduleName,F.moduleName,G.moduleName,H.moduleName,I.moduleName,J.moduleName,K.moduleName,L.moduleName]).value(M.defaultThemeValueName,M.defaultThemeValue),c.exports}),System.registerDynamic("components/filters/date/date.filter",["angular","moment","typescript-angular-utilities"],!0,function(a,b,c){"use strict";function d(){return function(a,b){if(i.objectUtility.isNullOrEmpty(a))return"";var c=f(a);return b?c.format(h.defaultFormats.dateTimeFormat)+" "+c.zoneAbbr():c.format(h.defaultFormats.dateFormat)}}var e=a("angular"),f=a("moment"),g=a("typescript-angular-utilities"),h=g.services.date,i=g.services.object;return b.moduleName="rl.ui.filters.date",b.filterName="rlDate",e.module(b.moduleName,[]).filter(b.filterName,d),c.exports}),System.registerDynamic("components/filters/localizeStringDates/localizeStringDates.filter",["angular","moment","typescript-angular-utilities"],!0,function(a,b,c){"use strict";function d(){function a(a,b){var c="UTC";if(i.objectUtility.isNullOrEmpty(a))return"";-1===a.indexOf(c)&&(a=a+" "+c);var d=f(a);return d.tz(b).format(h.defaultFormats.dateTimeFormat)+" "+d.tz(b).zoneAbbr()}return function(b){if(null==b)return"";var c=j.timezoneService.currentTimezone.momentName,d=/([1-9]|1[0-2])\/([1-9]|1\d|2\d|3[01])\/(19|20)\d{2} ([1-9]|1[0-9])\:([0-9])([0-9])(?:\:([0-9])([0-9]))? (AM|PM)(?: UTC)?/g,e=b,f=e.match(d);return null==f?e:(f.forEach(function(b){e=e.replace(b,a(b,c))}),e)}}var e=a("angular"),f=a("moment"),g=a("typescript-angular-utilities"),h=g.services.date,i=g.services.object,j=g.services.timezone;return b.moduleName="rl21.ui.filters.localizeStringDates",b.filterName="rlLocalizeStringDates",b.localizeStringDates=d,e.module(b.moduleName,[]).filter(b.filterName,d),c.exports}),System.registerDynamic("components/filters/filters.module",["angular","./date/date.filter","./localizeStringDates/localizeStringDates.filter"],!0,function(a,b,c){"use strict";var d=a("angular"),e=a("./date/date.filter");b.date=e;var f=a("./localizeStringDates/localizeStringDates.filter");return b.localizeStringDates=f,b.moduleName="rl.ui.filters",d.module(b.moduleName,[e.moduleName,f.moduleName]),c.exports}),System.registerDynamic("components/services/breakpoints/visibleBreakpoint.service",["jquery"],!0,function(a,b,c){"use strict";var d=a("jquery");b.visibleBreakpointServiceName="visibleBreakpoint";var e=function(){function a(){}return a.prototype.isVisible=function(a){return d(".device-"+a).is(":visible")},a}();return b.VisibleBreakpointService=e,c.exports}),System.registerDynamic("components/services/breakpoints/breakpoints.service",["lodash","rxjs","../windowWrapper/windowWrapper.service","./visibleBreakpoint.service","./breakpoint"],!0,function(a,b,c){"use strict";var d=a("lodash"),e=a("rxjs"),f=a("../windowWrapper/windowWrapper.service"),g=a("./visibleBreakpoint.service"),h=a("./breakpoint");b.breakpointServiceName="breakpoints";var i=function(){function a(a,b,c,f){var g=this;this.$rootScope=a,this.visibleBreakpoints=b,this.updateBreakpoint=function(){var a=g.getBreakpoint();a!==g.currentBreakpoint&&g.$rootScope.$apply(function(){g.currentBreakpoint=a,g.breakpointChanges.next(g.currentBreakpoint)})},this.breakpointChanges=new e.Subject,this.currentBreakpoint=this.getBreakpoint();var h=d.debounce(this.updateBreakpoint,c,{leading:!0,trailing:!0,maxWait:c});f.resize(h)}return a.prototype.getBreakpoint=function(){return this.visibleBreakpoints.isVisible(h.lg)?h.lg:this.visibleBreakpoints.isVisible(h.md)?h.md:this.visibleBreakpoints.isVisible(h.sm)?h.sm:h.xs},a.prototype.isBreakpoint=function(a){
return this.currentBreakpoint===a},a.$inject=["$rootScope",g.visibleBreakpointServiceName,"resizeDebounceMilliseconds",f.serviceName],a}();return b.BreakpointService=i,c.exports}),System.registerDynamic("components/services/breakpoints/breakpoint",[],!0,function(a,b,c){"use strict";return b.lg="lg",b.md="md",b.sm="sm",b.xs="xs",b.all=[b.xs,b.sm,b.md,b.lg],c.exports}),System.registerDynamic("components/services/breakpoints/breakpoints.module",["angular","../windowWrapper/windowWrapper.service","./visibleBreakpoint.service","./breakpoints.service","./breakpoint"],!0,function(a,b,c){"use strict";function d(a){for(var c in a)b.hasOwnProperty(c)||(b[c]=a[c])}var e=a("angular"),f=a("../windowWrapper/windowWrapper.service"),g=a("./visibleBreakpoint.service"),h=a("./breakpoints.service");return d(a("./breakpoint")),d(a("./visibleBreakpoint.service")),d(a("./breakpoints.service")),b.moduleName="rl.ui.services.breakpoints",e.module(b.moduleName,[f.moduleName]).constant("resizeDebounceMilliseconds",500).service(g.visibleBreakpointServiceName,g.VisibleBreakpointService).service(h.breakpointServiceName,h.BreakpointService),c.exports}),System.registerDynamic("components/services/componentValidator/componentValidator.service",["angular","lodash","typescript-angular-utilities"],!0,function(a,b,c){"use strict";function d(a){return{getInstance:function(b){return new h(a,b)}}}var e=a("angular"),f=a("lodash"),g=a("typescript-angular-utilities");b.moduleName="rl.ui.services.componentValidator",b.factoryName="componentValidator";var h=function(){function a(a,b){var c=this;this.$scope=b.$scope,this.ngModel=b.ngModel,this.form=b.form,this.validator=a.buildCustomValidator(function(a,b){c.error=a,c.errorType=b||"customValidation"}),f.each(b.validators,function(a){c.validator.registerValidationHandler(a)}),this.setValidator()}return a.prototype.setValidator=function(){var a=this;return this.$scope.$watch(this.validator.validate.bind(this.validator),function(b){b&&(a.error=null),f.isUndefined(a.ngModel)?f.isUndefined(a.form)?f.isFunction(a.setValidity)&&a.setValidity(b):(a.form.$setValidity(a.errorType,b,"group"),a.form.rlErrorMessage=a.error):(a.ngModel.$setValidity(a.errorType,b),a.ngModel.rlErrorMessage=a.error)})},a}();return b.ComponentValidator=h,d.$inject=[g.downgrade.validationServiceName],b.componentValidatorFactory=d,e.module(b.moduleName,[g.downgrade.moduleName]).factory(b.factoryName,d),c.exports}),System.registerDynamic("components/services/contentProvider/contentProvider.service",["angular","lodash","rxjs"],!0,function(a,b,c){"use strict";function d(){return{getInstance:function(){return new h}}}var e=a("angular"),f=a("lodash"),g=a("rxjs");b.moduleName="rl.utilities.services.contentProvider",b.serviceName="contentProviderFactory";var h=function(){function a(){var a=this;this.setTranscludeContent=function(b){f.isFunction(b)?b(function(b,c){a.setContent(b,c)}):a.setContent(null)},this.contentChanges=new g.BehaviorSubject({newContent:e.element("")})}return a.prototype.setContent=function(a,b){this.content=a,this.scope=b,this.contentChanges.next({newContent:a,scope:b})},a.prototype.getContent=function(a){return null!=a?this.content.filter(a):this.content},a}();return d.$inject=[],e.module(b.moduleName,[]).factory(b.serviceName,d),c.exports}),System.registerDynamic("components/services/dialog/bootstrapModalDialog/bootstrapModalDialog.controller",["./bootstrapModalDialog.service"],!0,function(a,b,c){"use strict";var d=a("./bootstrapModalDialog.service");b.controllerName="BootstrapModalDialogController";var e=function(){function a(a,b,c){var d;if(null!=a.modalController){var e=a.resolveData||{};a.resolveData=null,e.$scope=a,d=b(a.modalController,e)}return a.$on("modal.closing",c.modalClosing),d}return a.$inject=["$scope","$controller",d.serviceName],a}();return b.BootstrapModalDialogController=e,c.exports}),System.registerDynamic("components/services/dialog/bootstrapModalDialog/bootstrapModalDialog.service",["lodash","../../promise/promise.service","./bootstrapModalDialog.controller"],!0,function(a,b,c){"use strict";var d=a("lodash"),e=a("../../promise/promise.service"),f=a("./bootstrapModalDialog.controller");b.serviceName="uiBootstrapModelDialog";var g=function(){function a(a,b,c){var e=this;this.$modal=a,this.$rootScope=b,this.promise=c,this.modalClosing=function(a,b,c){var f=!0;d.isFunction(e.closeHandler)&&(f=e.closeHandler(c)),f||a.preventDefault()}}return a.prototype.open=function(a,b){var c=this;null==a&&(a={});var d={close:function(){},dismiss:function(){}};return this.promise.resolvePromises(a.resolve).then(function(e){c.closeHandler=b,a=c.configureModalSettings(a,e);var f=c.$modal.open(a);d.close=f.close,d.dismiss=f.dismiss}),d},a.prototype.prompt=function(a,b){var c=a.acceptHandler||function(){},d=a.cancelHandler||function(){};a.acceptHandler=null,a.cancelHandler=null;var e=this.$rootScope.$new();e.prompt=a;var g={scope:e,template:b,controller:f.controllerName},h=this.$modal.open(g),i=function(){c(),h.close()},j=function(){d(),h.close()};return e.$accept=i,e.$cancel=j,{accept:i,cancel:j,close:h.close,dismiss:h.dismiss}},a.prototype.configureModalSettings=function(a,b){var c=a.scope;return null==c&&(c=this.$rootScope.$new()),a.resolveToDialog?null!=a.dialogAs?c[a.dialogAs]=b:c=d.extend(c,b):c.resolveData=b,c.modalController=a.controller,a.resolve=null,a.controller=f.controllerName,a.scope=c,a},a.$inject=["$uibModal","$rootScope",e.serviceName],a}();return b.BootstrapModalDialogService=g,c.exports}),System.registerDynamic("components/services/dialog/bootstrapModalDialog/bootstrapModalDialog.module",["angular","typescript-angular-utilities","./bootstrapModalDialog.controller","./bootstrapModalDialog.service"],!0,function(a,b,c){"use strict";function d(a){for(var c in a)b.hasOwnProperty(c)||(b[c]=a[c])}var e=a("angular"),f=a("typescript-angular-utilities"),g=a("./bootstrapModalDialog.controller"),h=a("./bootstrapModalDialog.service");return d(a("./bootstrapModalDialog.controller")),d(a("./bootstrapModalDialog.service")),b.moduleName="rl.ui.services.dialog.bootstrapModalDialog",e.module(b.moduleName,[f.downgrade.moduleName]).controller(g.controllerName,g.BootstrapModalDialogController).service(h.serviceName,h.BootstrapModalDialogService),c.exports}),System.registerDynamic("components/services/autosaveAction/autosaveAction.service",["angular"],!0,function(a,b,c){"use strict";var d=a("angular");b.moduleName="rl.utilities.services.autosaveAction",b.serviceName="autosaveAction";var e=function(){function a(a){var b=this;this.$timeout=a,this.completeMessageDuration=1e3,this.autosaveSuccessful=function(a){return b.resolveAutosave(a,!0)},this.autosaveFailed=function(a){return b.resolveAutosave(a,!1)},this.resolveAutosave=function(a,c){return b._saving=!1,b._complete=!0,b._successful=c,b.$timeout(function(){b._complete=!1},b.completeMessageDuration),a}}return Object.defineProperty(a.prototype,"saving",{get:function(){return this._saving},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"complete",{get:function(){return this._complete},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"successful",{get:function(){return this._successful},enumerable:!0,configurable:!0}),a.prototype.trigger=function(a){return this._saving=!0,a.then(this.autosaveSuccessful)["catch"](this.autosaveFailed)},a.$inject=["$timeout"],a}();return d.module(b.moduleName,[]).service(b.serviceName,e),c.exports}),System.registerDynamic("components/services/autosave/triggers/onChangeTrigger",["lodash","./trigger"],!0,function(a,b,c){"use strict";var d=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},e=a("lodash"),f=a("./trigger"),g=function(a){function b(b,c){a.call(this,"onChange"),this.$rootScope=b,this.$timeout=c,this.debounceDuration=1e3}return d(b,a),b.prototype.setTrigger=function(a){var b=this;e.isUndefined(this.settings)||(this.initListeners(),this.$rootScope.$watch(function(){return null!=b.settings.form?b.settings.form.$dirty:!1},function(){b.triggerSaveAction(a)}),this.$rootScope.$watch(function(){return null!=b.settings.form?b.settings.form.$valid:!1},function(){b.triggerSaveAction(a)}))},b.prototype.triggerSaveAction=function(a){var b=this;this.settings.form.$dirty&&(this.settings.form.$valid||this.settings.saveWhenInvalid)&&(this.setTimer(a),this.clearListener=this.setListener(function(){b.setTimer(a)}))},b.prototype.setTimer=function(a){var b=this;null!=this.timer&&this.$timeout.cancel(this.timer),this.timer=this.$timeout(function(){b.clearListener(),a()},this.debounceDuration)},b.prototype.initListeners=function(){this.setListener=this.settings.setChangeListener||this.nullSetListener,this.clearListener=this.nullClearListener},b.prototype.nullSetListener=function(){return console.log("No change listener available"),this.nullClearListener},b.prototype.nullClearListener=function(){console.log("No change listener register")},b}(f.Trigger);return b.OnChangeTrigger=g,c.exports}),System.registerDynamic("components/services/autosave/triggers/trigger",["lodash"],!0,function(a,b,c){"use strict";var d=a("lodash"),e=function(){function a(a,b){this.triggerAction=b,this.aliases=a.split(" ")}return a.prototype.setTrigger=function(a){d.isFunction(this.triggerAction)&&this.triggerAction(this.settings)},a.prototype.hasMatch=function(a){var b=this,c=a.split(" ");return d.some(c,function(a){return d.some(b.aliases,function(b){return a===b})})},a.prototype.configure=function(a){this.settings=a},a}();return b.Trigger=e,c.exports}),System.registerDynamic("components/services/autosave/triggers/triggers.service",["angular","lodash","./onChangeTrigger","./trigger"],!0,function(a,b,c){"use strict";function d(a){for(var c in a)b.hasOwnProperty(c)||(b[c]=a[c])}function e(a,b){return{getInstance:function(){return new j(a,b)}}}var f=a("angular"),g=a("lodash"),h=a("./onChangeTrigger"),i=a("./trigger");d(a("./onChangeTrigger")),d(a("./trigger")),b.defaultTriggers="onChange",b.moduleName="rl.ui.services.autosave.triggers",b.factoryName="autosaveTriggers";var j=function(){function a(a,b){this.triggers={onChange:new h.OnChangeTrigger(a,b),none:new i.Trigger("none")}}return a.prototype.setTriggers=function(a,c){null==a&&(a=b.defaultTriggers),g.each(this.triggers,function(b){b.hasMatch(a)&&b.setTrigger(c)})},a}();return e.$inject=["$rootScope","$timeout"],f.module(b.moduleName,[]).factory(b.factoryName,e),c.exports}),System.registerDynamic("components/services/autosave/autosave.service",["angular","lodash","typescript-angular-utilities","../autosaveAction/autosaveAction.service","./triggers/triggers.service","../form/form.service"],!0,function(a,b,c){"use strict";function d(a,b,c,d){return{getInstance:function(e){return new k(a,b,e,c,d)}}}var e=a("angular"),f=a("lodash"),g=a("typescript-angular-utilities"),h=a("../autosaveAction/autosaveAction.service"),i=a("./triggers/triggers.service");b.triggers=i;var j=a("../form/form.service");b.moduleName="rl.ui.services.autosave",b.factoryName="autosaveFactory";var k=function(){function a(a,b,c,d,e){var g=this;this.notification=a,this.autosaveService=b,this.formService=e,this.autosave=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];var c=g.validateAndSave.apply(g,a);return f.isBoolean(c)?c:(g.autosaveService.trigger(c),!0)},this.contentForm=c.contentForm||this.nullForm(),this.save=c.save,this.saveWhenInvalid=c.saveWhenInvalid,this.triggerService=d.getInstance(),this.configureTriggers(c),this.triggerService.setTriggers(c.triggers,this.autosave)}return a.prototype.validateAndSave=function(){for(var a=this,b=[],c=0;c<arguments.length;c++)b[c-0]=arguments[c];if(this.contentForm.$pristine)return!0;if(this.contentForm.$valid||this.saveWhenInvalid){var d=this.save.apply(this,b);return f.isUndefined(d)?!0:d.then(function(){null!=a.contentForm&&a.contentForm.$setPristine()})}return this.notification.warning(this.formService.getAggregateError(this.contentForm)),!1},a.prototype.configureTriggers=function(a){this.triggerService.triggers.onChange.configure({form:a.contentForm,setChangeListener:a.setChangeListener,debounceDuration:a.debounceDuration,saveWhenInvalid:a.saveWhenInvalid})},a.prototype.nullForm=function(){return{$pristine:!1,$dirty:!0,$valid:!0,$setPristine:function(){}}},a}();return d.$inject=[g.downgrade.notificationServiceName,h.serviceName,i.factoryName,j.serviceName],e.module(b.moduleName,[g.downgrade.moduleName,h.moduleName,i.moduleName,j.moduleName]).factory(b.factoryName,d),c.exports}),System.registerDynamic("components/components/dialog/autosaveDialogFooter.html",[],!0,function(a,b,c){return c.exports='<rl-button type="danger" action="dialog.close()"><i class="fa fa-times"></i> Cancel</rl-button>\r\n<rl-button-async type="success" action="dialog.saveAndClose()"><i class="fa fa-check"></i> Save</rl-button-submit>',c.exports}),System.registerDynamic("components/components/dialog/dialog.html",[],!0,function(a,b,c){return c.exports='<rl-form save="dialog.saveAndClose()" saving="dialog.saving" form="dialog.form">\r\n	<div class="modal-header">\r\n		<button type="button" class="close" data-dismiss="modal" aria-hidden="true" ng-click="dialog.close()">\r\n			<span class="fa-stack">\r\n				<i class="close-bg fa fa-circle fa-stack-2x"></i>\r\n				<i class="close-icon fa fa-close fa-stack-1x"></i>\r\n			</span>\r\n		</button>\r\n		<div ng-transclude="headerSlot"></div>\r\n		<div class="clearfix "></div>\r\n	</div>\r\n	<div class="modal-body">\r\n		<div ng-transclude="contentSlot"></div>\r\n		<div class="clearfix"></div>\r\n	</div>\r\n	<div class="modal-footer" ng-show="dialog.hasFooter">\r\n		<div class="footer-template"></div>\r\n		<div class="clearfix"></div>\r\n	</div>\r\n</rl-form>',c.exports}),System.registerDynamic("components/components/dialog/dialog",["angular","../../services/dialog/dialog.service","./autosaveDialogFooter.html","./dialog.html"],!0,function(a,b,c){"use strict";var d=a("angular"),e=a("../../services/dialog/dialog.service");b.moduleName="rl.ui.components.dialog",b.componentName="rlDialog",b.controllerName="DialogController";var f=function(){function b(a,b,c,d,e){this.$scope=a,this.$element=b,this.$transclude=c,this.$compile=d,this.dialogService=e}return b.prototype.$onInit=function(){var a=this,b=this.$scope.$watch(function(){return a.form},function(c){null!=c&&(a.dialogService.setForm(c),b())})},b.prototype.$postLink=function(){var b=this;this.close=this.$scope.$parent.$close,this.dismiss=this.$scope.$parent.$dismiss,this.saveAndClose=this.$scope.$parent.$saveAndClose;var c=this.$element.find(".footer-template");if(this.$transclude.isSlotFilled("footerSlot"))this.$transclude(function(a){b.hasFooter=a.length>0,b.hasFooter&&c.append(a)},null,"footerSlot");else if(this.autosave){var d=this.$compile(a("./autosaveDialogFooter.html"))(this.$scope);this.hasFooter=!0,c.append(d)}},b.$inject=["$scope","$element","$transclude","$compile",e.serviceName],b}();b.DialogController=f;var g={transclude:{headerSlot:"?rlDialogHeader",contentSlot:"?rlDialogContent",footerSlot:"?rlDialogFooter"},template:a("./dialog.html"),controller:b.controllerName,controllerAs:"dialog",bindings:{autosave:"="}};return d.module(b.moduleName,[e.moduleName]).component(b.componentName,g).controller(b.controllerName,f),c.exports}),System.registerDynamic("components/services/dialog/promptDialog.html",[],!0,function(a,b,c){return c.exports='<div class="modal-body">\r\n	<div class="row">\r\n		<div class="col-xs-12">\r\n			<button type="button" class="close" data-dismiss="modal" aria-hidden="true" ng-click="$dismiss()">\r\n				<span class="fa-stack">\r\n					<i class="close-bg fa fa-circle fa-stack-2x"></i>\r\n					<i class="close-icon fa fa-close fa-stack-1x"></i>\r\n				</span>\r\n			</button>\r\n		</div>\r\n	</div>\r\n\r\n	{{prompt.message}}\r\n	<div class="clearfix"></div>\r\n</div>\r\n<div class="modal-footer">\r\n	<button class="btn btn-danger" type="button" ng-click="$cancel()"><i class="fa fa-times"></i> {{prompt.cancelButton}}</button>\r\n	<button class="btn btn-success" type="button" ng-click="$accept()"><i class="fa fa-check"></i> {{prompt.okButton}}</button>\r\n	<div class="clearfix"></div>\r\n</div>',c.exports}),System.registerDynamic("components/services/dialog/dialog.service",["angular","lodash","typescript-angular-utilities","../../services/promise/promise.service","./bootstrapModalDialog/bootstrapModalDialog.module","../autosave/autosave.service","../form/form.service","../../components/dialog/dialog","./promptDialog.html"],!0,function(a,b,c){"use strict";function d(){var a=this,b={setImplementation:function(b){a.dialogImplementation=b},$get:function(b,c,d,e,f,g){var h=null!=a.dialogImplementation?a.dialogImplementation:b;return new m(h,c,d,e,f,g)}};return b.$get.$inject=[i.serviceName,"$rootScope",j.factoryName,h.serviceName,g.downgrade.notificationServiceName,k.serviceName],b}var e=a("angular"),f=a("lodash"),g=a("typescript-angular-utilities"),h=a("../../services/promise/promise.service"),i=a("./bootstrapModalDialog/bootstrapModalDialog.module");b.bootstrapModalDialog=i;var j=a("../autosave/autosave.service"),k=a("../form/form.service"),l=a("../../components/dialog/dialog");b.componentName=l.componentName,b.controllerName=l.controllerName,b.DialogController=l.DialogController,b.moduleName="rl.ui.services.dialog",b.serviceName="dialog";var m=function(){function b(a,b,c,d,e,f){var g=this;this.dialog=a,this.$rootScope=b,this.autosaveFactory=c,this.promise=d,this.notification=e,this.formService=f,this.autosaveCloseHandler=function(a){return a?!0:g.autosave.autosave(g.data)}}return b.prototype.open=function(a,b){var c=this,d=this.dialog.open(a,b);return d.validateAndNotify=function(){var a=c.form.$valid;return a||c.notification.warning(c.formService.getAggregateError(c.form)),a},d},b.prototype.prompt=function(b){return b.okButton=b.okButton||"Ok",b.cancelButton=b.cancelButton||"Cancel",this.dialog.prompt(b,a("./promptDialog.html"))},b.prototype.openForm=function(a){var b=this,c={close:function(){},dismiss:function(){},save:function(){},saveAndClose:function(){},validateAndNotify:function(){}};return this.promise.resolvePromises(a.resolve).then(function(d){var e=a.scope;null==e&&(e=b.$rootScope.$new(),a.scope=e),null==a.data&&(a.data={}),null==a.triggers&&(a.triggers="none"),b.autosave=b.autosaveFactory.getInstance({save:a.save,triggers:a.triggers}),b.data=f.extend(a.data,d),e.dialog=b.data;var g=b.open(a,b.autosaveCloseHandler);c.close=g.close,c.dismiss=g.dismiss,e.$save=function(){return b.autosave.validateAndSave(b.data)},e.$saveAndClose=function(){var a=e.$save();return f.isBoolean(a)&&a?g.close():b.promise.isPromise(a)&&a.then(function(){g.close()}),a},c.save=e.$save,c.saveAndClose=e.$saveAndClose,c.validateAndNotify=g.validateAndNotify}),c},b.prototype.setForm=function(a){null!=this.autosave&&(this.autosave.contentForm=a),this.form=a},b}();return b.DialogService=m,b.dialogServiceProvider=d,e.module(b.moduleName,[i.moduleName,j.moduleName,g.downgrade.moduleName,h.moduleName,k.moduleName]).provider(b.serviceName,d),c.exports}),System.registerDynamic("components/services/documentWrapper/documentWrapper.service",["angular","jquery"],!0,function(a,b,c){"use strict";var d=a("angular"),e=a("jquery");b.moduleName="rl.ui.services.documentWrapper",b.serviceName="documentWrapper";var f=function(){function a(){this.documentControl=e(document)}return a.prototype.height=function(){return this.documentControl.height()},a}();return d.module(b.moduleName,[]).service(b.serviceName,f),c.exports}),System.registerDynamic("components/services/form/form.service",["angular","lodash"],!0,function(a,b,c){"use strict";var d=a("angular"),e=a("lodash");b.moduleName="rl.ui.services.form",b.serviceName="formService";var f=function(){function a(){}return a.prototype.getAggregateError=function(a){var b=e.filter(a,function(a){return null!=a&&null!=a.rlErrorMessage}),c=e.mapValues(b,"rlErrorMessage");return e.first(c)},a}();return d.module(b.moduleName,[]).service(b.serviceName,f),c.exports}),System.registerDynamic("components/services/jquery/jquery.service",["angular"],!0,function(a,b,c){"use strict";var d=a("angular");b.moduleName="rl.utilities.services.jquery",b.serviceName="jqueryUtility";var e=function(){function a(){}return a.prototype.getHtml=function(a){return d.element("<div>").append(a).html()},a.prototype.replaceContent=function(a,b){return a.empty(),a.append(b)},a}();return d.module(b.moduleName,[]).service(b.serviceName,e),c.exports}),System.registerDynamic("components/services/promise/promise.service",["angular","lodash"],!0,function(a,b,c){"use strict";var d=a("angular"),e=a("lodash");b.moduleName="rl.utilities.services.promise",b.serviceName="promiseUtility";var f=function(){function a(a,b){this.$q=a,this.$injector=b}return a.prototype.isPromise=function(a){return e.isObject(a)&&e.isFunction(a.then)&&e.isFunction(a["catch"])},a.prototype.resolvePromises=function(a){var b=this,c={};return e.each(a,function(a,d){e.isFunction(a)||e.isArray(a)?c[d]=b.$q.when(b.$injector.invoke(a)):e.isString(a)?c[d]=b.$q.when(b.$injector.get(a)):c[d]=b.$q.when(a)}),this.$q.all(c)},a.$inject=["$q","$injector"],a}();return d.module(b.moduleName,[]).service(b.serviceName,f),c.exports}),System.registerDynamic("components/services/templateLoader/templateLoader.service",["angular","lodash","typescript-angular-utilities"],!0,function(a,b,c){"use strict";var d=a("angular"),e=a("lodash"),f=a("typescript-angular-utilities");b.moduleName="rl.utilities.services.templateLoader",b.serviceName="templateLoader";var g=function(){function a(a,b,c){this.$interpolate=a,this.templateSelectorValue=b,this.objectUtility=c}return a.prototype.loadTemplates=function(a){var b=this,c={templates:{},"default":null,transclusionScope:null};return a(function(a,f){var g=a.filter(b.templateSelectorValue);g.each(function(a,g){var h=d.element(g),i="<span>"+h.html()+"</span>",j=h.attr("when-selector");if(!b.objectUtility.isNullOrWhitespace(j)){var k=b.$interpolate(j)(f);c.templates[k]=i}var l=h.attr("default");e.isUndefined(l)||"false"===l.toLowerCase()||(c["default"]=i)}),c.transclusionScope=f}),c},a.$inject=["$interpolate","templateSelectorValue",f.downgrade.objectServiceName],a}();return d.module(b.moduleName,[f.downgrade.moduleName]).value("templateSelectorValue","template").service(b.serviceName,g),c.exports}),System.registerDynamic("components/services/windowWrapper/windowWrapper.service",["angular","jquery"],!0,function(a,b,c){"use strict";var d=a("angular"),e=a("jquery");b.moduleName="rl.ui.services.windowWrapper",b.serviceName="windowWrapper";var f=function(){function a(){this.windowControl=e(window)}return a.prototype.resize=function(a){this.windowControl.resize(a)},a.prototype.scrollTop=function(){return this.windowControl.scrollTop()},a.prototype.scroll=function(a){this.windowControl.scroll(a)},a.prototype.height=function(){return this.windowControl.height()},a}();return d.module(b.moduleName,[]).service(b.serviceName,f),c.exports}),System.registerDynamic("components/services/services.module",["angular","./autosave/autosave.service","./autosaveAction/autosaveAction.service","./breakpoints/breakpoints.module","./componentValidator/componentValidator.service","./contentProvider/contentProvider.service","./dialog/dialog.service","./documentWrapper/documentWrapper.service","./form/form.service","./jquery/jquery.service","./promise/promise.service","./templateLoader/templateLoader.service","./windowWrapper/windowWrapper.service"],!0,function(a,b,c){"use strict";var d=a("angular"),e=a("./autosave/autosave.service");b.autosave=e;var f=a("./autosaveAction/autosaveAction.service");b.autosaveAction=f;var g=a("./breakpoints/breakpoints.module");b.breakpoints=g;var h=a("./componentValidator/componentValidator.service");b.componentValidator=h;var i=a("./contentProvider/contentProvider.service");b.contentProvider=i;var j=a("./dialog/dialog.service");b.dialog=j;var k=a("./documentWrapper/documentWrapper.service");b.documentWrapper=k;var l=a("./form/form.service");b.form=l;var m=a("./jquery/jquery.service");b.jquery=m;var n=a("./promise/promise.service");b.promise=n;var o=a("./templateLoader/templateLoader.service");b.templateLoader=o;var p=a("./windowWrapper/windowWrapper.service");return b.windowWrapper=p,b.moduleName="rl.ui.services",d.module(b.moduleName,[e.moduleName,f.moduleName,g.moduleName,h.moduleName,i.moduleName,j.moduleName,k.moduleName,l.moduleName,m.moduleName,n.moduleName,o.moduleName,p.moduleName]),c.exports}),System.registerDynamic("components/types/formValidators",[],!1,function(a,b,c){var d=System.get("@@global-helpers").prepareGlobal(c.id,null,null);return function(){"use strict"}(),d()}),System.registerDynamic("components/types/viewData",[],!1,function(a,b,c){var d=System.get("@@global-helpers").prepareGlobal(c.id,null,null);return function(){"use strict"}(),d()}),System.registerDynamic("components/types/types.module",["./formValidators","./viewData"],!0,function(a,b,c){"use strict";var d=a("./formValidators");b.ngModel=d;var e=a("./viewData");return b.viewData=e,c.exports}),System.registerDynamic("components/ui.module",["angular","angular-ui-bootstrap","angular-sanitize","typescript-angular-utilities","../libraries/angular-bootstrap-slider/slider","signature_pad","./behaviors/behaviors.module","./components/components.module","./filters/filters.module","./services/services.module","./types/types.module"],!0,function(a,b,c){"use strict";var d=a("angular");a("angular-ui-bootstrap"),a("angular-sanitize");var e=a("typescript-angular-utilities");a("../libraries/angular-bootstrap-slider/slider"),a("signature_pad");var f=a("./behaviors/behaviors.module");b.behaviors=f;var g=a("./components/components.module");b.components=g;var h=a("./filters/filters.module");b.filters=h;var i=a("./services/services.module");b.services=i;var j=a("./types/types.module");return b.types=j,b.moduleName="rl.ui",d.module(b.moduleName,["ui.bootstrap","ui.bootstrap-slider","ngSanitize",e.downgrade.moduleName,f.moduleName,g.moduleName,h.moduleName,i.moduleName]),c.exports});