this.rl_components=function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="output",e(0)}([function(t,e,n){"use strict";var i=n(1);n(2),n(3);var o=n(5);n(6),n(13);var r=n(14);e.behaviors=r;var s=n(26);e.components=s;var a=n(210);e.filters=a;var c=n(138);e.services=c;var l=n(212);e.types=l,e.moduleName="rl.ui",i.module(e.moduleName,["ui.bootstrap","ui.bootstrap-slider","ngSanitize",o.name,r.moduleName,s.moduleName,a.moduleName,c.moduleName])},function(t,e){!function(){t.exports=this.angular}()},function(t,e){!function(){t.exports=this["angular-ui"]}()},function(t,e,n){n(4),t.exports="ngSanitize"},function(t,e){/**
	 * @license AngularJS v1.5.0
	 * (c) 2010-2016 Google, Inc. http://angularjs.org
	 * License: MIT
	 */
!function(t,e,n){"use strict";function i(){var t=!1;this.$get=["$$sanitizeUri",function(n){return t&&e.extend(x,_),function(t){var e=[];return s(t,l(e,function(t,e){return!/^unsafe:/.test(n(t,e))})),e.join("")}}],this.enableSvg=function(n){return e.isDefined(n)?(t=n,this):t}}function o(t){var n=[],i=l(n,e.noop);return i.chars(t),n.join("")}function r(t,n){var i,o={},r=t.split(",");for(i=0;i<r.length;i++)o[n?e.lowercase(r[i]):r[i]]=!0;return o}function s(t,e){null===t||t===n?t="":"string"!=typeof t&&(t=""+t),h.innerHTML=t;var i=5;do{if(0===i)throw p("uinput","Failed to sanitize html because the input is unstable");i--,document.documentMode<=11&&u(h),t=h.innerHTML,h.innerHTML=t}while(t!==h.innerHTML);for(var o=h.firstChild;o;){switch(o.nodeType){case 1:e.start(o.nodeName.toLowerCase(),a(o.attributes));break;case 3:e.chars(o.textContent)}var r;if(!(r=o.firstChild)&&(1==o.nodeType&&e.end(o.nodeName.toLowerCase()),r=o.nextSibling,!r))for(;null==r&&(o=o.parentNode,o!==h);)r=o.nextSibling,1==o.nodeType&&e.end(o.nodeName.toLowerCase());o=r}for(;o=h.firstChild;)h.removeChild(o)}function a(t){for(var e={},n=0,i=t.length;i>n;n++){var o=t[n];e[o.name]=o.value}return e}function c(t){return t.replace(/&/g,"&amp;").replace(d,function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1);return"&#"+(1024*(e-55296)+(n-56320)+65536)+";"}).replace(f,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function l(t,n){var i=!1,o=e.bind(t,t.push);return{start:function(t,r){t=e.lowercase(t),!i&&C[t]&&(i=t),i||x[t]!==!0||(o("<"),o(t),e.forEach(r,function(i,r){var s=e.lowercase(r),a="img"===t&&"src"===s||"background"===s;$[s]!==!0||N[s]===!0&&!n(i,a)||(o(" "),o(r),o('="'),o(c(i)),o('"'))}),o(">"))},end:function(t){t=e.lowercase(t),i||x[t]!==!0||m[t]===!0||(o("</"),o(t),o(">")),t==i&&(i=!1)},chars:function(t){i||o(c(t))}}}function u(t){if(t.nodeType===Node.ELEMENT_NODE)for(var e=t.attributes,n=0,i=e.length;i>n;n++){var o=e[n],r=o.name.toLowerCase();"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||(t.removeAttributeNode(o),n--,i--)}var s=t.firstChild;s&&u(s),s=t.nextSibling,s&&u(s)}var h,p=e.$$minErr("$sanitize"),d=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,f=/([^\#-~ |!])/g,m=r("area,br,col,hr,img,wbr"),v=r("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),g=r("rp,rt"),b=e.extend({},g,v),y=e.extend({},v,r("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),w=e.extend({},g,r("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),_=r("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),C=r("script,style"),x=e.extend({},m,y,w,b),N=r("background,cite,href,longdesc,src,xlink:href"),S=r("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),k=r("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),$=e.extend({},N,k,S);!function(t){var e;if(!t.document||!t.document.implementation)throw p("noinert","Can't create an inert html document");e=t.document.implementation.createHTMLDocument("inert");var n=e.documentElement||e.getDocumentElement(),i=n.getElementsByTagName("body");if(1===i.length)h=i[0];else{var o=e.createElement("html");h=e.createElement("body"),o.appendChild(h),e.appendChild(o)}}(t),e.module("ngSanitize",[]).provider("$sanitize",i),e.module("ngSanitize").filter("linky",["$sanitize",function(t){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,i=/^mailto:/i,r=e.$$minErr("linky"),s=e.isString;return function(a,c,l){function u(t){t&&v.push(o(t))}function h(t,n){var i;if(v.push("<a "),e.isFunction(l)&&(l=l(t)),e.isObject(l))for(i in l)v.push(i+'="'+l[i]+'" ');else l={};!e.isDefined(c)||"target"in l||v.push('target="',c,'" '),v.push('href="',t.replace(/"/g,"&quot;"),'">'),u(n),v.push("</a>")}if(null==a||""===a)return a;if(!s(a))throw r("notstring","Expected string but received: {0}",a);for(var p,d,f,m=a,v=[];p=m.match(n);)d=p[0],p[2]||p[4]||(d=(p[3]?"http://":"mailto:")+d),f=p.index,u(m.substr(0,f)),h(d,p[0].replace(i,"")),m=m.substring(f+p[0].length);return u(m),t(v.join(""))}}])}(window,window.angular)},function(t,e){!function(){t.exports=this.rl_utilities}()},function(t,e,n){n(7);var i=n(11);angular.module("ui.bootstrap-slider",[]).directive("slider",["$parse","$timeout","$rootScope",function(t,e,n){return{restrict:"AE",replace:!0,template:'<div><input class="slider-input" type="text" style="width:100%" /></div>',require:"ngModel",scope:{max:"=",min:"=",step:"=",value:"=",ngModel:"=",ngDisabled:"=",range:"=",sliderid:"=",ticks:"=",ticksLabels:"=",ticksSnapBounds:"=",ticksPositions:"=",scale:"=",formatter:"&",onStartSlide:"&",onStopSlide:"&",onSlide:"&"},link:function(o,r,s,a,c){function l(){function c(t,e,n){f[t]=e||n}function l(t,e,n){f[t]=e||0===e?parseFloat(e):n}function p(t,e,n){f[t]=e?e+""=="true":n}function d(t){return angular.isString(t)&&0===t.indexOf("[")?angular.fromJson(t):t}var f={};c("id",o.sliderid),c("orientation",s.orientation,"horizontal"),c("selection",s.selection,"before"),c("handle",s.handle,"round"),c("tooltip",s.sliderTooltip||s.tooltip,"show"),c("tooltip_position",s.sliderTooltipPosition,"top"),c("tooltipseparator",s.tooltipseparator,":"),c("ticks",o.ticks),c("ticks_labels",o.ticksLabels),c("ticks_snap_bounds",o.ticksSnapBounds),c("ticks_positions",o.ticksPositions),c("scale",o.scale,"linear"),l("min",o.min,0),l("max",o.max,10),l("step",o.step,1);var m=f.step+"",v=m.substring(m.lastIndexOf(".")+1);if(l("precision",s.precision,v),p("tooltip_split",s.tooltipsplit,!1),p("enabled",s.enabled,!0),p("naturalarrowkeys",s.naturalarrowkeys,!1),p("reversed",s.reversed,!1),p("range",o.range,!1),f.range){if(angular.isArray(o.value))f.value=o.value;else if(angular.isString(o.value)){if(f.value=d(o.value),!angular.isArray(f.value)){var g=parseFloat(o.value);isNaN(g)&&(g=5),g<o.min?(g=o.min,f.value=[g,f.max]):g>o.max?(g=o.max,f.value=[f.min,g]):f.value=[f.min,f.max]}}else f.value=[f.min,f.max];o.ngModel=f.value}else l("value",o.value,5);o.formatter&&(f.formatter=o.$eval(o.formatter)),"$"in window&&$.fn.slider&&($.fn.slider.constructor.prototype.disable=function(){this.picker.off()},$.fn.slider.constructor.prototype.enable=function(){this.picker.on()}),r[0].__slider&&r[0].__slider.destroy();var b=new i(r[0].getElementsByClassName("slider-input")[0],f);r[0].__slider=b;var y=d(s.updateevent);y=angular.isString(y)?[y]:["slide"],angular.forEach(y,function(t){b.on(t,function(t){a.$setViewValue(t),e(function(){o.$apply()})})}),b.on("change",function(t){a.$setViewValue(t.newValue),e(function(){o.$apply()})});var w={slideStart:"onStartSlide",slide:"onSlide",slideStop:"onStopSlide"};angular.forEach(w,function(e,i){var r=t(s[e]);b.on(i,function(t){if(o[e]){var i=function(){r(o.$parent,{$event:t,value:t})};n.$$phase?o.$evalAsync(i):o.$apply(i)}})}),angular.isFunction(h)&&(h(),h=null),h=o.$watch("ngDisabled",function(t){t?b.disable():b.enable()}),angular.isFunction(u)&&u(),u=o.$watch("ngModel",function(t){o.range?b.setValue(t):b.setValue(parseFloat(t))},!0)}var u,h;l();var p=["min","max","step","range","scale"];angular.forEach(p,function(t){o.$watch(t,function(){l()})})}}}])},function(t,e,n){var i=n(8);"string"==typeof i&&(i=[[t.id,i,""]]);n(10)(i,{});i.locals&&(t.exports=i.locals)},function(t,e,n){e=t.exports=n(9)(),e.push([t.id,"/*! =======================================================\r\n                      VERSION  5.1.1\r\n========================================================= */\r\n/*! =========================================================\r\n * bootstrap-slider.js\r\n *\r\n * Maintainers:\r\n *		Kyle Kemp\r\n *			- Twitter: @seiyria\r\n *			- Github:  seiyria\r\n *		Rohit Kalkur\r\n *			- Twitter: @Rovolutionary\r\n *			- Github:  rovolution\r\n *\r\n * =========================================================\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n * ========================================================= */.slider{display:inline-block;vertical-align:middle;position:relative}.slider.slider-horizontal{width:210px;height:20px}.slider.slider-horizontal .slider-track{height:10px;width:100%;margin-top:-5px;top:50%;left:0}.slider.slider-horizontal .slider-selection,.slider.slider-horizontal .slider-track-high,.slider.slider-horizontal .slider-track-low{height:100%;top:0;bottom:0}.slider.slider-horizontal .slider-handle,.slider.slider-horizontal .slider-tick{margin-left:-10px;margin-top:-5px}.slider.slider-horizontal .slider-handle.triangle,.slider.slider-horizontal .slider-tick.triangle{border-width:0 10px 10px;width:0;height:0;border-bottom-color:#0480be;margin-top:0}.slider.slider-horizontal .slider-tick-label-container{white-space:nowrap;margin-top:20px}.slider.slider-horizontal .slider-tick-label-container .slider-tick-label{padding-top:4px;display:inline-block;text-align:center}.slider.slider-vertical{height:210px;width:20px}.slider.slider-vertical .slider-track{width:10px;height:100%;margin-left:-5px;left:50%;top:0}.slider.slider-vertical .slider-selection{width:100%;left:0;top:0;bottom:0}.slider.slider-vertical .slider-track-high,.slider.slider-vertical .slider-track-low{width:100%;left:0;right:0}.slider.slider-vertical .slider-handle,.slider.slider-vertical .slider-tick{margin-left:-5px;margin-top:-10px}.slider.slider-vertical .slider-handle.triangle,.slider.slider-vertical .slider-tick.triangle{border-width:10px 0 10px 10px;width:1px;height:1px;border-left-color:#0480be;margin-left:0}.slider.slider-disabled .slider-handle{background-image:-webkit-linear-gradient(top,#dfdfdf,#bebebe);background-image:linear-gradient(180deg,#dfdfdf 0,#bebebe);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffdfdfdf',endColorstr='#ffbebebe',GradientType=0)}.slider.slider-disabled .slider-track{background-image:-webkit-linear-gradient(top,#e5e5e5,#e9e9e9);background-image:linear-gradient(180deg,#e5e5e5 0,#e9e9e9);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffe5e5e5',endColorstr='#ffe9e9e9',GradientType=0);cursor:not-allowed}.slider input{display:none}.slider .tooltip.top{margin-top:-36px}.slider .tooltip-inner{white-space:nowrap}.slider .hide{display:none}.slider-track{cursor:pointer;background-image:-webkit-linear-gradient(top,#f5f5f5,#f9f9f9);background-image:linear-gradient(180deg,#f5f5f5 0,#f9f9f9);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#fff5f5f5',endColorstr='#fff9f9f9',GradientType=0);box-shadow:inset 0 1px 2px rgba(0,0,0,.1)}.slider-selection,.slider-track{position:absolute;background-repeat:repeat-x;border-radius:4px}.slider-selection{background-image:-webkit-linear-gradient(top,#f9f9f9,#f5f5f5);background-image:linear-gradient(180deg,#f9f9f9 0,#f5f5f5);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#fff9f9f9',endColorstr='#fff5f5f5',GradientType=0);box-shadow:inset 0 -1px 0 rgba(0,0,0,.15);box-sizing:border-box}.slider-selection.tick-slider-selection{background-image:-webkit-linear-gradient(top,#89cdef,#81bfde);background-image:linear-gradient(180deg,#89cdef 0,#81bfde);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#ff89cdef',endColorstr='#ff81bfde',GradientType=0)}.slider-track-high,.slider-track-low{position:absolute;background:transparent;box-sizing:border-box;border-radius:4px}.slider-handle{position:absolute;width:20px;height:20px;background-color:#337ab7;background-image:-webkit-linear-gradient(top,#149bdf,#0480be);background-image:linear-gradient(180deg,#149bdf 0,#0480be);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#ff149bdf',endColorstr='#ff0480be',GradientType=0);filter:none;box-shadow:inset 0 1px 0 hsla(0,0%,100%,.2),0 1px 2px rgba(0,0,0,.05);border:0 solid transparent}.slider-handle.round{border-radius:50%}.slider-handle.custom,.slider-handle.triangle{background:transparent none}.slider-handle.custom:before{line-height:20px;font-size:20px;content:'\\2605';color:#726204}.slider-tick{position:absolute;width:20px;height:20px;background-image:-webkit-linear-gradient(top,#f9f9f9,#f5f5f5);background-image:linear-gradient(180deg,#f9f9f9 0,#f5f5f5);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#fff9f9f9',endColorstr='#fff5f5f5',GradientType=0);box-shadow:inset 0 -1px 0 rgba(0,0,0,.15);box-sizing:border-box;filter:none;opacity:.8;border:0 solid transparent}.slider-tick.round{border-radius:50%}.slider-tick.custom,.slider-tick.triangle{background:transparent none}.slider-tick.custom:before{line-height:20px;font-size:20px;content:'\\2605';color:#726204}.slider-tick.in-selection{background-image:-webkit-linear-gradient(top,#89cdef,#81bfde);background-image:linear-gradient(180deg,#89cdef 0,#81bfde);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#ff89cdef',endColorstr='#ff81bfde',GradientType=0);opacity:1}",""])},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},o=0;o<this.length;o++){var r=this[o][0];"number"==typeof r&&(i[r]=!0)}for(o=0;o<e.length;o++){var s=e[o];"number"==typeof s[0]&&i[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),t.push(s))}},t}},function(t,e,n){function i(t,e){for(var n=0;n<t.length;n++){var i=t[n],o=d[i.id];if(o){o.refs++;for(var r=0;r<o.parts.length;r++)o.parts[r](i.parts[r]);for(;r<i.parts.length;r++)o.parts.push(l(i.parts[r],e))}else{for(var s=[],r=0;r<i.parts.length;r++)s.push(l(i.parts[r],e));d[i.id]={id:i.id,refs:1,parts:s}}}}function o(t){for(var e=[],n={},i=0;i<t.length;i++){var o=t[i],r=o[0],s=o[1],a=o[2],c=o[3],l={css:s,media:a,sourceMap:c};n[r]?n[r].parts.push(l):e.push(n[r]={id:r,parts:[l]})}return e}function r(t,e){var n=v(),i=y[y.length-1];if("top"===t.insertAt)i?i.nextSibling?n.insertBefore(e,i.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),y.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function s(t){t.parentNode.removeChild(t);var e=y.indexOf(t);e>=0&&y.splice(e,1)}function a(t){var e=document.createElement("style");return e.type="text/css",r(t,e),e}function c(t){var e=document.createElement("link");return e.rel="stylesheet",r(t,e),e}function l(t,e){var n,i,o;if(e.singleton){var r=b++;n=g||(g=a(e)),i=u.bind(null,n,r,!1),o=u.bind(null,n,r,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=c(e),i=p.bind(null,n),o=function(){s(n),n.href&&URL.revokeObjectURL(n.href)}):(n=a(e),i=h.bind(null,n),o=function(){s(n)});return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else o()}}function u(t,e,n,i){var o=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=w(e,o);else{var r=document.createTextNode(o),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(r,s[e]):t.appendChild(r)}}function h(t,e){var n=e.css,i=e.media;e.sourceMap;if(i&&t.setAttribute("media",i),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function p(t,e){var n=e.css,i=(e.media,e.sourceMap);i&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var o=new Blob([n],{type:"text/css"}),r=t.href;t.href=URL.createObjectURL(o),r&&URL.revokeObjectURL(r)}var d={},f=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},m=f(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),v=f(function(){return document.head||document.getElementsByTagName("head")[0]}),g=null,b=0,y=[];t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=m()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var n=o(t);return i(n,e),function(t){for(var r=[],s=0;s<n.length;s++){var a=n[s],c=d[a.id];c.refs--,r.push(c)}if(t){var l=o(t);i(l,e)}for(var s=0;s<r.length;s++){var c=r[s];if(0===c.refs){for(var u=0;u<c.parts.length;u++)c.parts[u]();delete d[c.id]}}}};var w=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e,n){var i,o,r;/*! =======================================================
	                      VERSION  5.1.1
	========================================================= */
/*! =========================================================
	 * bootstrap-slider.js
	 *
	 * Maintainers:
	 *		Kyle Kemp
	 *			- Twitter: @seiyria
	 *			- Github:  seiyria
	 *		Rohit Kalkur
	 *			- Twitter: @Rovolutionary
	 *			- Github:  rovolution
	 *
	 * =========================================================
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 * http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 * ========================================================= */
!function(s,a){o=[n(12)],i=a,r="function"==typeof i?i.apply(e,o):i,!(void 0!==r&&(t.exports=r))}(this,function(t){var e;return function(t){"use strict";function e(){}function n(t){function n(e){e.prototype.option||(e.prototype.option=function(e){t.isPlainObject(e)&&(this.options=t.extend(!0,this.options,e))})}function o(e,n){t.fn[e]=function(o){if("string"==typeof o){for(var s=i.call(arguments,1),a=0,c=this.length;c>a;a++){var l=this[a],u=t.data(l,e);if(u)if(t.isFunction(u[o])&&"_"!==o.charAt(0)){var h=u[o].apply(u,s);if(void 0!==h&&h!==u)return h}else r("no such method '"+o+"' for "+e+" instance");else r("cannot call methods on "+e+" prior to initialization; attempted to call '"+o+"'")}return this}var p=this.map(function(){var i=t.data(this,e);return i?(i.option(o),i._init()):(i=new n(this,o),t.data(this,e,i)),t(this)});return!p||p.length>1?p:p[0]}}if(t){var r="undefined"==typeof console?e:function(t){console.error(t)};return t.bridget=function(t,e){n(e),o(t,e)},t.bridget}}var i=Array.prototype.slice;n(t)}(t),function(t){function n(e,n){function i(t,e){var n="data-slider-"+e.replace(/_/g,"-"),i=t.getAttribute(n);try{return JSON.parse(i)}catch(o){return i}}this._state={value:null,enabled:null,offset:null,size:null,percentage:null,inDrag:!1,over:!1},"string"==typeof e?this.element=document.querySelector(e):e instanceof HTMLElement&&(this.element=e),n=n?n:{};for(var r=Object.keys(this.defaultOptions),s=0;s<r.length;s++){var a=r[s],c=n[a];c="undefined"!=typeof c?c:i(this.element,a),c=null!==c?c:this.defaultOptions[a],this.options||(this.options={}),this.options[a]=c}"vertical"!==this.options.orientation||"top"!==this.options.tooltip_position&&"bottom"!==this.options.tooltip_position?"horizontal"!==this.options.orientation||"left"!==this.options.tooltip_position&&"right"!==this.options.tooltip_position||(this.options.tooltip_position="top"):this.options.tooltip_position="right";var l,u,h,p,d,f=this.element.style.width,m=!1,v=this.element.parentNode;if(this.sliderElem)m=!0;else{this.sliderElem=document.createElement("div"),this.sliderElem.className="slider";var g=document.createElement("div");if(g.className="slider-track",u=document.createElement("div"),u.className="slider-track-low",l=document.createElement("div"),l.className="slider-selection",h=document.createElement("div"),h.className="slider-track-high",p=document.createElement("div"),p.className="slider-handle min-slider-handle",d=document.createElement("div"),d.className="slider-handle max-slider-handle",g.appendChild(u),g.appendChild(l),g.appendChild(h),this.ticks=[],Array.isArray(this.options.ticks)&&this.options.ticks.length>0){for(s=0;s<this.options.ticks.length;s++){var b=document.createElement("div");b.className="slider-tick",this.ticks.push(b),g.appendChild(b)}l.className+=" tick-slider-selection"}if(g.appendChild(p),g.appendChild(d),this.tickLabels=[],Array.isArray(this.options.ticks_labels)&&this.options.ticks_labels.length>0)for(this.tickLabelContainer=document.createElement("div"),this.tickLabelContainer.className="slider-tick-label-container",s=0;s<this.options.ticks_labels.length;s++){var y=document.createElement("div");y.className="slider-tick-label",y.innerHTML=this.options.ticks_labels[s],this.tickLabels.push(y),this.tickLabelContainer.appendChild(y)}var w=function(t){var e=document.createElement("div");e.className="tooltip-arrow";var n=document.createElement("div");n.className="tooltip-inner",t.appendChild(e),t.appendChild(n)},_=document.createElement("div");_.className="tooltip tooltip-main",w(_);var C=document.createElement("div");C.className="tooltip tooltip-min",w(C);var x=document.createElement("div");x.className="tooltip tooltip-max",w(x),this.sliderElem.appendChild(g),this.sliderElem.appendChild(_),this.sliderElem.appendChild(C),this.sliderElem.appendChild(x),this.tickLabelContainer&&this.sliderElem.appendChild(this.tickLabelContainer),v.insertBefore(this.sliderElem,this.element),this.element.style.display="none"}if(t&&(this.$element=t(this.element),this.$sliderElem=t(this.sliderElem)),this.eventToCallbackMap={},this.sliderElem.id=this.options.id,this.touchCapable="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,this.tooltip=this.sliderElem.querySelector(".tooltip-main"),this.tooltipInner=this.tooltip.querySelector(".tooltip-inner"),this.tooltip_min=this.sliderElem.querySelector(".tooltip-min"),this.tooltipInner_min=this.tooltip_min.querySelector(".tooltip-inner"),this.tooltip_max=this.sliderElem.querySelector(".tooltip-max"),this.tooltipInner_max=this.tooltip_max.querySelector(".tooltip-inner"),o[this.options.scale]&&(this.options.scale=o[this.options.scale]),m===!0&&(this._removeClass(this.sliderElem,"slider-horizontal"),this._removeClass(this.sliderElem,"slider-vertical"),this._removeClass(this.tooltip,"hide"),this._removeClass(this.tooltip_min,"hide"),this._removeClass(this.tooltip_max,"hide"),["left","top","width","height"].forEach(function(t){this._removeProperty(this.trackLow,t),this._removeProperty(this.trackSelection,t),this._removeProperty(this.trackHigh,t)},this),[this.handle1,this.handle2].forEach(function(t){this._removeProperty(t,"left"),this._removeProperty(t,"top")},this),[this.tooltip,this.tooltip_min,this.tooltip_max].forEach(function(t){this._removeProperty(t,"left"),this._removeProperty(t,"top"),this._removeProperty(t,"margin-left"),this._removeProperty(t,"margin-top"),this._removeClass(t,"right"),this._removeClass(t,"top")},this)),"vertical"===this.options.orientation?(this._addClass(this.sliderElem,"slider-vertical"),this.stylePos="top",this.mousePos="pageY",this.sizePos="offsetHeight"):(this._addClass(this.sliderElem,"slider-horizontal"),this.sliderElem.style.width=f,this.options.orientation="horizontal",this.stylePos="left",this.mousePos="pageX",this.sizePos="offsetWidth"),this._setTooltipPosition(),Array.isArray(this.options.ticks)&&this.options.ticks.length>0&&(this.options.max=Math.max.apply(Math,this.options.ticks),this.options.min=Math.min.apply(Math,this.options.ticks)),Array.isArray(this.options.value)?(this.options.range=!0,this._state.value=this.options.value):this._state.value=this.options.range?[this.options.value,this.options.max]:this.options.value,this.trackLow=u||this.trackLow,this.trackSelection=l||this.trackSelection,this.trackHigh=h||this.trackHigh,"none"===this.options.selection&&(this._addClass(this.trackLow,"hide"),this._addClass(this.trackSelection,"hide"),this._addClass(this.trackHigh,"hide")),this.handle1=p||this.handle1,this.handle2=d||this.handle2,m===!0)for(this._removeClass(this.handle1,"round triangle"),this._removeClass(this.handle2,"round triangle hide"),s=0;s<this.ticks.length;s++)this._removeClass(this.ticks[s],"round triangle hide");var N=["round","triangle","custom"],S=-1!==N.indexOf(this.options.handle);if(S)for(this._addClass(this.handle1,this.options.handle),this._addClass(this.handle2,this.options.handle),s=0;s<this.ticks.length;s++)this._addClass(this.ticks[s],this.options.handle);this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos],this.setValue(this._state.value),this.handle1Keydown=this._keydown.bind(this,0),this.handle1.addEventListener("keydown",this.handle1Keydown,!1),this.handle2Keydown=this._keydown.bind(this,1),this.handle2.addEventListener("keydown",this.handle2Keydown,!1),this.mousedown=this._mousedown.bind(this),this.touchCapable&&this.sliderElem.addEventListener("touchstart",this.mousedown,!1),this.sliderElem.addEventListener("mousedown",this.mousedown,!1),"hide"===this.options.tooltip?(this._addClass(this.tooltip,"hide"),this._addClass(this.tooltip_min,"hide"),this._addClass(this.tooltip_max,"hide")):"always"===this.options.tooltip?(this._showTooltip(),this._alwaysShowTooltip=!0):(this.showTooltip=this._showTooltip.bind(this),this.hideTooltip=this._hideTooltip.bind(this),this.sliderElem.addEventListener("mouseenter",this.showTooltip,!1),this.sliderElem.addEventListener("mouseleave",this.hideTooltip,!1),this.handle1.addEventListener("focus",this.showTooltip,!1),this.handle1.addEventListener("blur",this.hideTooltip,!1),this.handle2.addEventListener("focus",this.showTooltip,!1),this.handle2.addEventListener("blur",this.hideTooltip,!1)),this.options.enabled?this.enable():this.disable()}var i={formatInvalidInputErrorMsg:function(t){return"Invalid input value '"+t+"' passed in"},callingContextNotSliderInstance:"Calling context element does not have instance of Slider bound to it. Check your code to make sure the JQuery object returned from the call to the slider() initializer is calling the method"},o={linear:{toValue:function(t){var e=t/100*(this.options.max-this.options.min);if(this.options.ticks_positions.length>0){for(var n,i,o,r=0,s=0;s<this.options.ticks_positions.length;s++)if(t<=this.options.ticks_positions[s]){n=s>0?this.options.ticks[s-1]:0,o=s>0?this.options.ticks_positions[s-1]:0,i=this.options.ticks[s],r=this.options.ticks_positions[s];break}if(s>0){var a=(t-o)/(r-o);e=n+a*(i-n)}}var c=this.options.min+Math.round(e/this.options.step)*this.options.step;return c<this.options.min?this.options.min:c>this.options.max?this.options.max:c},toPercentage:function(t){if(this.options.max===this.options.min)return 0;if(this.options.ticks_positions.length>0){for(var e,n,i,o=0,r=0;r<this.options.ticks.length;r++)if(t<=this.options.ticks[r]){e=r>0?this.options.ticks[r-1]:0,i=r>0?this.options.ticks_positions[r-1]:0,n=this.options.ticks[r],o=this.options.ticks_positions[r];break}if(r>0){var s=(t-e)/(n-e);return i+s*(o-i)}}return 100*(t-this.options.min)/(this.options.max-this.options.min)}},logarithmic:{toValue:function(t){var e=0===this.options.min?0:Math.log(this.options.min),n=Math.log(this.options.max),i=Math.exp(e+(n-e)*t/100);return i=this.options.min+Math.round((i-this.options.min)/this.options.step)*this.options.step,i<this.options.min?this.options.min:i>this.options.max?this.options.max:i},toPercentage:function(t){if(this.options.max===this.options.min)return 0;var e=Math.log(this.options.max),n=0===this.options.min?0:Math.log(this.options.min),i=0===t?0:Math.log(t);return 100*(i-n)/(e-n)}}};if(e=function(t,e){return n.call(this,t,e),this},e.prototype={_init:function(){},constructor:e,defaultOptions:{id:"",min:0,max:10,step:1,precision:0,orientation:"horizontal",value:5,range:!1,selection:"before",tooltip:"show",tooltip_split:!1,handle:"round",reversed:!1,enabled:!0,formatter:function(t){return Array.isArray(t)?t[0]+" : "+t[1]:t},natural_arrow_keys:!1,ticks:[],ticks_positions:[],ticks_labels:[],ticks_snap_bounds:0,scale:"linear",focus:!1,tooltip_position:null},getElement:function(){return this.sliderElem},getValue:function(){return this.options.range?this._state.value:this._state.value[0]},setValue:function(t,e,n){t||(t=0);var i=this.getValue();this._state.value=this._validateInputValue(t);var o=this._applyPrecision.bind(this);this.options.range?(this._state.value[0]=o(this._state.value[0]),this._state.value[1]=o(this._state.value[1]),this._state.value[0]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[0])),this._state.value[1]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[1]))):(this._state.value=o(this._state.value),this._state.value=[Math.max(this.options.min,Math.min(this.options.max,this._state.value))],this._addClass(this.handle2,"hide"),this._state.value[1]="after"===this.options.selection?this.options.max:this.options.min),this._state.percentage=this.options.max>this.options.min?[this._toPercentage(this._state.value[0]),this._toPercentage(this._state.value[1]),100*this.options.step/(this.options.max-this.options.min)]:[0,0,100],this._layout();var r=this.options.range?this._state.value:this._state.value[0];return e===!0&&this._trigger("slide",r),i!==r&&n===!0&&this._trigger("change",{oldValue:i,newValue:r}),this._setDataVal(r),this},destroy:function(){this._removeSliderEventHandlers(),this.sliderElem.parentNode.removeChild(this.sliderElem),this.element.style.display="",this._cleanUpEventCallbacksMap(),this.element.removeAttribute("data"),t&&(this._unbindJQueryEventHandlers(),this.$element.removeData("slider"))},disable:function(){return this._state.enabled=!1,this.handle1.removeAttribute("tabindex"),this.handle2.removeAttribute("tabindex"),this._addClass(this.sliderElem,"slider-disabled"),this._trigger("slideDisabled"),this},enable:function(){return this._state.enabled=!0,this.handle1.setAttribute("tabindex",0),this.handle2.setAttribute("tabindex",0),this._removeClass(this.sliderElem,"slider-disabled"),this._trigger("slideEnabled"),this},toggle:function(){return this._state.enabled?this.disable():this.enable(),this},isEnabled:function(){return this._state.enabled},on:function(t,e){return this._bindNonQueryEventHandler(t,e),this},off:function(e,n){t?(this.$element.off(e,n),this.$sliderElem.off(e,n)):this._unbindNonQueryEventHandler(e,n)},getAttribute:function(t){return t?this.options[t]:this.options},setAttribute:function(t,e){return this.options[t]=e,this},refresh:function(){return this._removeSliderEventHandlers(),n.call(this,this.element,this.options),t&&t.data(this.element,"slider",this),this},relayout:function(){return this._layout(),this},_removeSliderEventHandlers:function(){this.handle1.removeEventListener("keydown",this.handle1Keydown,!1),this.handle1.removeEventListener("focus",this.showTooltip,!1),this.handle1.removeEventListener("blur",this.hideTooltip,!1),this.handle2.removeEventListener("keydown",this.handle2Keydown,!1),this.handle2.removeEventListener("focus",this.handle2Keydown,!1),this.handle2.removeEventListener("blur",this.handle2Keydown,!1),this.sliderElem.removeEventListener("mouseenter",this.showTooltip,!1),this.sliderElem.removeEventListener("mouseleave",this.hideTooltip,!1),this.sliderElem.removeEventListener("touchstart",this.mousedown,!1),this.sliderElem.removeEventListener("mousedown",this.mousedown,!1)},_bindNonQueryEventHandler:function(t,e){void 0===this.eventToCallbackMap[t]&&(this.eventToCallbackMap[t]=[]),this.eventToCallbackMap[t].push(e)},_unbindNonQueryEventHandler:function(t,e){var n=this.eventToCallbackMap[t];if(void 0!==n)for(var i=0;i<n.length;i++)if(n[i]===e){n.splice(i,1);break}},_cleanUpEventCallbacksMap:function(){for(var t=Object.keys(this.eventToCallbackMap),e=0;e<t.length;e++){var n=t[e];this.eventToCallbackMap[n]=null}},_showTooltip:function(){this.options.tooltip_split===!1?(this._addClass(this.tooltip,"in"),this.tooltip_min.style.display="none",this.tooltip_max.style.display="none"):(this._addClass(this.tooltip_min,"in"),this._addClass(this.tooltip_max,"in"),this.tooltip.style.display="none"),this._state.over=!0},_hideTooltip:function(){this._state.inDrag===!1&&this.alwaysShowTooltip!==!0&&(this._removeClass(this.tooltip,"in"),this._removeClass(this.tooltip_min,"in"),this._removeClass(this.tooltip_max,"in")),this._state.over=!1},_layout:function(){var t;if(t=this.options.reversed?[100-this._state.percentage[0],this.options.range?100-this._state.percentage[1]:this._state.percentage[1]]:[this._state.percentage[0],this._state.percentage[1]],this.handle1.style[this.stylePos]=t[0]+"%",this.handle2.style[this.stylePos]=t[1]+"%",Array.isArray(this.options.ticks)&&this.options.ticks.length>0){var e=Math.max.apply(Math,this.options.ticks),n=Math.min.apply(Math,this.options.ticks),i="vertical"===this.options.orientation?"height":"width",o="vertical"===this.options.orientation?"marginTop":"marginLeft",r=this._state.size/(this.options.ticks.length-1);if(this.tickLabelContainer){var s=0;if(0===this.options.ticks_positions.length)this.tickLabelContainer.style[o]=-r/2+"px",s=this.tickLabelContainer.offsetHeight;else for(a=0;a<this.tickLabelContainer.childNodes.length;a++)this.tickLabelContainer.childNodes[a].offsetHeight>s&&(s=this.tickLabelContainer.childNodes[a].offsetHeight);"horizontal"===this.options.orientation&&(this.sliderElem.style.marginBottom=s+"px")}for(var a=0;a<this.options.ticks.length;a++){var c=this.options.ticks_positions[a]||100*(this.options.ticks[a]-n)/(e-n);this.ticks[a].style[this.stylePos]=c+"%",this._removeClass(this.ticks[a],"in-selection"),this.options.range?c>=t[0]&&c<=t[1]&&this._addClass(this.ticks[a],"in-selection"):"after"===this.options.selection&&c>=t[0]?this._addClass(this.ticks[a],"in-selection"):"before"===this.options.selection&&c<=t[0]&&this._addClass(this.ticks[a],"in-selection"),this.tickLabels[a]&&(this.tickLabels[a].style[i]=r+"px",void 0!==this.options.ticks_positions[a]&&(this.tickLabels[a].style.position="absolute",this.tickLabels[a].style[this.stylePos]=this.options.ticks_positions[a]+"%",this.tickLabels[a].style[o]=-r/2+"px"))}}var l;if(this.options.range){l=this.options.formatter(this._state.value),this._setText(this.tooltipInner,l),this.tooltip.style[this.stylePos]=(t[1]+t[0])/2+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px"),"vertical"===this.options.orientation?this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px");var u=this.options.formatter(this._state.value[0]);this._setText(this.tooltipInner_min,u);var h=this.options.formatter(this._state.value[1]);this._setText(this.tooltipInner_max,h),this.tooltip_min.style[this.stylePos]=t[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip_min,"margin-top",-this.tooltip_min.offsetHeight/2+"px"):this._css(this.tooltip_min,"margin-left",-this.tooltip_min.offsetWidth/2+"px"),this.tooltip_max.style[this.stylePos]=t[1]+"%","vertical"===this.options.orientation?this._css(this.tooltip_max,"margin-top",-this.tooltip_max.offsetHeight/2+"px"):this._css(this.tooltip_max,"margin-left",-this.tooltip_max.offsetWidth/2+"px")}else l=this.options.formatter(this._state.value[0]),this._setText(this.tooltipInner,l),this.tooltip.style[this.stylePos]=t[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px");if("vertical"===this.options.orientation)this.trackLow.style.top="0",this.trackLow.style.height=Math.min(t[0],t[1])+"%",this.trackSelection.style.top=Math.min(t[0],t[1])+"%",this.trackSelection.style.height=Math.abs(t[0]-t[1])+"%",this.trackHigh.style.bottom="0",this.trackHigh.style.height=100-Math.min(t[0],t[1])-Math.abs(t[0]-t[1])+"%";else{this.trackLow.style.left="0",this.trackLow.style.width=Math.min(t[0],t[1])+"%",this.trackSelection.style.left=Math.min(t[0],t[1])+"%",this.trackSelection.style.width=Math.abs(t[0]-t[1])+"%",this.trackHigh.style.right="0",this.trackHigh.style.width=100-Math.min(t[0],t[1])-Math.abs(t[0]-t[1])+"%";var p=this.tooltip_min.getBoundingClientRect(),d=this.tooltip_max.getBoundingClientRect();p.right>d.left?(this._removeClass(this.tooltip_max,"top"),this._addClass(this.tooltip_max,"bottom"),this.tooltip_max.style.top="18px"):(this._removeClass(this.tooltip_max,"bottom"),this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top=this.tooltip_min.style.top)}},_removeProperty:function(t,e){t.style.removeProperty?t.style.removeProperty(e):t.style.removeAttribute(e)},_mousedown:function(t){if(!this._state.enabled)return!1;this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos];var e=this._getPercentage(t);if(this.options.range){var n=Math.abs(this._state.percentage[0]-e),i=Math.abs(this._state.percentage[1]-e);this._state.dragged=i>n?0:1}else this._state.dragged=0;this._state.percentage[this._state.dragged]=e,this._layout(),this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),this.mousemove&&document.removeEventListener("mousemove",this.mousemove,!1),this.mouseup&&document.removeEventListener("mouseup",this.mouseup,!1),this.mousemove=this._mousemove.bind(this),this.mouseup=this._mouseup.bind(this),this.touchCapable&&(document.addEventListener("touchmove",this.mousemove,!1),document.addEventListener("touchend",this.mouseup,!1)),document.addEventListener("mousemove",this.mousemove,!1),document.addEventListener("mouseup",this.mouseup,!1),this._state.inDrag=!0;var o=this._calculateValue();return this._trigger("slideStart",o),this._setDataVal(o),this.setValue(o,!1,!0),this._pauseEvent(t),this.options.focus&&this._triggerFocusOnHandle(this._state.dragged),!0},_triggerFocusOnHandle:function(t){0===t&&this.handle1.focus(),1===t&&this.handle2.focus()},_keydown:function(t,e){if(!this._state.enabled)return!1;var n;switch(e.keyCode){case 37:case 40:n=-1;break;case 39:case 38:n=1}if(n){if(this.options.natural_arrow_keys){var i="vertical"===this.options.orientation&&!this.options.reversed,o="horizontal"===this.options.orientation&&this.options.reversed;(i||o)&&(n=-n)}var r=this._state.value[t]+n*this.options.step;return this.options.range&&(r=[t?this._state.value[0]:r,t?r:this._state.value[1]]),this._trigger("slideStart",r),this._setDataVal(r),this.setValue(r,!0,!0),this._setDataVal(r),this._trigger("slideStop",r),this._layout(),this._pauseEvent(e),!1}},_pauseEvent:function(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,t.returnValue=!1},_mousemove:function(t){if(!this._state.enabled)return!1;var e=this._getPercentage(t);this._adjustPercentageForRangeSliders(e),this._state.percentage[this._state.dragged]=e,this._layout();var n=this._calculateValue(!0);return this.setValue(n,!0,!0),!1},_adjustPercentageForRangeSliders:function(t){if(this.options.range){var e=this._getNumDigitsAfterDecimalPlace(t);e=e?e-1:0;var n=this._applyToFixedAndParseFloat(t,e);0===this._state.dragged&&this._applyToFixedAndParseFloat(this._state.percentage[1],e)<n?(this._state.percentage[0]=this._state.percentage[1],this._state.dragged=1):1===this._state.dragged&&this._applyToFixedAndParseFloat(this._state.percentage[0],e)>n&&(this._state.percentage[1]=this._state.percentage[0],this._state.dragged=0)}},_mouseup:function(){if(!this._state.enabled)return!1;this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),document.removeEventListener("mousemove",this.mousemove,!1),document.removeEventListener("mouseup",this.mouseup,!1),this._state.inDrag=!1,this._state.over===!1&&this._hideTooltip();var t=this._calculateValue(!0);return this._layout(),this._setDataVal(t),this._trigger("slideStop",t),!1},_calculateValue:function(t){var e;if(this.options.range?(e=[this.options.min,this.options.max],0!==this._state.percentage[0]&&(e[0]=this._toValue(this._state.percentage[0]),e[0]=this._applyPrecision(e[0])),100!==this._state.percentage[1]&&(e[1]=this._toValue(this._state.percentage[1]),e[1]=this._applyPrecision(e[1]))):(e=this._toValue(this._state.percentage[0]),e=parseFloat(e),e=this._applyPrecision(e)),t){for(var n=[e,1/0],i=0;i<this.options.ticks.length;i++){var o=Math.abs(this.options.ticks[i]-e);o<=n[1]&&(n=[this.options.ticks[i],o])}if(n[1]<=this.options.ticks_snap_bounds)return n[0]}return e},_applyPrecision:function(t){var e=this.options.precision||this._getNumDigitsAfterDecimalPlace(this.options.step);return this._applyToFixedAndParseFloat(t,e)},_getNumDigitsAfterDecimalPlace:function(t){var e=(""+t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)):0},_applyToFixedAndParseFloat:function(t,e){var n=t.toFixed(e);return parseFloat(n)},_getPercentage:function(t){!this.touchCapable||"touchstart"!==t.type&&"touchmove"!==t.type||(t=t.touches[0]);var e=t[this.mousePos],n=this._state.offset[this.stylePos],i=e-n,o=i/this._state.size*100;return o=Math.round(o/this._state.percentage[2])*this._state.percentage[2],this.options.reversed&&(o=100-o),Math.max(0,Math.min(100,o))},_validateInputValue:function(t){if("number"==typeof t)return t;if(Array.isArray(t))return this._validateArray(t),t;throw new Error(i.formatInvalidInputErrorMsg(t))},_validateArray:function(t){for(var e=0;e<t.length;e++){var n=t[e];if("number"!=typeof n)throw new Error(i.formatInvalidInputErrorMsg(n))}},_setDataVal:function(t){this.element.setAttribute("data-value",t),this.element.setAttribute("value",t),this.element.value=t},_trigger:function(e,n){n=n||0===n?n:void 0;var i=this.eventToCallbackMap[e];if(i&&i.length)for(var o=0;o<i.length;o++){var r=i[o];r(n)}t&&this._triggerJQueryEvent(e,n)},_triggerJQueryEvent:function(t,e){var n={type:t,value:e};this.$element.trigger(n),this.$sliderElem.trigger(n)},_unbindJQueryEventHandlers:function(){this.$element.off(),this.$sliderElem.off()},_setText:function(t,e){"undefined"!=typeof t.innerText?t.innerText=e:"undefined"!=typeof t.textContent&&(t.textContent=e)},_removeClass:function(t,e){for(var n=e.split(" "),i=t.className,o=0;o<n.length;o++){var r=n[o],s=new RegExp("(?:\\s|^)"+r+"(?:\\s|$)");i=i.replace(s," ")}t.className=i.trim()},_addClass:function(t,e){for(var n=e.split(" "),i=t.className,o=0;o<n.length;o++){var r=n[o],s=new RegExp("(?:\\s|^)"+r+"(?:\\s|$)"),a=s.test(i);a||(i+=" "+r)}t.className=i.trim()},_offsetLeft:function(t){return t.getBoundingClientRect().left},_offsetTop:function(t){for(var e=t.offsetTop;(t=t.offsetParent)&&!isNaN(t.offsetTop);)e+=t.offsetTop;return e},_offset:function(t){return{left:this._offsetLeft(t),top:this._offsetTop(t)}},_css:function(e,n,i){if(t)t.style(e,n,i);else{var o=n.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(t,e){return e.toUpperCase()});e.style[o]=i}},_toValue:function(t){return this.options.scale.toValue.apply(this,[t])},_toPercentage:function(t){return this.options.scale.toPercentage.apply(this,[t])},_setTooltipPosition:function(){var t=[this.tooltip,this.tooltip_min,this.tooltip_max];if("vertical"===this.options.orientation){var e=this.options.tooltip_position||"right",n="left"===e?"right":"left";t.forEach(function(t){this._addClass(t,e),t.style[n]="100%"}.bind(this))}else t.forEach("bottom"===this.options.tooltip_position?function(t){this._addClass(t,"bottom"),t.style.top="22px"}.bind(this):function(t){this._addClass(t,"top"),t.style.top=-this.tooltip.outerHeight-14+"px"}.bind(this))}},t){var r=t.fn.slider?"bootstrapSlider":"slider";t.bridget(r,e)}}(t),e})},function(t,e){!function(){t.exports=this.$}()},function(t,e,n){var i,o;!function(n,r){i=[],o=function(){return n.SignaturePad=r()}.apply(e,i),!(void 0!==o&&(t.exports=o))}(this,function(){/*!
	 * Signature Pad v1.5.3
	 * https://github.com/szimek/signature_pad
	 *
	 * Copyright 2016 Szymon Nowak
	 * Released under the MIT license
	 *
	 * The main idea and some parts of the code (e.g. drawing variable width Bézier curve) are taken from:
	 * http://corner.squareup.com/2012/07/smoother-signatures.html
	 *
	 * Implementation of interpolation using cubic Bézier curves is taken from:
	 * http://benknowscode.wordpress.com/2012/09/14/path-interpolation-using-cubic-bezier-and-control-point-estimation-in-javascript
	 *
	 * Algorithm for approximated length of a Bézier curve is taken from:
	 * http://www.lemoda.net/maths/bezier-length/index.html
	 *
	 */
var t=function(t){"use strict";var e=function(t,e){var n=this,i=e||{};this.velocityFilterWeight=i.velocityFilterWeight||.7,this.minWidth=i.minWidth||.5,this.maxWidth=i.maxWidth||2.5,this.dotSize=i.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=i.penColor||"black",this.backgroundColor=i.backgroundColor||"rgba(0,0,0,0)",this.onEnd=i.onEnd,this.onBegin=i.onBegin,this._canvas=t,this._ctx=t.getContext("2d"),this.clear(),this._handleMouseDown=function(t){1===t.which&&(n._mouseButtonDown=!0,n._strokeBegin(t))},this._handleMouseMove=function(t){n._mouseButtonDown&&n._strokeUpdate(t)},this._handleMouseUp=function(t){1===t.which&&n._mouseButtonDown&&(n._mouseButtonDown=!1,n._strokeEnd(t))},this._handleTouchStart=function(t){if(1==t.targetTouches.length){var e=t.changedTouches[0];n._strokeBegin(e)}},this._handleTouchMove=function(t){t.preventDefault();var e=t.targetTouches[0];n._strokeUpdate(e)},this._handleTouchEnd=function(t){var e=t.target===n._canvas;e&&(t.preventDefault(),n._strokeEnd(t))},this._handleMouseEvents(),this._handleTouchEvents()};e.prototype.clear=function(){var t=this._ctx,e=this._canvas;t.fillStyle=this.backgroundColor,t.clearRect(0,0,e.width,e.height),t.fillRect(0,0,e.width,e.height),this._reset()},e.prototype.toDataURL=function(t,e){var n=this._canvas;return n.toDataURL.apply(n,arguments)},e.prototype.fromDataURL=function(t){var e=this,n=new Image,i=window.devicePixelRatio||1,o=this._canvas.width/i,r=this._canvas.height/i;this._reset(),n.src=t,n.onload=function(){e._ctx.drawImage(n,0,0,o,r)},this._isEmpty=!1},e.prototype._strokeUpdate=function(t){var e=this._createPoint(t);this._addPoint(e)},e.prototype._strokeBegin=function(t){this._reset(),this._strokeUpdate(t),"function"==typeof this.onBegin&&this.onBegin(t)},e.prototype._strokeDraw=function(t){var e=this._ctx,n="function"==typeof this.dotSize?this.dotSize():this.dotSize;e.beginPath(),this._drawPoint(t.x,t.y,n),e.closePath(),e.fill()},e.prototype._strokeEnd=function(t){var e=this.points.length>2,n=this.points[0];!e&&n&&this._strokeDraw(n),"function"==typeof this.onEnd&&this.onEnd(t)},e.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),t.addEventListener("mouseup",this._handleMouseUp)},e.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)},e.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()},e.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),t.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)},e.prototype.isEmpty=function(){return this._isEmpty},e.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._isEmpty=!0,this._ctx.fillStyle=this.penColor},e.prototype._createPoint=function(t){var e=this._canvas.getBoundingClientRect();return new n(t.clientX-e.left,t.clientY-e.top)},e.prototype._addPoint=function(t){var e,n,o,r,s=this.points;s.push(t),s.length>2&&(3===s.length&&s.unshift(s[0]),r=this._calculateCurveControlPoints(s[0],s[1],s[2]),e=r.c2,r=this._calculateCurveControlPoints(s[1],s[2],s[3]),n=r.c1,o=new i(s[1],e,n,s[2]),this._addCurve(o),s.shift())},e.prototype._calculateCurveControlPoints=function(t,e,i){var o=t.x-e.x,r=t.y-e.y,s=e.x-i.x,a=e.y-i.y,c={x:(t.x+e.x)/2,y:(t.y+e.y)/2},l={x:(e.x+i.x)/2,y:(e.y+i.y)/2},u=Math.sqrt(o*o+r*r),h=Math.sqrt(s*s+a*a),p=c.x-l.x,d=c.y-l.y,f=h/(u+h),m={x:l.x+p*f,y:l.y+d*f},v=e.x-m.x,g=e.y-m.y;return{c1:new n(c.x+v,c.y+g),c2:new n(l.x+v,l.y+g)}},e.prototype._addCurve=function(t){var e,n,i=t.startPoint,o=t.endPoint;e=o.velocityFrom(i),e=this.velocityFilterWeight*e+(1-this.velocityFilterWeight)*this._lastVelocity,n=this._strokeWidth(e),this._drawCurve(t,this._lastWidth,n),this._lastVelocity=e,this._lastWidth=n},e.prototype._drawPoint=function(t,e,n){var i=this._ctx;i.moveTo(t,e),i.arc(t,e,n,0,2*Math.PI,!1),this._isEmpty=!1},e.prototype._drawCurve=function(t,e,n){var i,o,r,s,a,c,l,u,h,p,d,f=this._ctx,m=n-e;for(i=Math.floor(t.length()),f.beginPath(),r=0;i>r;r++)s=r/i,a=s*s,c=a*s,l=1-s,u=l*l,h=u*l,p=h*t.startPoint.x,p+=3*u*s*t.control1.x,p+=3*l*a*t.control2.x,p+=c*t.endPoint.x,d=h*t.startPoint.y,d+=3*u*s*t.control1.y,d+=3*l*a*t.control2.y,d+=c*t.endPoint.y,o=e+c*m,this._drawPoint(p,d,o);f.closePath(),f.fill()},e.prototype._strokeWidth=function(t){return Math.max(this.maxWidth/(t+1),this.minWidth)};var n=function(t,e,n){this.x=t,this.y=e,this.time=n||(new Date).getTime()};n.prototype.velocityFrom=function(t){return this.time!==t.time?this.distanceTo(t)/(this.time-t.time):1},n.prototype.distanceTo=function(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))};var i=function(t,e,n,i){this.startPoint=t,this.control1=e,this.control2=n,this.endPoint=i};return i.prototype.length=function(){var t,e,n,i,o,r,s,a,c=10,l=0;for(t=0;c>=t;t++)e=t/c,n=this._point(e,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),i=this._point(e,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y),t>0&&(s=n-o,a=i-r,l+=Math.sqrt(s*s+a*a)),o=n,r=i;return l},i.prototype._point=function(t,e,n,i,o){return e*(1-t)*(1-t)*(1-t)+3*n*(1-t)*(1-t)*t+3*i*(1-t)*t*t+o*t*t*t},e}(document);return t})},function(t,e,n){"use strict";var i=n(1),o=n(15);e.alias=o;var r=n(16);e.autosave=r;var s=n(24);e.popover=s;var a=n(25);e.required=a,e.moduleName="rl.ui.behaviors",i.module(e.moduleName,[o.moduleName,r.moduleName,s.moduleName,a.moduleName])},function(t,e,n){"use strict";function i(){return{restrict:"A",controller:e.controllerName}}var o=n(1);e.moduleName="rl.ui.behaviors.alias",e.directiveName="rlAlias",e.controllerName="AliasController";var r=function(){function t(t,e,n,i){this.$scope=t,this.$attrs=e,this.$parse=n,this.$interpolate=i;var o=this.getValue();this.resolveAlias(o),t.$watch(this.getValue.bind(this),this.resolveAlias.bind(this))}return t.prototype.getValue=function(){return this.expression=this.$attrs.rlAlias.split(" as "),this.$parse(this.expression[0])(this.$scope)},t.prototype.resolveAlias=function(t){var e=this.$interpolate(this.expression[1])(this.$scope);null!=e&&(this.$scope[e]=t)},t.$inject=["$scope","$attrs","$parse","$interpolate"],t}();e.AliasController=r,e.alias=i,o.module(e.moduleName,[]).directive(e.directiveName,i).controller(e.controllerName,r)},function(t,e,n){"use strict";function i(){return{restrict:"A",priority:1e3,require:{form:"?form"},controller:e.controllerName,bindToController:!0}}var o=n(1),r=n(5),s=r.services.parentChildBehavior,a=r.services.object,c=n(17);e.moduleName="rl.ui.behaviors.autosave",e.directiveName="rlAutosave",e.controllerName="AutosaveController";var l=function(){function t(t,e,n,i,o,r,s,a){this.$scope=t,this.$attrs=e,this.$parse=n,this.$element=i,this.$timeout=o,this.autosaveFactory=r,this.parentChildBehavior=s,this.objectUtility=a}return t.prototype.$onInit=function(){var t=this;this.keyupListener=function(e){return t.$element.on("keyup",function(){t.$scope.$apply(e)}),function(){t.$element.off("keyup")}};var e=this.$parse(this.$attrs.save),n=function(){return e(t.$scope)},i=this.$parse(this.$attrs.debounceDuration)(this.$scope);this.autosave=this.autosaveFactory.getInstance({save:n,contentForm:this.form,debounceDuration:i,triggers:this.$attrs.triggers,setChangeListener:this.keyupListener,saveWhenInvalid:this.$parse(this.$attrs.saveWhenInvalid)(this.$scope)});var o={autosave:this.autosave.autosave},r=this.$parse(this.$attrs.rlAutosave)(this.$scope);this.parentChildBehavior.registerChildBehavior(r,o)},t.$inject=["$scope","$attrs","$parse","$element","$timeout",c.factoryName,s.serviceName,a.serviceName],t}();e.AutosaveController=l,e.autosave=i,o.module(e.moduleName,[c.moduleName,a.moduleName,s.moduleName]).directive(e.directiveName,i).controller(e.controllerName,l)},function(t,e,n){"use strict";function i(t,e,n,i){return{getInstance:function(o){return new h(t,e,o,n,i)}}}var o=n(1),r=n(18),s=n(5),a=s.services.notification,c=n(19),l=n(20);e.triggers=l;var u=n(23);e.moduleName="rl.ui.services.autosave",e.factoryName="autosaveFactory";var h=function(){function t(t,e,n,i,o){var s=this;this.notification=t,this.autosaveService=e,this.formService=o,this.autosave=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=s.validateAndSave.apply(s,t);return r.isBoolean(n)?n:(s.autosaveService.trigger(n),!0)},this.contentForm=n.contentForm||this.nullForm(),this.save=n.save,this.saveWhenInvalid=n.saveWhenInvalid,this.triggerService=i.getInstance(),this.configureTriggers(n),this.triggerService.setTriggers(n.triggers,this.autosave)}return t.prototype.validateAndSave=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];if(this.contentForm.$pristine)return!0;if(this.contentForm.$valid||this.saveWhenInvalid){var i=this.save.apply(this,e);return r.isUndefined(i)?!0:i.then(function(){null!=t.contentForm&&t.contentForm.$setPristine()})}return this.notification.warning(this.formService.getAggregateError(this.contentForm)),!1},t.prototype.configureTriggers=function(t){this.triggerService.triggers.onChange.configure({form:t.contentForm,setChangeListener:t.setChangeListener,debounceDuration:t.debounceDuration,saveWhenInvalid:t.saveWhenInvalid})},t.prototype.nullForm=function(){return{$pristine:!1,$dirty:!0,$valid:!0,$setPristine:function(){}}},t}();i.$inject=[a.serviceName,c.serviceName,l.factoryName,u.serviceName],o.module(e.moduleName,[a.moduleName,c.moduleName,l.moduleName,u.moduleName]).factory(e.factoryName,i)},function(t,e){!function(){t.exports=this._}()},function(t,e,n){"use strict";var i=n(1);e.moduleName="rl.utilities.services.autosaveAction",e.serviceName="autosaveAction";var o=function(){function t(t){var e=this;this.$timeout=t,this.completeMessageDuration=1e3,this.autosaveSuccessful=function(t){return e.resolveAutosave(t,!0)},this.autosaveFailed=function(t){return e.resolveAutosave(t,!1)},this.resolveAutosave=function(t,n){return e._saving=!1,e._complete=!0,e._successful=n,e.$timeout(function(){e._complete=!1},e.completeMessageDuration),t}}return Object.defineProperty(t.prototype,"saving",{get:function(){return this._saving},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"complete",{get:function(){return this._complete},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"successful",{get:function(){return this._successful},enumerable:!0,configurable:!0}),t.prototype.trigger=function(t){return this._saving=!0,t.then(this.autosaveSuccessful)["catch"](this.autosaveFailed)},t.$inject=["$timeout"],t}();i.module(e.moduleName,[]).service(e.serviceName,o)},function(t,e,n){"use strict";function i(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function o(t,e){return{getInstance:function(){return new l(t,e)}}}var r=n(1),s=n(18),a=n(21),c=n(22);i(n(21)),i(n(22)),e.defaultTriggers="onChange",e.moduleName="rl.ui.services.autosave.triggers",e.factoryName="autosaveTriggers";var l=function(){function t(t,e){this.triggers={onChange:new a.OnChangeTrigger(t,e),none:new c.Trigger("none")}}return t.prototype.setTriggers=function(t,n){null==t&&(t=e.defaultTriggers),s.each(this.triggers,function(e){e.hasMatch(t)&&e.setTrigger(n)})},t}();o.$inject=["$rootScope","$timeout"],r.module(e.moduleName,[]).factory(e.factoryName,o)},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(18),r=n(22),s=function(t){function e(e,n){t.call(this,"onChange"),this.$rootScope=e,this.$timeout=n,this.debounceDuration=1e3}return i(e,t),e.prototype.setTrigger=function(t){var e=this;o.isUndefined(this.settings)||(this.initListeners(),this.$rootScope.$watch(function(){return null!=e.settings.form?e.settings.form.$dirty:!1},function(){e.triggerSaveAction(t)}),this.$rootScope.$watch(function(){return null!=e.settings.form?e.settings.form.$valid:!1},function(){e.triggerSaveAction(t)}))},e.prototype.triggerSaveAction=function(t){var e=this;this.settings.form.$dirty&&(this.settings.form.$valid||this.settings.saveWhenInvalid)&&(this.setTimer(t),this.clearListener=this.setListener(function(){e.setTimer(t)}))},e.prototype.setTimer=function(t){var e=this;null!=this.timer&&this.$timeout.cancel(this.timer),this.timer=this.$timeout(function(){e.clearListener(),t()},this.debounceDuration)},e.prototype.initListeners=function(){this.setListener=this.settings.setChangeListener||this.nullSetListener,this.clearListener=this.nullClearListener},e.prototype.nullSetListener=function(){return console.log("No change listener available"),this.nullClearListener},e.prototype.nullClearListener=function(){console.log("No change listener register")},e}(r.Trigger);e.OnChangeTrigger=s},function(t,e,n){"use strict";var i=n(18),o=function(){function t(t,e){this.triggerAction=e,this.aliases=t.split(" ")}return t.prototype.setTrigger=function(t){i.isFunction(this.triggerAction)&&this.triggerAction(this.settings)},t.prototype.hasMatch=function(t){var e=this,n=t.split(" ");return i.some(n,function(t){return i.some(e.aliases,function(e){return t===e})})},t.prototype.configure=function(t){this.settings=t},t}();e.Trigger=o},function(t,e,n){"use strict";var i=n(1);e.moduleName="rl.ui.services.form",e.serviceName="formService";var o=function(){function t(){}return t.prototype.getAggregateError=function(t){var e=_.filter(t,function(t){return null!=t&&null!=t.rlErrorMessage}),n=_.mapValues(e,"rlErrorMessage");return _.first(n)},t}();i.module(e.moduleName,[]).service(e.serviceName,o)},function(t,e,n){"use strict";function i(){return{restrict:"A",priority:300,controller:e.controllerName}}var o=n(1),r=n(5),s=r.services.guid;e.moduleName="rl.ui.behaviors.popover",e.directiveName="rlPopover",e.controllerName="PopoverController";var a=function(){function t(t,e,n,i,o,r,s){this.$attrs=t,this.$element=e,this.$compile=n,this.$scope=i,this.$parse=o,this.$templateCache=r,this.guid=s}return t.prototype.$onInit=function(){if(this.$parse(this.$attrs.textOnly)(this.$scope))this.$element.attr("uib-popover",this.$attrs.rlPopover);else{var t=this.guid.random()+".html",e="<div>"+this.$parse(this.$attrs.rlPopover)(this.$scope)+"</div>";null!=e&&(this.$templateCache.put(t,e),this.$element.attr("uib-popover-template","'"+t+"'"))}this.$element.removeAttr("rl-popover"),this.$compile(this.$element)(this.$scope)},t.$inject=["$attrs","$element","$compile","$scope","$parse","$templateCache",s.serviceName],t}();e.PopoverController=a,e.popover=i,o.module(e.moduleName,[]).directive(e.directiveName,i).controller(e.controllerName,a)},function(t,e,n){"use strict";function i(){return{restrict:"A",priority:200,controller:e.controllerName}}var o=n(1);e.moduleName="rl.ui.behaviors.required",e.directiveName="rlRequired",e.controllerName="RequiredController";var r=function(){function t(t,e,n){this.$scope=t,this.$attrs=e,this.$interpolate=n}return t.prototype.$onInit=function(){this.message=this.$interpolate(this.$attrs.rlRequired)(this.$scope)},t.$inject=["$scope","$attrs","$interpolate"],t}();e.RequiredController=r,o.module(e.moduleName,[]).directive(e.directiveName,i).controller(e.controllerName,r)},function(t,e,n){"use strict";var i=n(1),o=n(27);e.busy=o;var r=n(31);e.button=r;var s=n(33);e.buttonAsync=s;var a=n(35);e.buttonLink=a;var c=n(37);e.buttonSubmit=c;var l=n(39);e.buttonToggle=l;var u=n(41);e.cardContainer=u;var h=n(105);e.checkbox=h;var p=n(109);e.commaList=p;var d=n(110);e.dateTime=d;var f=n(118);e.dateTimeStatic=f;var m=n(120);e.dialog=m;var v=n(128);e.form=v;var g=n(129);e.genericContainer=g;var b=n(132);e.lazyLoad=b;var y=n(133);e.longClickButton=y;var w=n(135);e.messageLog=w;var _=n(149);e.multiStepIndicator=_;var C=n(151);e.radio=C;var x=n(154);e.ratingBar=x;var N=n(159);e.richTextEditor=N;var S=n(169);e.select=S;var k=n(175);e.signaturePad=k;var $=n(176);e.simpleCardList=$;var E=n(180);e.spinner=E;var D=n(186);e.stringWithWatermark=D;var A=n(187);e.tabs=A;var T=n(194);e.templateRenderer=T;var M=n(195);e.textarea=M;var F=n(197);e.textbox=F;var O=n(199);e.typeahead=O;var P=n(201);e.typeaheadList=P;var I=n(205);e.userRating=I;var j=n(208);e.validationGroup=j;var L=n(30);e.defaultThemeValueName=L.defaultThemeValueName,e.moduleName="rl.ui.components",i.module(e.moduleName,[o.moduleName,r.moduleName,s.moduleName,a.moduleName,c.moduleName,l.moduleName,u.moduleName,h.moduleName,p.moduleName,d.moduleName,f.moduleName,m.moduleName,v.moduleName,g.moduleName,b.moduleName,y.moduleName,w.moduleName,_.moduleName,C.moduleName,x.moduleName,N.moduleName,S.moduleName,k.moduleName,$.moduleName,E.moduleName,D.moduleName,A.moduleName,T.moduleName,M.moduleName,F.moduleName,O.moduleName,P.moduleName,I.moduleName,j.moduleName]).value(L.defaultThemeValueName,L.defaultThemeValue)},function(t,e,n){"use strict";n(28);var i=n(1),o=n(30);e.moduleName="rl.ui.components.busy",e.componentName="rlBusy";var r=function(){function t(t){this.useDefaultTheme=t}return t.$inject=[o.defaultThemeValueName],t}(),s={template:'<i class="busy rl-{{::busy.size}}" ng-class="{ \'default-theme\': busy.useDefaultTheme }" ng-show="busy.loading"></i>',controller:r,controllerAs:"busy",bindings:{loading:"<",size:"@"}};i.module(e.moduleName,[]).component(e.componentName,s)},function(t,e,n){var i=n(29);"string"==typeof i&&(i=[[t.id,i,""]]);n(10)(i,{});i.locals&&(t.exports=i.locals)},function(t,e,n){e=t.exports=n(9)(),e.push([t.id,'.default-theme.busy{-webkit-animation:fa-spin 2s infinite linear;animation:fa-spin 2s infinite linear;display:inline-block;font-size:inherit;font-style:normal;font-family:FontAwesome}.default-theme.busy:before{content:"\\F110"}',""])},function(t,e){"use strict";e.defaultThemeValueName="useDefaultTheme",e.defaultThemeValue=!0},function(t,e,n){"use strict";function i(t){var e=_.clone(s);return e.require=t.require,e.transclude=null!=t.transclude?t.transclude:e.transclude,e.template=t.template,e.controller=t.controller||e.controller,e.controllerAs=t.controllerAs||e.controllerAs,e.bindings=_.assign({},e.bindings,t.bindings),_.each(e.bindings,function(t,n){null==t&&delete e.bindings[n]}),e}var o=n(1);e.moduleName="rl.ui.components.button",e.componentName="rlButton",e.controllerName="ButtonController";var r=function(){function t(){this.type=null!=this.type?this.type:"default",this.configuredSize=null!=this.size?"btn-"+this.size:null}return t}();e.ButtonController=r;var s={transclude:!0,template:n(32),bindings:{action:"&",type:"@",ngDisabled:"<?",size:"@"},controller:e.controllerName,controllerAs:"button"};e.buildButton=i,o.module(e.moduleName,[]).component(e.componentName,s).controller(e.controllerName,r)},function(t,e){t.exports='<button type="button" class="btn btn-{{::button.type}} {{::button.configuredSize}}" ng-click="button.action()" ng-disabled="button.ngDisabled">\r\n	<span ng-transclude></span>\r\n</button>'},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(1),r=n(18),s=n(5),a=s.services.promise,c=n(31);e.moduleName="rl.ui.components.buttonAsync",e.componentName="rlButtonAsync",e.controllerName="ButtonAsyncController";var l=function(t){function e(e){t.call(this),this.promiseUtility=e}return i(e,t),e.prototype.trigger=function(){var t=this;if(!this.busy){this.busy=!0;var e=this.action();this.promiseUtility.isPromise(e)&&r.isFunction(e["finally"])?e["finally"](function(){t.busy=!1}):e!==!0&&(this.busy=!1)}},e.$inject=[a.serviceName],e}(c.ButtonController);e.ButtonAsyncController=l;var u=c.buildButton({template:n(34),bindings:{busy:"<?",rightAligned:"<?"},controller:e.controllerName});o.module(e.moduleName,[a.moduleName]).component(e.componentName,u).controller(e.controllerName,l)},function(t,e){t.exports='<button type="button" class="btn btn-{{::button.type}} {{::button.configuredSize}}" ng-click="button.trigger()" ng-disabled="button.busy || button.ngDisabled">\r\n	<rl-busy ng-if="::button.rightAligned" loading="button.busy"></rl-busy>\r\n	<span ng-transclude></span>\r\n	<rl-busy ng-if="::!button.rightAligned" loading="button.busy"></rl-busy>\r\n</button>'},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(1),r=n(31);e.moduleName="rl.ui.components.buttonLink",e.componentName="rlButtonLink",e.controllerName="ButtonLinkController";var s=function(t){function e(){t.call(this),this.target=this.newTab?"_blank":"_self"}return i(e,t),e}(r.ButtonController);e.ButtonLinkController=s;var a=r.buildButton({template:n(36),bindings:{link:"@",newTab:"<?",action:null},controller:e.controllerName});o.module(e.moduleName,[]).component(e.componentName,a).controller(e.controllerName,s)},function(t,e){t.exports='<a class="btn btn-{{::button.type}} {{::button.configuredSize}}" ng-href="{{button.link}}" ng-disabled="button.ngDisabled" target="{{::button.target}}">\r\n	<span ng-transclude></span>\r\n</a>'},function(t,e,n){"use strict";var i=n(1),o=n(31);e.moduleName="rl.ui.components.buttonSubmit",e.componentName="rlButtonSubmit";var r=o.buildButton({template:n(38),bindings:{rightAligned:"<?",saving:"<?",action:null}});i.module(e.moduleName,[]).component(e.componentName,r)},function(t,e){t.exports='<button type="submit" class="btn btn-{{::button.type}} {{::button.configuredSize}}" ng-disabled="button.saving || button.ngDisabled">\r\n	<rl-busy ng-if="::button.rightAligned" loading="button.saving"></rl-busy>\r\n	<span ng-transclude></span>\r\n	<rl-busy ng-if="::!button.rightAligned" loading="button.saving"></rl-busy>\r\n</button>'},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(1),r=n(31);e.moduleName="rl.ui.components.buttonToggle",e.componentName="rlButtonToggle",e.controllerName="ButtonToggleController";var s=function(t){function e(){t.call(this)}return i(e,t),Object.defineProperty(e.prototype,"checked",{get:function(){return this.ngModel.$viewValue},set:function(t){this.ngModel.$setViewValue(t)},enumerable:!0,configurable:!0}),e.prototype.clicked=function(){this.ngDisabled||(this.checked=!this.checked,this.onToggle({value:this.checked}))},e}(r.ButtonController);e.ButtonToggleController=s;var a=r.buildButton({require:{ngModel:"^ngModel"},template:n(40),controller:e.controllerName,controllerAs:"buttonToggle",bindings:{onToggle:"&",action:null}});o.module(e.moduleName,[]).component(e.componentName,a).controller(e.controllerName,s)},function(t,e){t.exports='<button type="button" class="btn btn-{{::buttonToggle.type}} {{::buttonToggle.configuredSize}}"\r\n		ng-class="{ active : buttonToggle.checked }" ng-click="buttonToggle.clicked()" ng-disabled="buttonToggle.ngDisabled">\r\n	<i ng-show="buttonToggle.checked" class="fa fa-check completed"></i> <span ng-transclude></span>\r\n</button>'},function(t,e,n){"use strict";function i(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}var o=n(1),r=n(5),s=r.services.object,a=r.services.array,c=r.services.parentChildBehavior,l=r.services.genericSearchFilter,u=n(42);e.card=u;var h=n(51);e.cardSearch=h;var p=n(53);e.columnHeader=p;var d=n(55);e.dataSources=d;var f=n(70);e.filters=f;var m=n(91);e.itemCount=m;var v=n(93);e.pager=v;var g=n(95);e.pageSize=g;var b=n(97);e.selectionControl=b;var y=n(56);e.sorts=y;var w=n(99),_=n(101);e.builder=_;var C=n(102);i(n(99)),e.moduleName="rl.ui.components.cardContainer",o.module(e.moduleName,[d.dataPager.moduleName,s.moduleName,a.moduleName,c.moduleName,l.moduleName,u.moduleName,h.moduleName,p.moduleName,m.moduleName,v.moduleName,g.moduleName,b.moduleName,d.moduleName,f.moduleName,y.moduleName]).component(w.componentName,w.cardContainer).controller(w.controllerName,w.CardContainerController).factory(_.factoryName,_.cardContainerBuilderFactory).component(C.headerComponentName,C.defaultContainerHeader).component(C.footerComponentName,C.defaultContainerFooter)},function(t,e,n){"use strict";var i=n(1),o=n(18),r=n(43),s=n(5),a=s.services.parentChildBehavior,c=s.services.object,l=n(46);e.moduleName="rl.ui.components.cardContainer.card",e.componentName="rlCard",e.controllerName="CardController";var u=function(){function t(t,e,n,i,o,s){var a=this;if(this.$scope=t,this.$q=n,this.$element=i,this.parentChild=o,this.showContent=!1,this.dirty=!1,this.autosaveLink={},this.autosave=function(){return a.showContent===!1?!0:a.parentChild.triggerChildBehavior(a.autosaveLink,function(t){return t.autosave()?(a.showContent=!1,!0):!1})},this.cardAs&&(t[this.cardAs]=this.item),t.collapse=this.autosave,t.setSelected=this.setSelected.bind(this),this.refresh=new r.Subject,t.refresh=function(){a.source.refresh(),a.refresh.onNext(null)},t.remove=function(){a.source.remove(a.item)},t.containerData=this.containerData,s.isNullOrWhitespace(this.cardController)===!1){var c=e(this.cardController,{$scope:t});s.isNullOrWhitespace(this.cardControllerAs)===!1&&(t[this.cardControllerAs]=c)}o.registerChildBehavior(this.item,{close:this.autosave})}return t.prototype.toggleContent=function(){this.showContent?this.autosave():this.open()},t.prototype.validateCard=function(){var t=this.parentChild.getChildBehavior(this.item);return o.isFunction(t.validateCard)?t.validateCard():!0},t.prototype.saveCard=function(){var t=this.parentChild.getChildBehavior(this.item);return o.isFunction(t.saveCard)?t.saveCard():this.$q.when()},t.prototype.clickCard=function(){this.parentChild.triggerChildBehavior(this.item,function(t){return o.isFunction(t.clickCard)?t.clickCard():void 0})},t.prototype.$postLink=function(){var t=this;this.cardContainer.makeCard(this.$scope,function(e){var n=t.$element.find(".content-template");n.append(e),t.hasBody=e.length>0},null,"contentSlot"),this.cardContainer.makeCard(this.$scope,function(e){if(t.hasFooter=e.length>0,t.hasFooter){var n=t.$element.find(".footer-template");n.append(e)}},null,"footerSlot")},t.prototype.open=function(){this.parentChild.triggerChildBehavior(this.item,function(t){o.isFunction(t.initCard)&&t.initCard()}),this.cardContainer.openCard()&&(this.showContent=!0)},t.prototype.setSelected=function(t){o.isUndefined(this.item.viewData)&&(this.item.viewData={}),this.item.viewData.selected=t,this.selectionChanged()},t.$inject=["$scope","$controller","$q","$element",a.serviceName,c.serviceName],t}();e.CardController=u;var h={template:n(50),require:{cardContainer:"^^rlCardContainer"},controller:e.controllerName,controllerAs:"__card",bindings:{columns:"<?",item:"=",clickable:"<?",source:"=",containerData:"<?",cardController:"<?",cardControllerAs:"<?",cardAs:"<?",permanentFooter:"<?",selectable:"<?",selectionChanged:"&",saveWhenInvalid:"<?"}};i.module(e.moduleName,[a.moduleName,c.moduleName,l.moduleName]).component(e.componentName,h).controller(e.controllerName,u)},function(t,e,n){var i;(function(t,o,r){(function(s){function a(t){return t&&t.Object===Object?t:null}function c(t){for(var e=[],n=0,i=t.length;i>n;n++)e.push(t[n]);return e}function l(t){return function(){try{return t.apply(this,arguments)}catch(e){return ie.e=e,ie}}}function u(t){throw t}function h(t,e){if(re&&e.stack&&"object"==typeof t&&null!==t&&t.stack&&-1===t.stack.indexOf(le)){for(var n=[],i=e;i;i=i.source)i.stack&&n.unshift(i.stack);n.unshift(t.stack);var o=n.join("\n"+le+"\n");t.stack=p(o)}}function p(t){for(var e=t.split("\n"),n=[],i=0,o=e.length;o>i;i++){var r=e[i];d(r)||f(r)||!r||n.push(r)}return n.join("\n")}function d(t){var e=v(t);if(!e)return!1;var n=e[0],i=e[1];return n===ae&&i>=ce&&Vs>=i}function f(t){return-1!==t.indexOf("(module.js:")||-1!==t.indexOf("(node.js:")}function m(){if(re)try{throw new Error}catch(t){var e=t.stack.split("\n"),n=e[0].indexOf("@")>0?e[1]:e[2],i=v(n);if(!i)return;return ae=i[0],i[1]}}function v(t){var e=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(t);if(e)return[e[1],Number(e[2])];var n=/at ([^ ]+):(\d+):(?:\d+)$/.exec(t);if(n)return[n[1],Number(n[2])];var i=/.*@(.+):(\d+)$/.exec(t);return i?[i[1],Number(i[2])]:void 0}function g(t,e,n,i,o,r){var a=Qe(t),c=a.length,l=Qe(e),u=l.length;if(c!==u&&!i)return!1;for(var h,p=c;p--;)if(h=a[p],!(i?h in e:Ge.call(e,h)))return!1;for(var d=i;++p<c;){h=a[p];var f,m=t[h],v=e[h];if(!(f===s?n(m,v,i,o,r):f))return!1;d||(d="constructor"===h)}if(!d){var g=t.constructor,b=e.constructor;if(g!==b&&"constructor"in t&&"constructor"in e&&!("function"==typeof g&&g instanceof g&&"function"==typeof b&&b instanceof b))return!1}return!0}function b(t,e,n){switch(n){case Ne:case Se:return+t===+e;case ke:return t.name===e.name&&t.message===e.message;case De:return t!==+t?e!==+e:t===+e;case Te:case Fe:return t===e+""}return!1}function y(t){return!!t&&"object"==typeof t}function w(t){return"number"==typeof t&&t>-1&&t%1===0&&Ye>=t}function _(t){return y(t)&&w(t.length)&&!!Ue[Ke.call(t)]}function C(t,e){for(var n=-1,i=t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}function x(t,e,n,i,o,r){var a=-1,c=t.length,l=e.length;if(c!==l&&!(i&&l>c))return!1;for(;++a<c;){var u,h=t[a],p=e[a];if(u!==s){if(u)continue;return!1}if(i){if(!C(e,function(t){return h===t||n(h,t,i,o,r)}))return!1}else if(h!==p&&!n(h,p,i,o,r))return!1}return!0}function N(t,e,n,i,o,r){var s=Je(t),a=Je(e),c=xe,l=xe;s||(c=Ke.call(t),c===Ce?c=Ae:c!==Ae&&(s=_(t))),a||(l=Ke.call(e),l===Ce&&(l=Ae));var u=c===Ae&&!Xe(t),h=l===Ae&&!Xe(e),p=c===l;if(p&&!s&&!u)return b(t,e,c);if(!i){var d=u&&Ge.call(t,"__wrapped__"),f=h&&Ge.call(e,"__wrapped__");if(d||f)return n(d?t.value():t,f?e.value():e,i,o,r)}if(!p)return!1;o||(o=[]),r||(r=[]);for(var m=o.length;m--;)if(o[m]===t)return r[m]===e;o.push(t),r.push(e);var v=(s?x:g)(t,e,n,i,o,r);return o.pop(),r.pop(),v}function S(t,e,n,i,o){return t===e?!0:null==t||null==e||!at(t)&&!y(e)?t!==t&&e!==e:N(t,e,S,n,i,o)}function k(t,e){for(var n=new Array(t),i=0;t>i;i++)n[i]=e();return n}function $(t,e){this.id=t,this.value=e}function E(t,e){this.scheduler=t,this.disposable=e,this.isDisposed=!1}function D(t,e){e.isDisposed||(e.isDisposed=!0,e.disposable.dispose())}function A(t){this._s=t,this.isDisposed=!1}function T(t){this._s=t}function M(t){this._s=t,this._l=t.length,this._i=0}function F(t){this._a=t}function O(t){this._a=t,this._l=L(t),this._i=0}function P(t){return"number"==typeof t&&Gt.isFinite(t)}function I(t){var e,n=t[ve];if(!n&&"string"==typeof t)return e=new T(t),e[ve]();if(!n&&t.length!==s)return e=new F(t),e[ve]();if(!n)throw new TypeError("Object is not iterable");return t[ve]()}function j(t){var e=+t;return 0===e?e:isNaN(e)?e:0>e?-1:1}function L(t){var e=+t.length;return isNaN(e)?0:0!==e&&P(e)?(e=j(e)*Math.floor(Math.abs(e)),0>=e?0:e>bi?bi:e):e}function V(t,e){return Cn(t)||(t=Dn),new wi(e,t)}function B(t,e){this.observer=t,this.parent=e}function q(t,e){return t.amb(e)}function R(){return!1}function z(){for(var t=arguments.length,e=new Array(t),n=0;t>n;n++)e[n]=arguments[n];return e}function R(){return!1}function z(){for(var t=arguments.length,e=new Array(t),n=0;t>n;n++)e[n]=arguments[n];return e}function R(){return!1}function W(){return[]}function R(){return!1}function W(){return[]}function z(){for(var t=arguments.length,e=new Array(t),n=0;t>n;n++)e[n]=arguments[n];return e}function U(t){return function(e){return t.subscribe(e)}}function H(t){return t.toArray()}function G(t){return t.length>0;
}function K(t){return{"@@iterator":function(){return{next:function(){return{done:!1,value:t}}}}}}function K(t){return{"@@iterator":function(){return{next:function(){return{done:!1,value:t}}}}}}function Y(t,e,n){var i=we(e,n,3);return t.map(function(e,n){var o=i(e,n,t);return ee(o)&&(o=ui(o)),(ye(o)||be(o))&&(o=yi(o)),o}).concatAll()}function Q(t,e,n){for(var i=0,o=t.length;o>i;i++)if(n(t[i],e))return i;return-1}function X(t){this.comparer=t,this.set=[]}function J(t,e){return function(n){for(var i=n,o=0;e>o;o++){var r=i[t[o]];if("undefined"==typeof r)return s;i=r}return i}}function Z(t){if(0===t.length)throw new ue;return t[0]}function tt(t,e,n,i){var o=we(e,n,3);return new As(function(e){return t.subscribe(new fr(e,t,o,i))},t)}function et(t){return t?Xn.isObservable(t)?t:ee(t)?Xn.fromPromise(t):st(t)||rt(t)?xr.call(this,t):ne(t)?ot.call(this,t):ye(t)||be(t)?nt.call(this,t):at(t)?it.call(this,t):t:t}function nt(t){return Xn.from(t).concatMap(function(t){return Xn.isObservable(t)||at(t)?et.call(null,t):Kt.Observable.just(t)}).toArray()}function it(t){function e(t,e){n[e]=s,o.push(t.map(function(t){n[e]=t}))}for(var n=new t.constructor,i=Object.keys(t),o=[],r=0,a=i.length;a>r;r++){var c=i[r],l=et.call(this,t[c]);l&&Xn.isObservable(l)?e(l,c):n[c]=t[c]}return Xn.forkJoin.apply(Xn,o).map(function(){return n})}function ot(t){var e=this;return new As(function(n){t.call(e,function(){var t=arguments[0],e=arguments[1];if(t)return n.onError(t);if(arguments.length>2){for(var i=[],o=1,r=arguments.length;r>o;o++)i.push(arguments[o]);e=i}n.onNext(e),n.onCompleted()})})}function rt(t){return ne(t.next)&&ne(t["throw"])}function st(t){var e=t.constructor;return e?"GeneratorFunction"===e.name||"GeneratorFunction"===e.displayName?!0:rt(e.prototype):!1}function at(t){return Object==t.constructor}function ct(t,e,n,i){var o=new Ps;return i.push(lt(o,e,n)),t.apply(e,i),o.asObservable()}function lt(t,e,n){return function(){for(var i=arguments.length,o=new Array(i),r=0;i>r;r++)o[r]=arguments[r];if(ne(n)){if(o=oe(n).apply(e,o),o===ie)return t.onError(o.e);t.onNext(o)}else o.length<=1?t.onNext(o[0]):t.onNext(o);t.onCompleted()}}function ut(t,e,n,i){var o=new Ps;return i.push(ht(o,e,n)),t.apply(e,i),o.asObservable()}function ht(t,e,n){return function(){var i=arguments[0];if(i)return t.onError(i);for(var o=arguments.length,r=[],s=1;o>s;s++)r[s-1]=arguments[s];if(ne(n)){var r=oe(n).apply(e,r);if(r===ie)return t.onError(r.e);t.onNext(r)}else r.length<=1?t.onNext(r[0]):t.onNext(r);t.onCompleted()}}function pt(t){return Gt.StaticNodeList?t instanceof Gt.StaticNodeList||t instanceof Gt.NodeList:"[object NodeList]"===Object.prototype.toString.call(t)}function dt(t,e,n){this._e=t,this._n=e,this._fn=n,this._e.addEventListener(this._n,this._fn,!1),this.isDisposed=!1}function ft(t,e,n){var i=new sn,o=Object.prototype.toString.call(t);if(pt(t)||"[object HTMLCollection]"===o)for(var r=0,s=t.length;s>r;r++)i.add(ft(t.item(r),e,n));else t&&i.add(new dt(t,e,n));return i}function mt(t,e,n){return new As(function(i){function o(t,e){if(l[e]=t,s[e]=!0,a||(a=s.every(Qt))){if(r)return i.onError(r);var o=oe(n).apply(null,l);if(o===ie)return i.onError(o.e);i.onNext(o)}c&&l[1]&&i.onCompleted()}var r,s=[!1,!1],a=!1,c=!1,l=new Array(2);return new vn(t.subscribe(function(t){o(t,0)},function(t){l[1]?i.onError(t):r=t},function(){c=!0,l[1]&&i.onCompleted()}),e.subscribe(function(t){o(t,1)},function(t){i.onError(t)},function(){c=!0,o(!0,1)}))},t)}function H(t){return t.toArray()}function vt(t,e){return t.groupJoin(this,e,vi,function(t,e){return e})}function gt(t){var e=this;return new As(function(n){var i=new Os,o=new sn,r=new bn(o);return n.onNext(nn(i,r)),o.add(e.subscribe(function(t){i.onNext(t)},function(t){i.onError(t),n.onError(t)},function(){i.onCompleted(),n.onCompleted()})),ee(t)&&(t=ui(t)),o.add(t.subscribe(function(t){i.onCompleted(),i=new Os,n.onNext(nn(i,r))},function(t){i.onError(t),n.onError(t)},function(){i.onCompleted(),n.onCompleted()})),r},e)}function bt(t){var e=this;return new As(function(n){function i(){var e;try{e=t()}catch(r){return void n.onError(r)}ee(e)&&(e=ui(e));var c=new fn;o.setDisposable(c),c.setDisposable(e.take(1).subscribe(Yt,function(t){a.onError(t),n.onError(t)},function(){a.onCompleted(),a=new Os,n.onNext(nn(a,s)),i()}))}var o=new mn,r=new sn(o),s=new bn(r),a=new Os;return n.onNext(nn(a,s)),r.add(e.subscribe(function(t){a.onNext(t)},function(t){a.onError(t),n.onError(t)},function(){a.onCompleted(),n.onCompleted()})),i(),s},e)}function yt(t,e){return new Br(t,e)}function z(){for(var t=arguments.length,e=new Array(t),n=0;t>n;n++)e[n]=arguments[n];return e}function wt(t){this.patterns=t}function _t(t,e){this.expression=t,this.selector=e}function Ct(t){return function(e){t.onError(e)}}function xt(t,e){return function(){var n=oe(t.selector).apply(t,arguments);return n===ie?e.onError(n.e):void e.onNext(n)}}function Nt(t,e,n){var i=t.get(e);if(!i){var o=new Kr(e,n);return t.set(e,o),o}return i}function St(t,e,n){this.joinObserverArray=t,this.onNext=e,this.onCompleted=n,this.joinObservers=new Gr;for(var i=0,o=this.joinObserverArray.length;o>i;i++){var r=this.joinObserverArray[i];this.joinObservers.set(r,r)}}function kt(t,e){return new Yr(t,e)}function $t(t,e,n){return new As(function(i){var o=t,r=_n(e);return n.scheduleRecursiveFuture(0,o,function(t,e){if(r>0){var s=n.now();o=new Date(o.getTime()+r),o.getTime()<=s&&(o=new Date(s+r))}i.onNext(t),e(t+1,new Date(o))})})}function Et(t,e,n){return t===e?new As(function(t){return n.schedulePeriodic(0,e,function(e){return t.onNext(e),e+1})}):di(function(){return $t(new Date(n.now()+t),e,n)})}function Dt(t,e,n){return new As(function(i){var o,r=!1,s=new mn,a=null,c=[],l=!1;return o=t.materialize().timestamp(n).subscribe(function(t){var o,u;"E"===t.value.kind?(c=[],c.push(t),a=t.value.error,u=!l):(c.push({value:t.value,timestamp:t.timestamp+e}),u=!r,r=!0),u&&(null!==a?i.onError(a):(o=new fn,s.setDisposable(o),o.setDisposable(n.scheduleRecursiveFuture(null,e,function(t,e){var o,s,u,h;if(null===a){l=!0;do u=null,c.length>0&&c[0].timestamp-n.now()<=0&&(u=c.shift().value),null!==u&&u.accept(i);while(null!==u);h=!1,s=0,c.length>0?(h=!0,s=Math.max(0,c[0].timestamp-n.now())):r=!1,o=a,l=!1,null!==o?i.onError(o):h&&e(null,s)}}))))}),new vn(o,s)},t)}function At(t,e,n){return di(function(){return Dt(t,e-n.now(),n)})}function Tt(t,e,n){var i,o;return ne(e)?o=e:(i=e,o=n),new As(function(e){function n(){c.setDisposable(t.subscribe(function(t){var n=oe(o)(t);if(n===ie)return e.onError(n.e);var i=new fn;s.add(i),i.setDisposable(n.subscribe(function(){e.onNext(t),s.remove(i),r()},function(t){e.onError(t)},function(){e.onNext(t),s.remove(i),r()}))},function(t){e.onError(t)},function(){a=!0,c.dispose(),r()}))}function r(){a&&0===s.length&&e.onCompleted()}var s=new sn,a=!1,c=new mn;return i?c.setDisposable(i.subscribe(n,function(t){e.onError(t)},n)):n(),new vn(c,s)},t)}function Mt(t,e){return new As(function(n){var i,o=!1,r=new mn,s=0,a=t.subscribe(function(t){var a=oe(e)(t);if(a===ie)return n.onError(a.e);ee(a)&&(a=ui(a)),o=!0,i=t,s++;var c=s,l=new fn;r.setDisposable(l),l.setDisposable(a.subscribe(function(){o&&s===c&&n.onNext(i),o=!1,l.dispose()},function(t){n.onError(t)},function(){o&&s===c&&n.onNext(i),o=!1,l.dispose()}))},function(t){r.dispose(),n.onError(t),o=!1,s++},function(){r.dispose(),o&&n.onNext(i),n.onCompleted(),o=!1,s++});return new vn(a,r)},t)}function H(t){return t.toArray()}function H(t){return t.toArray()}function Ft(t,e,n,i){return ne(e)&&(i=n,n=e,e=Si()),Xn.isObservable(i)||(i=Ti(new ss)),new As(function(o){function r(t){function e(){return h=n===u}var n=u,r=new fn;c.setDisposable(r),r.setDisposable(t.subscribe(function(){e()&&a.setDisposable(i.subscribe(o)),r.dispose()},function(t){e()&&o.onError(t)},function(){e()&&a.setDisposable(i.subscribe(o))}))}function s(){var t=!h;return t&&u++,t}var a=new mn,c=new mn,l=new fn;a.setDisposable(l);var u=0,h=!1;return r(e),l.setDisposable(t.subscribe(function(t){if(s()){o.onNext(t);var e=oe(n)(t);if(e===ie)return o.onError(e.e);r(ee(e)?ui(e):e)}},function(t){s()&&o.onError(t)},function(){s()&&o.onCompleted()})),new vn(a,c)},t)}function Ot(t,e,n,i){return Cn(n)&&(i=n,n=Ti(new ss)),n instanceof Error&&(n=Ti(n)),Cn(i)||(i=On),Xn.isObservable(n)||(n=Ti(new ss)),new As(function(o){function r(){var t=s;u.setDisposable(i.scheduleFuture(null,e,function(){l=s===t,l&&(ee(n)&&(n=ui(n)),c.setDisposable(n.subscribe(o)))}))}var s=0,a=new fn,c=new mn,l=!1,u=new mn;return c.setDisposable(a),r(),a.setDisposable(t.subscribe(function(t){l||(s++,o.onNext(t),r())},function(t){l||(s++,o.onError(t))},function(){l||(s++,o.onCompleted())})),new vn(c,u)},t)}function Pt(t){return{"@@transducer/init":function(){return t},"@@transducer/step":function(t,e){return t.onNext(e)},"@@transducer/result":function(t){return t.onCompleted()}}}function It(t){this.predicate=t}function jt(t){this.predicate=t}function Lt(t,e){var n=this;this.scheduler=t,this.messages=e,this.subscriptions=[],this.observers=[];for(var i=0,o=this.messages.length;o>i;i++){var r=this.messages[i],s=r.value;!function(e){t.scheduleAbsolute(null,r.time,function(){for(var t=n.observers.slice(0),i=0,o=t.length;o>i;i++)e.accept(t[i]);return un})}(s)}}var Vt={"function":!0,object:!0},Bt=Vt[typeof e]&&e&&!e.nodeType?e:null,qt=Vt[typeof t]&&t&&!t.nodeType?t:null,Rt=a(Bt&&qt&&"object"==typeof o&&o),zt=a(Vt[typeof self]&&self),Wt=a(Vt[typeof window]&&window),Ut=qt&&qt.exports===Bt?Bt:null,Ht=a(Vt[typeof this]&&this),Gt=Rt||Wt!==(Ht&&Ht.window)&&Wt||zt||Ht||Function("return this")(),Kt={internals:{},config:{Promise:Gt.Promise},helpers:{}},Yt=Kt.helpers.noop=function(){},Qt=Kt.helpers.identity=function(t){return t},Xt=Kt.helpers.defaultNow=Date.now,Jt=Kt.helpers.defaultComparer=function(t,e){return Ze(t,e)},Zt=Kt.helpers.defaultSubComparer=function(t,e){return t>e?1:e>t?-1:0},te=(Kt.helpers.defaultKeySerializer=function(t){return t.toString()},Kt.helpers.defaultError=function(t){throw t}),ee=Kt.helpers.isPromise=function(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then},ne=Kt.helpers.isFunction=function(){var t=function(t){return"function"==typeof t||!1};return t(/x/)&&(t=function(t){return"function"==typeof t&&"[object Function]"==toString.call(t)}),t}(),ie={e:{}},oe=Kt.internals.tryCatch=function(t){if(!ne(t))throw new TypeError("fn must be a function");return l(t)};Kt.config.longStackSupport=!1;var re=!1,se=oe(function(){throw new Error})();re=!!se.e&&!!se.e.stack;var ae,ce=m(),le="From previous event:",ue=Kt.EmptyError=function(){this.message="Sequence contains no elements.",Error.call(this)};ue.prototype=Object.create(Error.prototype),ue.prototype.name="EmptyError";var he=Kt.ObjectDisposedError=function(){this.message="Object has been disposed",Error.call(this)};he.prototype=Object.create(Error.prototype),he.prototype.name="ObjectDisposedError";var pe=Kt.ArgumentOutOfRangeError=function(){this.message="Argument out of range",Error.call(this)};pe.prototype=Object.create(Error.prototype),pe.prototype.name="ArgumentOutOfRangeError";var de=Kt.NotSupportedError=function(t){this.message=t||"This operation is not supported",Error.call(this)};de.prototype=Object.create(Error.prototype),de.prototype.name="NotSupportedError";var fe=Kt.NotImplementedError=function(t){this.message=t||"This operation is not implemented",Error.call(this)};fe.prototype=Object.create(Error.prototype),fe.prototype.name="NotImplementedError";var me=Kt.helpers.notImplemented=function(){throw new fe},ve=(Kt.helpers.notSupported=function(){throw new de},"function"==typeof Symbol&&Symbol.iterator||"_es6shim_iterator_");Gt.Set&&"function"==typeof(new Gt.Set)["@@iterator"]&&(ve="@@iterator");var ge=Kt.doneEnumerator={done:!0,value:s},be=Kt.helpers.isIterable=function(t){return t&&t[ve]!==s},ye=Kt.helpers.isArrayLike=function(t){return t&&t.length!==s};Kt.helpers.iterator=ve;var we=Kt.internals.bindCallback=function(t,e,n){if("undefined"==typeof e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,o){return t.call(e,n,i,o)}}return function(){return t.apply(e,arguments)}},_e=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],Ce=(_e.length,"[object Arguments]"),xe="[object Array]",Ne="[object Boolean]",Se="[object Date]",ke="[object Error]",$e="[object Function]",Ee="[object Map]",De="[object Number]",Ae="[object Object]",Te="[object RegExp]",Me="[object Set]",Fe="[object String]",Oe="[object WeakMap]",Pe="[object ArrayBuffer]",Ie="[object Float32Array]",je="[object Float64Array]",Le="[object Int8Array]",Ve="[object Int16Array]",Be="[object Int32Array]",qe="[object Uint8Array]",Re="[object Uint8ClampedArray]",ze="[object Uint16Array]",We="[object Uint32Array]",Ue={};Ue[Ie]=Ue[je]=Ue[Le]=Ue[Ve]=Ue[Be]=Ue[qe]=Ue[Re]=Ue[ze]=Ue[We]=!0,Ue[Ce]=Ue[xe]=Ue[Pe]=Ue[Ne]=Ue[Se]=Ue[ke]=Ue[$e]=Ue[Ee]=Ue[De]=Ue[Ae]=Ue[Te]=Ue[Me]=Ue[Fe]=Ue[Oe]=!1;var He=Object.prototype,Ge=He.hasOwnProperty,Ke=He.toString,Ye=Math.pow(2,53)-1,Qe=Object.keys||function(){var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],i=n.length;return function(o){if("object"!=typeof o&&("function"!=typeof o||null===o))throw new TypeError("Object.keys called on non-object");var r,s,a=[];for(r in o)t.call(o,r)&&a.push(r);if(e)for(s=0;i>s;s++)t.call(o,n[s])&&a.push(n[s]);return a}}(),at=Kt.internals.isObject=function(t){var e=typeof t;return!!t&&("object"===e||"function"===e)},Xe=function(){try{Object({toString:0}+"")}catch(t){return function(){return!1}}return function(t){return"function"!=typeof t.toString&&"string"==typeof(t+"")}}(),Je=Array.isArray||function(t){return y(t)&&w(t.length)&&Ke.call(t)===xe},Ze=Kt.internals.isEqual=function(t,e){return S(t,e)},tn=({}.hasOwnProperty,Array.prototype.slice,Kt.internals.inherits=function(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n}),en=Kt.internals.addProperties=function(t){for(var e=[],n=1,i=arguments.length;i>n;n++)e.push(arguments[n]);for(var o=0,r=e.length;r>o;o++){var s=e[o];for(var a in s)t[a]=s[a]}},nn=Kt.internals.addRef=function(t,e){return new As(function(n){return new vn(e.getDisposable(),t.subscribe(n))})};$.prototype.compareTo=function(t){var e=this.value.compareTo(t.value);return 0===e&&(e=this.id-t.id),e};var on=Kt.internals.PriorityQueue=function(t){this.items=new Array(t),this.length=0},rn=on.prototype;rn.isHigherPriority=function(t,e){return this.items[t].compareTo(this.items[e])<0},rn.percolate=function(t){if(!(t>=this.length||0>t)){var e=t-1>>1;if(!(0>e||e===t)&&this.isHigherPriority(t,e)){var n=this.items[t];this.items[t]=this.items[e],this.items[e]=n,this.percolate(e)}}},rn.heapify=function(t){if(+t||(t=0),!(t>=this.length||0>t)){var e=2*t+1,n=2*t+2,i=t;if(e<this.length&&this.isHigherPriority(e,i)&&(i=e),n<this.length&&this.isHigherPriority(n,i)&&(i=n),i!==t){var o=this.items[t];this.items[t]=this.items[i],this.items[i]=o,this.heapify(i)}}},rn.peek=function(){return this.items[0].value},rn.removeAt=function(t){this.items[t]=this.items[--this.length],this.items[this.length]=s,this.heapify()},rn.dequeue=function(){var t=this.peek();return this.removeAt(0),t},rn.enqueue=function(t){var e=this.length++;this.items[e]=new $(on.count++,t),this.percolate(e)},rn.remove=function(t){for(var e=0;e<this.length;e++)if(this.items[e].value===t)return this.removeAt(e),!0;return!1},on.count=0;var sn=Kt.CompositeDisposable=function(){var t,e,n=[];if(Array.isArray(arguments[0]))n=arguments[0];else for(e=arguments.length,n=new Array(e),t=0;e>t;t++)n[t]=arguments[t];this.disposables=n,this.isDisposed=!1,this.length=n.length},an=sn.prototype;an.add=function(t){this.isDisposed?t.dispose():(this.disposables.push(t),this.length++)},an.remove=function(t){var e=!1;if(!this.isDisposed){var n=this.disposables.indexOf(t);-1!==n&&(e=!0,this.disposables.splice(n,1),this.length--,t.dispose())}return e},an.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;for(var t=this.disposables.length,e=new Array(t),n=0;t>n;n++)e[n]=this.disposables[n];for(this.disposables=[],this.length=0,n=0;t>n;n++)e[n].dispose()}};var cn=Kt.Disposable=function(t){this.isDisposed=!1,this.action=t||Yt};cn.prototype.dispose=function(){this.isDisposed||(this.action(),this.isDisposed=!0)};var ln=cn.create=function(t){return new cn(t)},un=cn.empty={dispose:Yt},hn=cn.isDisposable=function(t){return t&&ne(t.dispose)},pn=cn.checkDisposed=function(t){if(t.isDisposed)throw new he},dn=cn._fixup=function(t){return hn(t)?t:un},fn=Kt.SingleAssignmentDisposable=function(){this.isDisposed=!1,this.current=null};fn.prototype.getDisposable=function(){return this.current},fn.prototype.setDisposable=function(t){if(this.current)throw new Error("Disposable has already been assigned");var e=this.isDisposed;!e&&(this.current=t),e&&t&&t.dispose()},fn.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var t=this.current;this.current=null,t&&t.dispose()}};var mn=Kt.SerialDisposable=function(){this.isDisposed=!1,this.current=null};mn.prototype.getDisposable=function(){return this.current},mn.prototype.setDisposable=function(t){var e=this.isDisposed;if(!e){var n=this.current;this.current=t}n&&n.dispose(),e&&t&&t.dispose()},mn.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var t=this.current;this.current=null}t&&t.dispose()};var vn=Kt.BinaryDisposable=function(t,e){this._first=t,this._second=e,this.isDisposed=!1};vn.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var t=this._first;this._first=null,t&&t.dispose();var e=this._second;this._second=null,e&&e.dispose()}};var gn=Kt.NAryDisposable=function(t){this._disposables=t,this.isDisposed=!1};gn.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;for(var t=0,e=this._disposables.length;e>t;t++)this._disposables[t].dispose();this._disposables.length=0}};var bn=Kt.RefCountDisposable=function(){function t(t){this.disposable=t,this.disposable.count++,this.isInnerDisposed=!1}function e(t){this.underlyingDisposable=t,this.isDisposed=!1,this.isPrimaryDisposed=!1,this.count=0}return t.prototype.dispose=function(){this.disposable.isDisposed||this.isInnerDisposed||(this.isInnerDisposed=!0,this.disposable.count--,0===this.disposable.count&&this.disposable.isPrimaryDisposed&&(this.disposable.isDisposed=!0,this.disposable.underlyingDisposable.dispose()))},e.prototype.dispose=function(){this.isDisposed||this.isPrimaryDisposed||(this.isPrimaryDisposed=!0,0===this.count&&(this.isDisposed=!0,this.underlyingDisposable.dispose()))},e.prototype.getDisposable=function(){return this.isDisposed?un:new t(this)},e}();E.prototype.dispose=function(){this.scheduler.schedule(this,D)};var yn=Kt.internals.ScheduledItem=function(t,e,n,i,o){this.scheduler=t,this.state=e,this.action=n,this.dueTime=i,this.comparer=o||Zt,this.disposable=new fn};yn.prototype.invoke=function(){this.disposable.setDisposable(this.invokeCore())},yn.prototype.compareTo=function(t){return this.comparer(this.dueTime,t.dueTime)},yn.prototype.isCancelled=function(){return this.disposable.isDisposed},yn.prototype.invokeCore=function(){return dn(this.action(this.scheduler,this.state))};var wn=Kt.Scheduler=function(){function t(){}t.isScheduler=function(e){return e instanceof t};var e=t.prototype;return e.schedule=function(t,e){throw new fe},e.scheduleFuture=function(e,n,i){var o=n;return o instanceof Date&&(o-=this.now()),o=t.normalize(o),0===o?this.schedule(e,i):this._scheduleFuture(e,o,i)},e._scheduleFuture=function(t,e,n){throw new fe},t.now=Xt,t.prototype.now=Xt,t.normalize=function(t){return 0>t&&(t=0),t},t}(),_n=wn.normalize,Cn=wn.isScheduler;!function(t){function e(t,e){function n(e){function i(t,e){return s?r.remove(c):a=!0,o(e,n),un}var s=!1,a=!1,c=t.schedule(e,i);a||(r.add(c),s=!0)}var i=e[0],o=e[1],r=new sn;return o(i,n),r}function n(t,e){function n(e,i){function s(t,e){return a?r.remove(l):c=!0,o(e,n),un}var a=!1,c=!1,l=t.scheduleFuture(e,i,s);c||(r.add(l),a=!0)}var i=e[0],o=e[1],r=new sn;return o(i,n),r}t.scheduleRecursive=function(t,n){return this.schedule([t,n],e)},t.scheduleRecursiveFuture=function(t,e,i){return this.scheduleFuture([t,i],e,n)}}(wn.prototype),function(t){t.schedulePeriodic=function(t,e,n){if("undefined"==typeof Gt.setInterval)throw new de;e=_n(e);var i=t,o=Gt.setInterval(function(){i=n(i)},e);return ln(function(){Gt.clearInterval(o)})}}(wn.prototype),function(t){t.catchError=t["catch"]=function(t){return new Pn(this,t)}}(wn.prototype);var xn,Nn,Sn=Kt.internals.SchedulePeriodicRecursive=function(){function t(t){return function(e,n){n(0,t._period);var i=oe(t._action)(t._state);i===ie&&(t._cancel.dispose(),u(i.e)),t._state=i}}function e(t,e,n,i){this._scheduler=t,this._state=e,this._period=n,this._action=i}return e.prototype.start=function(){var e=new fn;return this._cancel=e,e.setDisposable(this._scheduler.scheduleRecursiveFuture(0,this._period,t(this))),e},e}(),kn=function(t){function e(){t.call(this)}return tn(e,t),e.prototype.schedule=function(t,e){return dn(e(this,t))},e}(wn),$n=wn.immediate=new kn,En=function(t){function e(){for(;i.length>0;){var t=i.dequeue();!t.isCancelled()&&t.invoke()}}function n(){t.call(this)}var i;return tn(n,t),n.prototype.schedule=function(t,n){var o=new yn(this,t,n,this.now());if(i)i.enqueue(o);else{i=new on(4),i.enqueue(o);var r=oe(e)();i=null,r===ie&&u(r.e)}return o.disposable},n.prototype.scheduleRequired=function(){return!i},n}(wn),Dn=wn.currentThread=new En,An=function(){var t,e=Yt;if(Gt.setTimeout)t=Gt.setTimeout,e=Gt.clearTimeout;else{if(!Gt.WScript)throw new de;t=function(t,e){Gt.WScript.Sleep(e),t()}}return{setTimeout:t,clearTimeout:e}}(),Tn=An.setTimeout,Mn=An.clearTimeout;!function(){function t(e){if(o)Tn(function(){t(e)},0);else{var n=i[e];if(n){o=!0;var r=oe(n)();Nn(e),o=!1,r===ie&&u(r.e)}}}function e(){if(!Gt.postMessage||Gt.importScripts)return!1;var t=!1,e=Gt.onmessage;return Gt.onmessage=function(){t=!0},Gt.postMessage("","*"),Gt.onmessage=e,t}var n=1,i={},o=!1;Nn=function(t){delete i[t]};var s=new RegExp("^"+String(toString).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),a="function"==typeof(a=Rt&&Ut&&Rt.setImmediate)&&!s.test(a)&&a;if(ne(a))xn=function(e){var o=n++;return i[o]=e,a(function(){t(o)}),o};else if("undefined"!=typeof r&&"[object process]"==={}.toString.call(r))xn=function(e){var o=n++;return i[o]=e,r.nextTick(function(){t(o)}),o};else if(e()){var c="ms.rx.schedule"+Math.random(),l=function(e){"string"==typeof e.data&&e.data.substring(0,c.length)===c&&t(e.data.substring(c.length))};Gt.addEventListener("message",l,!1),xn=function(t){var e=n++;return i[e]=t,Gt.postMessage(c+e,"*"),e}}else if(Gt.MessageChannel){var h=new Gt.MessageChannel;h.port1.onmessage=function(e){t(e.data)},xn=function(t){var e=n++;return i[e]=t,h.port2.postMessage(e),e}}else xn="document"in Gt&&"onreadystatechange"in Gt.document.createElement("script")?function(e){var o=Gt.document.createElement("script"),r=n++;return i[r]=e,o.onreadystatechange=function(){t(r),o.onreadystatechange=null,o.parentNode.removeChild(o),o=null},Gt.document.documentElement.appendChild(o),r}:function(e){var o=n++;return i[o]=e,Tn(function(){t(o)},0),o}}();var Fn=function(t){function e(){t.call(this)}function n(t,e,n,i){return function(){t.setDisposable(cn._fixup(e(n,i)))}}function i(t){this._id=t,this.isDisposed=!1}function o(t){this._id=t,this.isDisposed=!1}return tn(e,t),i.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,Nn(this._id))},o.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,Mn(this._id))},e.prototype.schedule=function(t,e){var o=new fn,r=xn(n(o,e,this,t));return new vn(o,new i(r))},e.prototype._scheduleFuture=function(t,e,i){if(0===e)return this.schedule(t,i);var r=new fn,s=Tn(n(r,i,this,t),e);return new vn(r,new o(s))},e}(wn),On=wn["default"]=wn.async=new Fn,Pn=function(t){function e(e,n){this._scheduler=e,this._handler=n,this._recursiveOriginal=null,this._recursiveWrapper=null,t.call(this)}return tn(e,t),e.prototype.schedule=function(t,e){return this._scheduler.schedule(t,this._wrap(e))},e.prototype._scheduleFuture=function(t,e,n){return this._scheduler.schedule(t,e,this._wrap(n))},e.prototype.now=function(){return this._scheduler.now()},e.prototype._clone=function(t){return new e(t,this._handler)},e.prototype._wrap=function(t){var e=this;return function(n,i){var o=oe(t)(e._getRecursiveWrapper(n),i);return o===ie?(e._handler(o.e)||u(o.e),un):dn(o)}},e.prototype._getRecursiveWrapper=function(t){if(this._recursiveOriginal!==t){this._recursiveOriginal=t;var e=this._clone(t);e._recursiveOriginal=t,e._recursiveWrapper=e,this._recursiveWrapper=e}return this._recursiveWrapper},e.prototype.schedulePeriodic=function(t,e,n){var i=this,o=!1,r=new fn;return r.setDisposable(this._scheduler.schedulePeriodic(t,e,function(t){if(o)return null;var e=oe(n)(t);return e===ie?(o=!0,i._handler(e.e)||u(e.e),r.dispose(),null):e})),r},e}(wn),In=Kt.Notification=function(){function t(){}return t.prototype._accept=function(t,e,n){throw new fe},t.prototype._acceptObserver=function(t,e,n){throw new fe},t.prototype.accept=function(t,e,n){return t&&"object"==typeof t?this._acceptObserver(t):this._accept(t,e,n)},t.prototype.toObservable=function(t){var e=this;return Cn(t)||(t=$n),new As(function(n){return t.schedule(e,function(t,e){e._acceptObserver(n),"N"===e.kind&&n.onCompleted()})})},t}(),jn=function(t){function e(t){this.value=t,this.kind="N"}return tn(e,t),e.prototype._accept=function(t){return t(this.value)},e.prototype._acceptObserver=function(t){return t.onNext(this.value)},e.prototype.toString=function(){return"OnNext("+this.value+")"},e}(In),Ln=function(t){function e(t){this.error=t,this.kind="E"}return tn(e,t),e.prototype._accept=function(t,e){return e(this.error)},e.prototype._acceptObserver=function(t){return t.onError(this.error)},e.prototype.toString=function(){return"OnError("+this.error+")"},e}(In),Vn=function(t){function e(){this.kind="C"}return tn(e,t),e.prototype._accept=function(t,e,n){return n()},e.prototype._acceptObserver=function(t){return t.onCompleted()},e.prototype.toString=function(){return"OnCompleted()"},e}(In),Bn=In.createOnNext=function(t){return new jn(t)},qn=In.createOnError=function(t){return new Ln(t)},Rn=In.createOnCompleted=function(){return new Vn},zn=Kt.Observer=function(){};zn.prototype.toNotifier=function(){var t=this;return function(e){return e.accept(t)}},zn.prototype.asObserver=function(){var t=this;return new Gn(function(e){t.onNext(e)},function(e){t.onError(e)},function(){t.onCompleted()})},zn.prototype.checked=function(){return new Kn(this)};var Wn=zn.create=function(t,e,n){return t||(t=Yt),e||(e=te),n||(n=Yt),new Gn(t,e,n)};zn.fromNotifier=function(t,e){var n=we(t,e,1);return new Gn(function(t){return n(Bn(t))},function(t){return n(qn(t))},function(){return n(Rn())})},zn.prototype.notifyOn=function(t){return new Qn(t,this)},zn.prototype.makeSafe=function(t){return new AnonymousSafeObserver(this._onNext,this._onError,this._onCompleted,t)};var Un,Hn=Kt.internals.AbstractObserver=function(t){function e(){this.isStopped=!1}return tn(e,t),e.prototype.next=me,e.prototype.error=me,e.prototype.completed=me,e.prototype.onNext=function(t){!this.isStopped&&this.next(t)},e.prototype.onError=function(t){this.isStopped||(this.isStopped=!0,this.error(t))},e.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.completed())},e.prototype.dispose=function(){this.isStopped=!0},e.prototype.fail=function(t){return this.isStopped?!1:(this.isStopped=!0,this.error(t),!0)},e}(zn),Gn=Kt.AnonymousObserver=function(t){function e(e,n,i){t.call(this),this._onNext=e,this._onError=n,this._onCompleted=i}return tn(e,t),e.prototype.next=function(t){this._onNext(t)},e.prototype.error=function(t){this._onError(t)},e.prototype.completed=function(){this._onCompleted()},e}(Hn),Kn=function(t){function e(e){t.call(this),this._observer=e,this._state=0}tn(e,t);var n=e.prototype;return n.onNext=function(t){this.checkAccess();var e=oe(this._observer.onNext).call(this._observer,t);this._state=0,e===ie&&u(e.e)},n.onError=function(t){this.checkAccess();var e=oe(this._observer.onError).call(this._observer,t);this._state=2,e===ie&&u(e.e)},n.onCompleted=function(){this.checkAccess();var t=oe(this._observer.onCompleted).call(this._observer);this._state=2,t===ie&&u(t.e)},n.checkAccess=function(){if(1===this._state)throw new Error("Re-entrancy detected");if(2===this._state)throw new Error("Observer completed");0===this._state&&(this._state=1)},e}(zn),Yn=Kt.internals.ScheduledObserver=function(t){function e(e,n){t.call(this),this.scheduler=e,this.observer=n,this.isAcquired=!1,this.hasFaulted=!1,this.queue=[],this.disposable=new mn}function n(t,e){return function(){t.onNext(e)}}function i(t,e){return function(){t.onError(e)}}function o(t){return function(){t.onCompleted()}}function r(t,e){var n;if(!(t.queue.length>0))return void(t.isAcquired=!1);n=t.queue.shift();var i=oe(n)();return i===ie?(t.queue=[],t.hasFaulted=!0,u(i.e)):void e(t)}return tn(e,t),e.prototype.next=function(t){this.queue.push(n(this.observer,t))},e.prototype.error=function(t){this.queue.push(i(this.observer,t))},e.prototype.completed=function(){this.queue.push(o(this.observer))},e.prototype.ensureActive=function(){var t=!1;!this.hasFaulted&&this.queue.length>0&&(t=!this.isAcquired,this.isAcquired=!0),t&&this.disposable.setDisposable(this.scheduler.scheduleRecursive(this,r))},e.prototype.dispose=function(){t.prototype.dispose.call(this),this.disposable.dispose()},e}(Hn),Qn=function(t){function e(e,n,i){t.call(this,e,n),this._cancel=i}return tn(e,t),e.prototype.next=function(e){t.prototype.next.call(this,e),this.ensureActive()},e.prototype.error=function(e){t.prototype.error.call(this,e),this.ensureActive()},e.prototype.completed=function(){t.prototype.completed.call(this),this.ensureActive()},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._cancel&&this._cancel.dispose(),this._cancel=null},e}(Yn),Xn=Kt.Observable=function(){function t(t,e){return function(n){var i=n.onError;return n.onError=function(e){h(e,t),i.call(n,e)},e.call(t,n)}}function e(){if(Kt.config.longStackSupport&&re){var e=this._subscribe,n=oe(u)(new Error).e;this.stack=n.stack.substring(n.stack.indexOf("\n")+1),this._subscribe=t(this,e)}}return Un=e.prototype,e.isObservable=function(t){return t&&ne(t.subscribe)},Un.subscribe=Un.forEach=function(t,e,n){return this._subscribe("object"==typeof t?t:Wn(t,e,n))},Un.subscribeOnNext=function(t,e){return this._subscribe(Wn("undefined"!=typeof e?function(n){t.call(e,n)}:t))},Un.subscribeOnError=function(t,e){return this._subscribe(Wn(null,"undefined"!=typeof e?function(n){t.call(e,n)}:t))},Un.subscribeOnCompleted=function(t,e){return this._subscribe(Wn(null,null,"undefined"!=typeof e?function(){t.call(e)}:t))},e}(),Jn=Kt.ObservableBase=function(t){function e(t){return t&&ne(t.dispose)?t:ne(t)?ln(t):un}function n(t,n){var i=n[0],o=n[1],r=oe(o.subscribeCore).call(o,i);r!==ie||i.fail(ie.e)||u(ie.e),i.setDisposable(e(r))}function i(){t.call(this)}return tn(i,t),i.prototype._subscribe=function(t){var e=new Ts(t),i=[e,this];return Dn.scheduleRequired()?Dn.schedule(i,n):n(null,i),e},i.prototype.subscribeCore=me,i}(Xn),Zn=Kt.FlatMapObservable=function(t){function e(e,n,i,o){this.resultSelector=ne(i)?i:null,this.selector=we(ne(n)?n:function(){return n},o,3),this.source=e,t.call(this)}function n(t,e,n,i){this.i=0,this.selector=e,this.resultSelector=n,this.source=i,this.o=t,Hn.call(this)}return tn(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new n(t,this.selector,this.resultSelector,this))},tn(n,Hn),n.prototype._wrapResult=function(t,e,n){return this.resultSelector?t.map(function(t,i){return this.resultSelector(e,t,n,i)},this):t},n.prototype.next=function(t){
var e=this.i++,n=oe(this.selector)(t,e,this.source);return n===ie?this.o.onError(n.e):(ee(n)&&(n=ui(n)),(ye(n)||be(n))&&(n=Xn.from(n)),void this.o.onNext(this._wrapResult(n,t,e)))},n.prototype.error=function(t){this.o.onError(t)},n.prototype.completed=function(){this.o.onCompleted()},e}(Jn),ti=Kt.internals.Enumerable=function(){};A.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._s.isDisposed=!0)};var ei=function(t){function e(e){this.sources=e,t.call(this)}function n(t,e){if(!t.isDisposed){var n=oe(t.e.next).call(t.e);if(n===ie)return t.o.onError(n.e);if(n.done)return t.o.onCompleted();var o=n.value;ee(o)&&(o=ui(o));var r=new fn;t.subscription.setDisposable(r),r.setDisposable(o.subscribe(new i(t,e)))}}function i(t,e){this._state=t,this._recurse=e,Hn.call(this)}return tn(e,t),e.prototype.subscribeCore=function(t){var e=new mn,i={isDisposed:!1,o:t,subscription:e,e:this.sources[ve]()},o=Dn.scheduleRecursive(i,n);return new gn([e,o,new A(i)])},tn(i,Hn),i.prototype.next=function(t){this._state.o.onNext(t)},i.prototype.error=function(t){this._state.o.onError(t)},i.prototype.completed=function(){this._recurse(this._state)},e}(Jn);ti.prototype.concat=function(){return new ei(this)};var ni=function(t){function e(e){this.sources=e,t.call(this)}function n(t,e){if(!t.isDisposed){var n=oe(t.e.next).call(t.e);if(n===ie)return t.o.onError(n.e);if(n.done)return null!==t.lastError?t.o.onError(t.lastError):t.o.onCompleted();var o=n.value;ee(o)&&(o=ui(o));var r=new fn;t.subscription.setDisposable(r),r.setDisposable(o.subscribe(new i(t,e)))}}function i(t,e){this._state=t,this._recurse=e,Hn.call(this)}return tn(e,t),e.prototype.subscribeCore=function(t){var e=new mn,i={isDisposed:!1,e:this.sources[ve](),subscription:e,lastError:null,o:t},o=Dn.scheduleRecursive(i,n);return new gn([e,o,new A(i)])},tn(i,Hn),i.prototype.next=function(t){this._state.o.onNext(t)},i.prototype.error=function(t){this._state.lastError=t,this._recurse(this._state)},i.prototype.completed=function(){this._state.o.onCompleted()},e}(Jn);ti.prototype.catchError=function(){return new ni(this)};var ii=function(t){function e(t,e){this.v=t,this.c=null==e?-1:e}function n(t){this.v=t.v,this.l=t.c}return tn(e,t),e.prototype[ve]=function(){return new n(this)},n.prototype.next=function(){return 0===this.l?ge:(this.l>0&&this.l--,{done:!1,value:this.v})},e}(ti),oi=ti.repeat=function(t,e){return new ii(t,e)},ri=function(t){function e(t,e,n){this.s=t,this.fn=e?we(e,n,3):null}function n(t){this.i=-1,this.s=t.s,this.l=this.s.length,this.fn=t.fn}return tn(e,t),e.prototype[ve]=function(){return new n(this)},n.prototype.next=function(){return++this.i<this.l?{done:!1,value:this.fn?this.fn(this.s[this.i],this.i,this.s):this.s[this.i]}:ge},e}(ti),si=ti.of=function(t,e,n){return new ri(t,e,n)},ai=function(t){function e(e,n){this.source=e,this._s=n,t.call(this)}return tn(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Qn(this._s,t))},e}(Jn);Un.observeOn=function(t){return new ai(this,t)};var ci=function(t){function e(e,n){this.source=e,this._s=n,t.call(this)}function n(t,e){var n=e[0],i=e[1],o=e[2];i.setDisposable(new E(t,n.subscribe(o)))}return tn(e,t),e.prototype.subscribeCore=function(t){var e=new fn,i=new mn;return i.setDisposable(e),e.setDisposable(this._s.schedule([this.source,i,t],n)),i},e}(Jn);Un.subscribeOn=function(t){return new ci(this,t)};var li=function(t){function e(e,n){this._p=e,this._s=n,t.call(this)}function n(t,e){var n=e[0],i=e[1];n.onNext(i),n.onCompleted()}function i(t,e){var n=e[0],i=e[1];n.onError(i)}return tn(e,t),e.prototype.subscribeCore=function(t){var e=new fn,o=this;return this._p.then(function(i){e.setDisposable(o._s.schedule([t,i],n))},function(n){e.setDisposable(o._s.schedule([t,n],i))}),e},e}(Jn),ui=Xn.fromPromise=function(t,e){return e||(e=On),new li(t,e)};Un.toPromise=function(t){if(t||(t=Kt.config.Promise),!t)throw new de("Promise type not provided nor in Rx.config.Promise");var e=this;return new t(function(t,n){var i;e.subscribe(function(t){i=t},n,function(){t(i)})})};var hi=function(t){function e(e){this.source=e,t.call(this)}function n(t){this.o=t,this.a=[],Hn.call(this)}return tn(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new n(t))},tn(n,Hn),n.prototype.next=function(t){this.a.push(t)},n.prototype.error=function(t){this.o.onError(t)},n.prototype.completed=function(){this.o.onNext(this.a),this.o.onCompleted()},e}(Jn);Un.toArray=function(){return new hi(this)},Xn.create=function(t,e){return new As(t,e)};var pi=function(t){function e(e){this._f=e,t.call(this)}return tn(e,t),e.prototype.subscribeCore=function(t){var e=oe(this._f)();return e===ie?Ti(e.e).subscribe(t):(ee(e)&&(e=ui(e)),e.subscribe(t))},e}(Jn),di=Xn.defer=function(t){return new pi(t)},fi=function(t){function e(e){this.scheduler=e,t.call(this)}function n(t,e){this.observer=t,this.scheduler=e}function i(t,e){return e.onCompleted(),un}return tn(e,t),e.prototype.subscribeCore=function(t){var e=new n(t,this.scheduler);return e.run()},n.prototype.run=function(){var t=this.observer;return this.scheduler===$n?i(null,t):this.scheduler.schedule(t,i)},e}(Jn),mi=new fi($n),vi=Xn.empty=function(t){return Cn(t)||(t=$n),t===$n?mi:new fi(t)},gi=function(t){function e(e,n,i){this._iterable=e,this._fn=n,this._scheduler=i,t.call(this)}function n(t,e,n){return function(i,o){var r=oe(e.next).call(e);if(r===ie)return t.onError(r.e);if(r.done)return t.onCompleted();var s=r.value;return ne(n)&&(s=oe(n)(s,i),s===ie)?t.onError(s.e):(t.onNext(s),void o(i+1))}}return tn(e,t),e.prototype.subscribeCore=function(t){var e=Object(this._iterable),i=I(e);return this._scheduler.scheduleRecursive(0,n(t,i,this._fn))},e}(Jn),bi=Math.pow(2,53)-1;T.prototype[ve]=function(){return new M(this._s)},M.prototype[ve]=function(){return this},M.prototype.next=function(){return this._i<this._l?{done:!1,value:this._s.charAt(this._i++)}:ge},F.prototype[ve]=function(){return new O(this._a)},O.prototype[ve]=function(){return this},O.prototype.next=function(){return this._i<this._l?{done:!1,value:this._a[this._i++]}:ge};var yi=Xn.from=function(t,e,n,i){if(null==t)throw new Error("iterable cannot be null.");if(e&&!ne(e))throw new Error("mapFn when provided must be a function");if(e)var o=we(e,n,2);return Cn(i)||(i=Dn),new gi(t,o,i)},wi=function(t){function e(e,n){this._args=e,this._scheduler=n,t.call(this)}function n(t,e){var n=e.length;return function(i,o){n>i?(t.onNext(e[i]),o(i+1)):t.onCompleted()}}return tn(e,t),e.prototype.subscribeCore=function(t){return this._scheduler.scheduleRecursive(0,n(t,this._args))},e}(Jn),_i=Xn.fromArray=function(t,e){return Cn(e)||(e=Dn),new wi(t,e)},Ci=function(t){function e(e,n,i,o,r){this._initialState=e,this._cndFn=n,this._itrFn=i,this._resFn=o,this._s=r,t.call(this)}function n(t,e){if(t.first)t.first=!1;else if(t.newState=oe(t.self._itrFn)(t.newState),t.newState===ie)return t.o.onError(t.newState.e);var n=oe(t.self._cndFn)(t.newState);if(n===ie)return t.o.onError(n.e);if(n){var i=oe(t.self._resFn)(t.newState);if(i===ie)return t.o.onError(i.e);t.o.onNext(i),e(t)}else t.o.onCompleted()}return tn(e,t),e.prototype.subscribeCore=function(t){var e={o:t,self:this,first:!0,newState:this._initialState};return this._s.scheduleRecursive(e,n)},e}(Jn);Xn.generate=function(t,e,n,i,o){return Cn(o)||(o=Dn),new Ci(t,e,n,i,o)},Xn.of=function(){for(var t=arguments.length,e=new Array(t),n=0;t>n;n++)e[n]=arguments[n];return new wi(e,Dn)},Xn.ofWithScheduler=function(t){for(var e=arguments.length,n=new Array(e-1),i=1;e>i;i++)n[i-1]=arguments[i];return new wi(n,t)},Xn.ofArrayChanges=function(t){if(!Array.isArray(t))throw new TypeError("Array.observe only accepts arrays.");if("function"!=typeof Array.observe&&"function"!=typeof Array.unobserve)throw new TypeError("Array.observe is not supported on your platform");return new As(function(e){function n(t){for(var n=0,i=t.length;i>n;n++)e.onNext(t[n])}return Array.observe(t,n),function(){Array.unobserve(t,n)}})},Xn.ofObjectChanges=function(t){if(null==t)throw new TypeError("object must not be null or undefined.");if("function"!=typeof Object.observe&&"function"!=typeof Object.unobserve)throw new TypeError("Object.observe is not supported on your platform");return new As(function(e){function n(t){for(var n=0,i=t.length;i>n;n++)e.onNext(t[n])}return Object.observe(t,n),function(){Object.unobserve(t,n)}})};var xi=function(t){function e(){t.call(this)}return tn(e,t),e.prototype.subscribeCore=function(t){return un},e}(Jn),Ni=new xi,Si=Xn.never=function(){return Ni},ki=function(t){function e(e,n){this._o=e,this._keys=Object.keys(e),this._scheduler=n,t.call(this)}function n(t,e,n){return function(i,o){if(i<n.length){var r=n[i];t.onNext([r,e[r]]),o(i+1)}else t.onCompleted()}}return tn(e,t),e.prototype.subscribeCore=function(t){return this._scheduler.scheduleRecursive(0,n(t,this._o,this._keys))},e}(Jn);Xn.pairs=function(t,e){return e||(e=Dn),new ki(t,e)};var $i=function(t){function e(e,n,i){this.start=e,this.rangeCount=n,this.scheduler=i,t.call(this)}function n(t,e,n){return function(i,o){e>i?(n.onNext(t+i),o(i+1)):n.onCompleted()}}return tn(e,t),e.prototype.subscribeCore=function(t){return this.scheduler.scheduleRecursive(0,n(this.start,this.rangeCount,t))},e}(Jn);Xn.range=function(t,e,n){return Cn(n)||(n=Dn),new $i(t,e,n)};var Ei=function(t){function e(e,n,i){this.value=e,this.repeatCount=null==n?-1:n,this.scheduler=i,t.call(this)}return tn(e,t),e.prototype.subscribeCore=function(t){var e=new B(t,this);return e.run()},e}(Jn);B.prototype.run=function(){function t(t,i){return(-1===t||t>0)&&(e.onNext(n),t>0&&t--),0===t?e.onCompleted():void i(t)}var e=this.observer,n=this.parent.value;return this.parent.scheduler.scheduleRecursive(this.parent.repeatCount,t)},Xn.repeat=function(t,e,n){return Cn(n)||(n=Dn),new Ei(t,e,n)};var Di=function(t){function e(e,n){this._value=e,this._scheduler=n,t.call(this)}function n(t,e){var n=e[0],i=e[1];return i.onNext(n),i.onCompleted(),un}return tn(e,t),e.prototype.subscribeCore=function(t){var e=[this._value,t];return this._scheduler===$n?n(null,e):this._scheduler.schedule(e,n)},e}(Jn),Ai=(Xn["return"]=Xn.just=function(t,e){return Cn(e)||(e=$n),new Di(t,e)},function(t){function e(e,n){this._error=e,this._scheduler=n,t.call(this)}function n(t,e){var n=e[0],i=e[1];return i.onError(n),un}return tn(e,t),e.prototype.subscribeCore=function(t){var e=[this._error,t];return this._scheduler===$n?n(null,e):this._scheduler.schedule(e,n)},e}(Jn)),Ti=Xn["throw"]=function(t,e){return Cn(e)||(e=$n),new Ai(t,e)},Mi=function(t){function e(e,n){this._resFn=e,this._obsFn=n,t.call(this)}return tn(e,t),e.prototype.subscribeCore=function(t){var e=un,n=oe(this._resFn)();if(n===ie)return new vn(Ti(n.e).subscribe(t),e);n&&(e=n);var i=oe(this._obsFn)(n);return i===ie?new vn(Ti(i.e).subscribe(t),e):new vn(i.subscribe(t),e)},e}(Jn);Xn.using=function(t,e){return new Mi(t,e)},Un.amb=function(t){var e=this;return new As(function(n){function i(){r||(r=s,l.dispose())}function o(){r||(r=a,c.dispose())}var r,s="L",a="R",c=new fn,l=new fn;ee(t)&&(t=ui(t));var u=Wn(function(t){i(),r===s&&n.onNext(t)},function(t){i(),r===s&&n.onError(t)},function(){i(),r===s&&n.onCompleted()}),h=Wn(function(t){o(),r===a&&n.onNext(t)},function(t){o(),r===a&&n.onError(t)},function(){o(),r===a&&n.onCompleted()});return c.setDisposable(e.subscribe(u)),l.setDisposable(t.subscribe(h)),new vn(c,l)})},Xn.amb=function(){var t,e=Si();if(Array.isArray(arguments[0]))t=arguments[0];else{var n=arguments.length;t=new Array(t);for(var i=0;n>i;i++)t[i]=arguments[i]}for(var i=0,n=t.length;n>i;i++)e=q(e,t[i]);return e};var Fi=function(t){function e(e,n){this.source=e,this._fn=n,t.call(this)}return tn(e,t),e.prototype.subscribeCore=function(t){var e=new fn,n=new mn;return n.setDisposable(e),e.setDisposable(this.source.subscribe(new Oi(t,n,this._fn))),n},e}(Jn),Oi=function(t){function e(e,n,i){this._o=e,this._s=n,this._fn=i,t.call(this)}return tn(e,t),e.prototype.next=function(t){this._o.onNext(t)},e.prototype.completed=function(){return this._o.onCompleted()},e.prototype.error=function(t){var e=oe(this._fn)(t);if(e===ie)return this._o.onError(e.e);ee(e)&&(e=ui(e));var n=new fn;this._s.setDisposable(n),n.setDisposable(e.subscribe(this._o))},e}(Hn);Un["catch"]=function(t){return ne(t)?new Fi(this,t):Pi([this,t])};var Pi=Xn["catch"]=function(){var t;if(Array.isArray(arguments[0]))t=arguments[0];else{var e=arguments.length;t=new Array(e);for(var n=0;e>n;n++)t[n]=arguments[n]}return si(t).catchError()};Un.combineLatest=function(){for(var t=arguments.length,e=new Array(t),n=0;t>n;n++)e[n]=arguments[n];return Array.isArray(e[0])?e[0].unshift(this):e.unshift(this),Li.apply(this,e)};var Ii=function(t){function e(e,n){this._params=e,this._cb=n,t.call(this)}return tn(e,t),e.prototype.subscribeCore=function(t){for(var e=this._params.length,n=new Array(e),i={hasValue:k(e,R),hasValueAll:!1,isDone:k(e,R),values:new Array(e)},o=0;e>o;o++){var r=this._params[o],s=new fn;n[o]=s,ee(r)&&(r=ui(r)),s.setDisposable(r.subscribe(new ji(t,o,this._cb,i)))}return new gn(n)},e}(Jn),ji=function(t){function e(e,n,i,o){this._o=e,this._i=n,this._cb=i,this._state=o,t.call(this)}function n(t){return function(e,n){return n!==t}}return tn(e,t),e.prototype.next=function(t){if(this._state.values[this._i]=t,this._state.hasValue[this._i]=!0,this._state.hasValueAll||(this._state.hasValueAll=this._state.hasValue.every(Qt))){var e=oe(this._cb).apply(null,this._state.values);if(e===ie)return this._o.onError(e.e);this._o.onNext(e)}else this._state.isDone.filter(n(this._i)).every(Qt)&&this._o.onCompleted()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._state.isDone[this._i]=!0,this._state.isDone.every(Qt)&&this._o.onCompleted()},e}(Hn),Li=Xn.combineLatest=function(){for(var t=arguments.length,e=new Array(t),n=0;t>n;n++)e[n]=arguments[n];var i=ne(e[t-1])?e.pop():z;return Array.isArray(e[0])&&(e=e[0]),new Ii(e,i)};Un.concat=function(){for(var t=[],e=0,n=arguments.length;n>e;e++)t.push(arguments[e]);return t.unshift(this),qi.apply(null,t)};var Vi=function(t){function e(e,n){this._s=e,this._fn=n,t.call(this)}return tn(e,t),e.prototype.next=function(t){this._s.o.onNext(t)},e.prototype.error=function(t){this._s.o.onError(t)},e.prototype.completed=function(){this._s.i++,this._fn(this._s)},e}(Hn),Bi=function(t){function e(e){this._sources=e,t.call(this)}function n(t,e){if(!t.disposable.isDisposed){if(t.i===t.sources.length)return t.o.onCompleted();var n=t.sources[t.i];ee(n)&&(n=ui(n));var i=new fn;t.subscription.setDisposable(i),i.setDisposable(n.subscribe(new Vi(t,e)))}}return tn(e,t),e.prototype.subscribeCore=function(t){var e=new mn,i=ln(Yt),o={o:t,i:0,subscription:e,disposable:i,sources:this._sources},r=$n.scheduleRecursive(o,n);return new gn([e,i,r])},e}(Jn),qi=Xn.concat=function(){var t;if(Array.isArray(arguments[0]))t=arguments[0];else{t=new Array(arguments.length);for(var e=0,n=arguments.length;n>e;e++)t[e]=arguments[e]}return new Bi(t)};Un.concatAll=function(){return this.merge(1)};var Ri=function(t){function e(e,n){this.source=e,this.maxConcurrent=n,t.call(this)}return tn(e,t),e.prototype.subscribeCore=function(t){var e=new sn;return e.add(this.source.subscribe(new zi(t,this.maxConcurrent,e))),e},e}(Jn),zi=function(t){function e(e,n,i){this.o=e,this.max=n,this.g=i,this.done=!1,this.q=[],this.activeCount=0,t.call(this)}function n(e,n){this.parent=e,this.sad=n,t.call(this)}return tn(e,t),e.prototype.handleSubscribe=function(t){var e=new fn;this.g.add(e),ee(t)&&(t=ui(t)),e.setDisposable(t.subscribe(new n(this,e)))},e.prototype.next=function(t){this.activeCount<this.max?(this.activeCount++,this.handleSubscribe(t)):this.q.push(t)},e.prototype.error=function(t){this.o.onError(t)},e.prototype.completed=function(){this.done=!0,0===this.activeCount&&this.o.onCompleted()},tn(n,t),n.prototype.next=function(t){this.parent.o.onNext(t)},n.prototype.error=function(t){this.parent.o.onError(t)},n.prototype.completed=function(){this.parent.g.remove(this.sad),this.parent.q.length>0?this.parent.handleSubscribe(this.parent.q.shift()):(this.parent.activeCount--,this.parent.done&&0===this.parent.activeCount&&this.parent.o.onCompleted())},e}(Hn);Un.merge=function(t){return"number"!=typeof t?Wi(this,t):new Ri(this,t)};var Wi=Xn.merge=function(){var t,e,n=[],i=arguments.length;if(arguments[0])if(Cn(arguments[0]))for(t=arguments[0],e=1;i>e;e++)n.push(arguments[e]);else for(t=$n,e=0;i>e;e++)n.push(arguments[e]);else for(t=$n,e=1;i>e;e++)n.push(arguments[e]);return Array.isArray(n[0])&&(n=n[0]),V(t,n).mergeAll()},Ui=function(t){function e(e){this.source=e,t.call(this)}return tn(e,t),e.prototype.subscribeCore=function(t){var e=new sn,n=new fn;return e.add(n),n.setDisposable(this.source.subscribe(new Hi(t,e))),e},e}(Jn),Hi=function(t){function e(e,n){this.o=e,this.g=n,this.done=!1,t.call(this)}function n(e,n){this.parent=e,this.sad=n,t.call(this)}return tn(e,t),e.prototype.next=function(t){var e=new fn;this.g.add(e),ee(t)&&(t=ui(t)),e.setDisposable(t.subscribe(new n(this,e)))},e.prototype.error=function(t){this.o.onError(t)},e.prototype.completed=function(){this.done=!0,1===this.g.length&&this.o.onCompleted()},tn(n,t),n.prototype.next=function(t){this.parent.o.onNext(t)},n.prototype.error=function(t){this.parent.o.onError(t)},n.prototype.completed=function(){this.parent.g.remove(this.sad),this.parent.done&&1===this.parent.g.length&&this.parent.o.onCompleted()},e}(Hn);Un.mergeAll=function(){return new Ui(this)};var Gi=Kt.CompositeError=function(t){this.innerErrors=t,this.message="This contains multiple errors. Check the innerErrors",Error.call(this)};Gi.prototype=Object.create(Error.prototype),Gi.prototype.name="CompositeError";var Ki=function(t){function e(e){this.source=e,t.call(this)}return tn(e,t),e.prototype.subscribeCore=function(t){var e=new sn,n=new fn,i={isStopped:!1,errors:[],o:t};return e.add(n),n.setDisposable(this.source.subscribe(new Yi(e,i))),e},e}(Jn),Yi=function(t){function e(e,n){this._group=e,this._state=n,t.call(this)}function n(t,e){0===e.length?t.onCompleted():1===e.length?t.onError(e[0]):t.onError(new Gi(e))}function i(e,n,i){this._inner=e,this._group=n,this._state=i,t.call(this)}return tn(e,t),e.prototype.next=function(t){var e=new fn;this._group.add(e),ee(t)&&(t=ui(t)),e.setDisposable(t.subscribe(new i(e,this._group,this._state)))},e.prototype.error=function(t){this._state.errors.push(t),this._state.isStopped=!0,1===this._group.length&&n(this._state.o,this._state.errors)},e.prototype.completed=function(){this._state.isStopped=!0,1===this._group.length&&n(this._state.o,this._state.errors)},tn(i,t),i.prototype.next=function(t){this._state.o.onNext(t)},i.prototype.error=function(t){this._state.errors.push(t),this._group.remove(this._inner),this._state.isStopped&&1===this._group.length&&n(this._state.o,this._state.errors)},i.prototype.completed=function(){this._group.remove(this._inner),this._state.isStopped&&1===this._group.length&&n(this._state.o,this._state.errors)},e}(Hn);Xn.mergeDelayError=function(){var t;if(Array.isArray(arguments[0]))t=arguments[0];else{var e=arguments.length;t=new Array(e);for(var n=0;e>n;n++)t[n]=arguments[n]}var i=V(null,t);return new Ki(i)},Un.onErrorResumeNext=function(t){if(!t)throw new Error("Second observable is required");return Ji([this,t])};var Qi=function(t){function e(e){this.sources=e,t.call(this)}function n(t,e){if(t.pos<t.sources.length){var n=t.sources[t.pos++];ee(n)&&(n=ui(n));var i=new fn;t.subscription.setDisposable(i),i.setDisposable(n.subscribe(new Xi(t,e)))}else t.o.onCompleted()}return tn(e,t),e.prototype.subscribeCore=function(t){var e=new mn,i={pos:0,subscription:e,o:t,sources:this.sources},o=$n.scheduleRecursive(i,n);return new vn(e,o)},e}(Jn),Xi=function(t){function e(e,n){this._state=e,this._recurse=n,t.call(this)}return tn(e,t),e.prototype.next=function(t){this._state.o.onNext(t)},e.prototype.error=function(){this._recurse(this._state)},e.prototype.completed=function(){this._recurse(this._state)},e}(Hn),Ji=Xn.onErrorResumeNext=function(){var t=[];if(Array.isArray(arguments[0]))t=arguments[0];else{var e=arguments.length;t=new Array(e);for(var n=0;e>n;n++)t[n]=arguments[n]}return new Qi(t)},Zi=function(t){function e(e,n){this._s=e,this._o=ee(n)?ui(n):n,this._open=!1,t.call(this)}return tn(e,t),e.prototype.subscribeCore=function(t){var e=new fn;e.setDisposable(this._s.subscribe(new to(t,this))),ee(this._o)&&(this._o=ui(this._o));var n=new fn;return n.setDisposable(this._o.subscribe(new eo(t,this,n))),new vn(e,n)},e}(Jn),to=function(t){function e(e,n){this._o=e,this._p=n,t.call(this)}return tn(e,t),e.prototype.next=function(t){this._p._open&&this._o.onNext(t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.onCompleted=function(){this._p._open&&this._o.onCompleted()},e}(Hn),eo=function(t){function e(e,n,i){this._o=e,this._p=n,this._r=i,t.call(this)}return tn(e,t),e.prototype.next=function(){this._p._open=!0,this._r.dispose()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.onCompleted=function(){this._r.dispose()},e}(Hn);Un.skipUntil=function(t){return new Zi(this,t)};var no=function(t){function e(e){this.source=e,t.call(this)}function n(t,e){this.o=t,this.inner=e,this.stopped=!1,this.latest=0,this.hasLatest=!1,Hn.call(this)}function i(t,e){this.parent=t,this.id=e,Hn.call(this)}return tn(e,t),e.prototype.subscribeCore=function(t){var e=new mn,i=this.source.subscribe(new n(t,e));return new vn(i,e)},tn(n,Hn),n.prototype.next=function(t){var e=new fn,n=++this.latest;this.hasLatest=!0,this.inner.setDisposable(e),ee(t)&&(t=ui(t)),e.setDisposable(t.subscribe(new i(this,n)))},n.prototype.error=function(t){this.o.onError(t)},n.prototype.completed=function(){this.stopped=!0,!this.hasLatest&&this.o.onCompleted()},tn(i,Hn),i.prototype.next=function(t){this.parent.latest===this.id&&this.parent.o.onNext(t)},i.prototype.error=function(t){this.parent.latest===this.id&&this.parent.o.onError(t)},i.prototype.completed=function(){this.parent.latest===this.id&&(this.parent.hasLatest=!1,this.parent.stopped&&this.parent.o.onCompleted())},e}(Jn);Un["switch"]=Un.switchLatest=function(){return new no(this)};var io=function(t){function e(e,n){this.source=e,this.other=ee(n)?ui(n):n,t.call(this)}return tn(e,t),e.prototype.subscribeCore=function(t){return new vn(this.source.subscribe(t),this.other.subscribe(new oo(t)))},e}(Jn),oo=function(t){function e(e){this._o=e,t.call(this)}return tn(e,t),e.prototype.next=function(){this._o.onCompleted()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.onCompleted=Yt,e}(Hn);Un.takeUntil=function(t){return new io(this,t)};var ro=function(t){function e(e,n,i){this._s=e,this._ss=n,this._cb=i,t.call(this)}return tn(e,t),e.prototype.subscribeCore=function(t){for(var e=this._ss.length,n={hasValue:k(e,R),hasValueAll:!1,values:new Array(e)},i=this._ss.length,o=new Array(i+1),r=0;i>r;r++){var s=this._ss[r],a=new fn;ee(s)&&(s=ui(s)),a.setDisposable(s.subscribe(new so(t,r,n))),o[r]=a}var c=new fn;return c.setDisposable(this._s.subscribe(new ao(t,this._cb,n))),o[i]=c,new gn(o)},e}(Jn),so=function(t){function e(e,n,i){this._o=e,this._i=n,this._state=i,t.call(this)}return tn(e,t),e.prototype.next=function(t){this._state.values[this._i]=t,this._state.hasValue[this._i]=!0,this._state.hasValueAll=this._state.hasValue.every(Qt)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=Yt,e}(Hn),ao=function(t){function e(e,n,i){this._o=e,this._cb=n,this._state=i,t.call(this)}return tn(e,t),e.prototype.next=function(t){var e=[t].concat(this._state.values);if(this._state.hasValueAll){var n=oe(this._cb).apply(null,e);return n===ie?this._o.onError(n.e):void this._o.onNext(n)}},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Hn);Un.withLatestFrom=function(){if(0===arguments.length)throw new Error("invalid arguments");for(var t=arguments.length,e=new Array(t),n=0;t>n;n++)e[n]=arguments[n];var i=ne(e[t-1])?e.pop():z;return Array.isArray(e[0])&&(e=e[0]),new ro(this,e,i)};var co=function(t){function e(e,n){this._s=e,this._cb=n,t.call(this)}return tn(e,t),e.prototype.subscribeCore=function(t){for(var e=this._s.length,n=new Array(e),i=k(e,R),o=k(e,W),r=0;e>r;r++){var s=this._s[r],a=new fn;n[r]=a,ee(s)&&(s=ui(s)),a.setDisposable(s.subscribe(new lo(t,r,this,o,i)))}return new gn(n)},e}(Jn),lo=function(t){function e(e,n,i,o,r){this._o=e,this._i=n,this._p=i,this._q=o,this._d=r,t.call(this)}function n(t){return t.length>0}function i(t){return t.shift()}function o(t){return function(e,n){return n!==t}}return tn(e,t),e.prototype.next=function(t){if(this._q[this._i].push(t),this._q.every(n)){var e=this._q.map(i),r=oe(this._p._cb).apply(null,e);if(r===ie)return this._o.onError(r.e);this._o.onNext(r)}else this._d.filter(o(this._i)).every(Qt)&&this._o.onCompleted()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._d[this._i]=!0,this._d.every(Qt)&&this._o.onCompleted()},e}(Hn);Un.zip=function(){if(0===arguments.length)throw new Error("invalid arguments");for(var t=arguments.length,e=new Array(t),n=0;t>n;n++)e[n]=arguments[n];var i=ne(e[t-1])?e.pop():z;Array.isArray(e[0])&&(e=e[0]);var o=this;return e.unshift(o),new co(e,i)},Xn.zip=function(){for(var t=arguments.length,e=new Array(t),n=0;t>n;n++)e[n]=arguments[n];Array.isArray(e[0])&&(e=ne(e[1])?e[0].concat(e[1]):e[0]);var i=e.shift();return i.zip.apply(i,e)};var uo=function(t){function e(e,n){this.sources=e,this._cb=n,t.call(this)}return tn(e,t),e.prototype.subscribeCore=function(t){for(var e=this.sources,n=e.length,i=new Array(n),o={q:k(n,W),done:k(n,R),cb:this._cb,o:t},r=0;n>r;r++)!function(t){var n=e[t],r=new fn;(ye(n)||be(n))&&(n=yi(n)),i[t]=r,r.setDisposable(n.subscribe(new ho(o,t)))}(r);return new gn(i)},e}(Jn),ho=function(t){function e(e,n){this._s=e,this._i=n,t.call(this)}function n(t){return t.length>0}function i(t){return t.shift()}function o(t){return function(e,n){return n!==t}}return tn(e,t),e.prototype.next=function(t){if(this._s.q[this._i].push(t),this._s.q.every(n)){var e=this._s.q.map(i),r=oe(this._s.cb).apply(null,e);if(r===ie)return this._s.o.onError(r.e);this._s.o.onNext(r)}else this._s.done.filter(o(this._i)).every(Qt)&&this._s.o.onCompleted()},e.prototype.error=function(t){this._s.o.onError(t)},e.prototype.completed=function(){this._s.done[this._i]=!0,this._s.done.every(Qt)&&this._s.o.onCompleted()},e}(Hn);Un.zipIterable=function(){if(0===arguments.length)throw new Error("invalid arguments");for(var t=arguments.length,e=new Array(t),n=0;t>n;n++)e[n]=arguments[n];var i=ne(e[t-1])?e.pop():z,o=this;return e.unshift(o),new uo(e,i)},Un.asObservable=function(){return new As(U(this),this)},Un.bufferWithCount=function(t,e){return"number"!=typeof e&&(e=t),this.windowWithCount(t,e).flatMap(H).filter(G)};var po=function(t){function e(e){this.source=e,t.call(this)}return tn(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new fo(t))},e}(Jn),fo=function(t){function e(e){this._o=e,t.call(this)}return tn(e,t),e.prototype.next=function(t){t.accept(this._o)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Hn);Un.dematerialize=function(){return new po(this)};var mo=function(t){function e(e,n,i){this.source=e,this.keyFn=n,this.comparer=i,t.call(this)}return tn(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new vo(t,this.keyFn,this.comparer))},e}(Jn),vo=function(t){function e(e,n,i){this.o=e,this.keyFn=n,this.comparer=i,this.hasCurrentKey=!1,this.currentKey=null,t.call(this)}return tn(e,t),e.prototype.next=function(t){var e,n=t;return ne(this.keyFn)&&(n=oe(this.keyFn)(t),n===ie)?this.o.onError(n.e):this.hasCurrentKey&&(e=oe(this.comparer)(this.currentKey,n),e===ie)?this.o.onError(e.e):void(this.hasCurrentKey&&e||(this.hasCurrentKey=!0,this.currentKey=n,this.o.onNext(t)))},e.prototype.error=function(t){this.o.onError(t)},e.prototype.completed=function(){this.o.onCompleted()},e}(Hn);Un.distinctUntilChanged=function(t,e){return e||(e=Jt),new mo(this,t,e)};var go=function(t){function e(e,n,i,o){this.source=e,this._oN=n,this._oE=i,this._oC=o,t.call(this)}function n(t,e){this.o=t,this.t=!e._oN||ne(e._oN)?Wn(e._oN||Yt,e._oE||Yt,e._oC||Yt):e._oN,this.isStopped=!1,Hn.call(this)}return tn(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new n(t,this))},tn(n,Hn),n.prototype.next=function(t){var e=oe(this.t.onNext).call(this.t,t);e===ie&&this.o.onError(e.e),this.o.onNext(t)},n.prototype.error=function(t){var e=oe(this.t.onError).call(this.t,t);return e===ie?this.o.onError(e.e):void this.o.onError(t)},n.prototype.completed=function(){var t=oe(this.t.onCompleted).call(this.t);return t===ie?this.o.onError(t.e):void this.o.onCompleted()},e}(Jn);Un["do"]=Un.tap=Un.doAction=function(t,e,n){return new go(this,t,e,n)},Un.doOnNext=Un.tapOnNext=function(t,e){return this.tap("undefined"!=typeof e?function(n){t.call(e,n)}:t)},Un.doOnError=Un.tapOnError=function(t,e){return this.tap(Yt,"undefined"!=typeof e?function(n){t.call(e,n)}:t)},Un.doOnCompleted=Un.tapOnCompleted=function(t,e){return this.tap(Yt,null,"undefined"!=typeof e?function(){t.call(e)}:t)};var bo=function(t){function e(e,n,i){this.source=e,this._fn=we(n,i,0),t.call(this)}function n(t,e){this.isDisposed=!1,this._s=t,this._fn=e}return tn(e,t),e.prototype.subscribeCore=function(t){var e=oe(this.source.subscribe).call(this.source,t);return e===ie&&(this._fn(),u(e.e)),new n(e,this._fn)},n.prototype.dispose=function(){if(!this.isDisposed){var t=oe(this._s.dispose).call(this._s);this._fn(),t===ie&&u(t.e)}},e}(Jn);Un["finally"]=function(t,e){return new bo(this,t,e)};var yo=function(t){function e(e){this.source=e,t.call(this)}function n(t){this.o=t,this.isStopped=!1}return tn(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new n(t))},n.prototype.onNext=Yt,n.prototype.onError=function(t){this.isStopped||(this.isStopped=!0,this.o.onError(t))},n.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.o.onCompleted())},n.prototype.dispose=function(){this.isStopped=!0},n.prototype.fail=function(t){return this.isStopped?!1:(this.isStopped=!0,this.observer.onError(t),!0)},e}(Jn);Un.ignoreElements=function(){return new yo(this)};var wo=function(t){function e(e,n){this.source=e,t.call(this)}return tn(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new _o(t))},e}(Jn),_o=function(t){function e(e){this._o=e,t.call(this)}return tn(e,t),e.prototype.next=function(t){this._o.onNext(Bn(t))},e.prototype.error=function(t){this._o.onNext(qn(t)),this._o.onCompleted()},e.prototype.completed=function(){this._o.onNext(Rn()),this._o.onCompleted()},e}(Hn);Un.materialize=function(){return new wo(this)},Un.repeat=function(t){return oi(this,t).concat()},Un.retry=function(t){return oi(this,t).catchError()};var Co=function(t){function e(t){return{isDisposed:!1,dispose:function(){this.isDisposed||(this.isDisposed=!0,t.isDisposed=!0)}}}function n(e,n){this.source=e,this._notifier=n,t.call(this)}return tn(n,t),n.prototype.subscribeCore=function(t){var n,i=new Os,o=new Os,r=this._notifier(i),s=r.subscribe(o),a=this.source["@@iterator"](),c={isDisposed:!1},l=new mn,u=Dn.scheduleRecursive(null,function(e,r){if(!c.isDisposed){var s=a.next();if(s.done)return void(n?t.onError(n):t.onCompleted());var u=s.value;ee(u)&&(u=ui(u));var h=new fn,p=new fn;l.setDisposable(new vn(p,h)),h.setDisposable(u.subscribe(function(e){t.onNext(e)},function(e){p.setDisposable(o.subscribe(r,function(e){t.onError(e)},function(){t.onCompleted()})),i.onNext(e),h.dispose()},function(){t.onCompleted()}))}});return new gn([s,l,u,e(c)])},n}(Jn);Un.retryWhen=function(t){return new Co(K(this),t)};var xo=function(t){function e(t){return{isDisposed:!1,dispose:function(){this.isDisposed||(this.isDisposed=!0,t.isDisposed=!0)}}}function n(e,n){this.source=e,this._notifier=n,t.call(this)}return tn(n,t),n.prototype.subscribeCore=function(t){var n,i=new Os,o=new Os,r=this._notifier(i),s=r.subscribe(o),a=this.source["@@iterator"](),c={
isDisposed:!1},l=new mn,u=Dn.scheduleRecursive(null,function(e,r){if(!c.isDisposed){var s=a.next();if(s.done)return void(n?t.onError(n):t.onCompleted());var u=s.value;ee(u)&&(u=ui(u));var h=new fn,p=new fn;l.setDisposable(new vn(p,h)),h.setDisposable(u.subscribe(function(e){t.onNext(e)},function(e){t.onError(e)},function(){p.setDisposable(o.subscribe(r,function(e){t.onError(e)},function(){t.onCompleted()})),i.onNext(null),h.dispose()}))}});return new gn([s,l,u,e(c)])},n}(Jn);Un.repeatWhen=function(t){return new xo(K(this),t)};var No=function(t){function e(e,n,i,o){this.source=e,this.accumulator=n,this.hasSeed=i,this.seed=o,t.call(this)}return tn(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new So(t,this))},e}(Jn),So=function(t){function e(e,n){this._o=e,this._p=n,this._fn=n.accumulator,this._hs=n.hasSeed,this._s=n.seed,this._ha=!1,this._a=null,this._hv=!1,this._i=0,t.call(this)}return tn(e,t),e.prototype.next=function(t){return!this._hv&&(this._hv=!0),this._ha?this._a=oe(this._fn)(this._a,t,this._i,this._p):(this._a=this._hs?oe(this._fn)(this._s,t,this._i,this._p):t,this._ha=!0),this._a===ie?this._o.onError(this._a.e):(this._o.onNext(this._a),void this._i++)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){!this._hv&&this._hs&&this._o.onNext(this._s),this._o.onCompleted()},e}(Hn);Un.scan=function(){var t,e=!1,n=arguments[0];return 2===arguments.length&&(e=!0,t=arguments[1]),new No(this,n,e,t)};var ko=function(t){function e(e,n){this.source=e,this._c=n,t.call(this)}return tn(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new $o(t,this._c))},e}(Jn),$o=function(t){function e(e,n){this._o=e,this._c=n,this._q=[],t.call(this)}return tn(e,t),e.prototype.next=function(t){this._q.push(t),this._q.length>this._c&&this._o.onNext(this._q.shift())},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Hn);Un.skipLast=function(t){if(0>t)throw new pe;return new ko(this,t)},Un.startWith=function(){var t,e=0;arguments.length&&Cn(arguments[0])?(t=arguments[0],e=1):t=$n;for(var n=[],i=e,o=arguments.length;o>i;i++)n.push(arguments[i]);return si([_i(n,t),this]).concat()};var Eo=function(t){function e(e,n){this._o=e,this._c=n,this._q=[],t.call(this)}return tn(e,t),e.prototype.next=function(t){this._q.push(t),this._q.length>this._c&&this._q.shift()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){for(;this._q.length>0;)this._o.onNext(this._q.shift());this._o.onCompleted()},e}(Hn);Un.takeLast=function(t){if(0>t)throw new pe;var e=this;return new As(function(n){return e.subscribe(new Eo(n,t))},e)};var Do=function(t){function e(e,n){this._o=e,this._c=n,this._q=[],t.call(this)}return tn(e,t),e.prototype.next=function(t){this._q.push(t),this._q.length>this._c&&this._q.shift()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(this._q),this._o.onCompleted()},e}(Hn);Un.takeLastBuffer=function(t){if(0>t)throw new pe;var e=this;return new As(function(n){return e.subscribe(new Do(n,t))},e)},Un.windowWithCount=function(t,e){var n=this;if(+t||(t=0),Math.abs(t)===1/0&&(t=0),0>=t)throw new pe;if(null==e&&(e=t),+e||(e=0),Math.abs(e)===1/0&&(e=0),0>=e)throw new pe;return new As(function(i){function o(){var t=new Os;c.push(t),i.onNext(nn(t,s))}var r=new fn,s=new bn(r),a=0,c=[];return o(),r.setDisposable(n.subscribe(function(n){for(var i=0,r=c.length;r>i;i++)c[i].onNext(n);var s=a-t+1;s>=0&&s%e===0&&c.shift().onCompleted(),++a%e===0&&o()},function(t){for(;c.length>0;)c.shift().onError(t);i.onError(t)},function(){for(;c.length>0;)c.shift().onCompleted();i.onCompleted()})),s},n)},Un.selectConcat=Un.concatMap=function(t,e,n){return ne(t)&&ne(e)?this.concatMap(function(n,i){var o=t(n,i);return ee(o)&&(o=ui(o)),(ye(o)||be(o))&&(o=yi(o)),o.map(function(t,o){return e(n,t,i,o)})}):ne(t)?Y(this,t,n):Y(this,function(){return t})},Un.concatMapObserver=Un.selectConcatObserver=function(t,e,n,i){var o=this,r=we(t,i,2),s=we(e,i,1),a=we(n,i,0);return new As(function(t){var e=0;return o.subscribe(function(n){var i;try{i=r(n,e++)}catch(o){return void t.onError(o)}ee(i)&&(i=ui(i)),t.onNext(i)},function(e){var n;try{n=s(e)}catch(i){return void t.onError(i)}ee(n)&&(n=ui(n)),t.onNext(n),t.onCompleted()},function(){var e;try{e=a()}catch(n){return void t.onError(n)}ee(e)&&(e=ui(e)),t.onNext(e),t.onCompleted()})},this).concatAll()};var Ao=function(t){function e(e,n){this._o=e,this._d=n,this._f=!1,t.call(this)}return tn(e,t),e.prototype.next=function(t){this._f=!0,this._o.onNext(t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){!this._f&&this._o.onNext(this._d),this._o.onCompleted()},e}(Hn);Un.defaultIfEmpty=function(t){var e=this;return t===s&&(t=null),new As(function(n){return e.subscribe(new Ao(n,t))},e)},X.prototype.push=function(t){var e=-1===Q(this.set,t,this.comparer);return e&&this.set.push(t),e};var To=function(t){function e(e,n,i){this.source=e,this._keyFn=n,this._cmpFn=i,t.call(this)}return tn(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Mo(t,this._keyFn,this._cmpFn))},e}(Jn),Mo=function(t){function e(e,n,i){this._o=e,this._keyFn=n,this._h=new X(i),t.call(this)}return tn(e,t),e.prototype.next=function(t){var e=t;return ne(this._keyFn)&&(e=oe(this._keyFn)(t),e===ie)?this._o.onError(e.e):void(this._h.push(e)&&this._o.onNext(t))},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Hn);Un.distinct=function(t,e){return e||(e=Jt),new To(this,t,e)},Un.groupBy=function(t,e){return this.groupByUntil(t,e,Si)},Un.groupByUntil=function(t,e,n){var i=this;return new As(function(o){var r=new Gr,a=new sn,c=new bn(a),l=function(t){return function(e){e.onError(t)}};return a.add(i.subscribe(function(i){var u=oe(t)(i);if(u===ie)return r.forEach(l(u.e)),o.onError(u.e);var h=!1,p=r.get(u);if(p===s&&(p=new Os,r.set(u,p),h=!0),h){var d=new Fs(u,p,c),f=new Fs(u,p),m=oe(n)(f);if(m===ie)return r.forEach(l(m.e)),o.onError(m.e);o.onNext(d);var v=new fn;a.add(v),v.setDisposable(m.take(1).subscribe(Yt,function(t){r.forEach(l(t)),o.onError(t)},function(){r["delete"](u)&&p.onCompleted(),a.remove(v)}))}var g=i;return ne(e)&&(g=oe(e)(i),g===ie)?(r.forEach(l(g.e)),o.onError(g.e)):void p.onNext(g)},function(t){r.forEach(l(t)),o.onError(t)},function(){r.forEach(function(t){t.onCompleted()}),o.onCompleted()})),c},i)};var Fo=function(t){function e(e,n,i){this.source=e,this.selector=we(n,i,3),t.call(this)}function n(t,e){return function(n,i,o){return t.call(this,e.selector(n,i,o),i,o)}}function i(t,e,n){this.o=t,this.selector=e,this.source=n,this.i=0,Hn.call(this)}return tn(e,t),e.prototype.internalMap=function(t,i){return new e(this.source,n(t,this),i)},e.prototype.subscribeCore=function(t){return this.source.subscribe(new i(t,this.selector,this))},tn(i,Hn),i.prototype.next=function(t){var e=oe(this.selector)(t,this.i++,this.source);return e===ie?this.o.onError(e.e):void this.o.onNext(e)},i.prototype.error=function(t){this.o.onError(t)},i.prototype.completed=function(){this.o.onCompleted()},e}(Jn);Un.map=Un.select=function(t,e){var n="function"==typeof t?t:function(){return t};return this instanceof Fo?this.internalMap(n,e):new Fo(this,n,e)},Un.pluck=function(){var t=arguments.length,e=new Array(t);if(0===t)throw new Error("List of properties cannot be empty.");for(var n=0;t>n;n++)e[n]=arguments[n];return this.map(J(e,t))},Un.flatMap=Un.selectMany=function(t,e,n){return new Zn(this,t,e,n).mergeAll()},Un.flatMapObserver=Un.selectManyObserver=function(t,e,n,i){var o=this;return new As(function(r){var s=0;return o.subscribe(function(e){var n;try{n=t.call(i,e,s++)}catch(o){return void r.onError(o)}ee(n)&&(n=ui(n)),r.onNext(n)},function(t){var n;try{n=e.call(i,t)}catch(o){return void r.onError(o)}ee(n)&&(n=ui(n)),r.onNext(n),r.onCompleted()},function(){var t;try{t=n.call(i)}catch(e){return void r.onError(e)}ee(t)&&(t=ui(t)),r.onNext(t),r.onCompleted()})},o).mergeAll()},Kt.Observable.prototype.flatMapLatest=function(t,e,n){return new Zn(this,t,e,n).switchLatest()};var Oo=function(t){function e(e,n){this.source=e,this._count=n,t.call(this)}function n(t,e){this._o=t,this._r=e,Hn.call(this)}return tn(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new n(t,this._count))},tn(n,Hn),n.prototype.next=function(t){this._r<=0?this._o.onNext(t):this._r--},n.prototype.error=function(t){this._o.onError(t)},n.prototype.completed=function(){this._o.onCompleted()},e}(Jn);Un.skip=function(t){if(0>t)throw new pe;return new Oo(this,t)};var Po=function(t){function e(e,n){this.source=e,this._fn=n,t.call(this)}return tn(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Io(t,this))},e}(Jn),Io=function(t){function e(e,n){this._o=e,this._p=n,this._i=0,this._r=!1,t.call(this)}return tn(e,t),e.prototype.next=function(t){if(!this._r){var e=oe(this._p._fn)(t,this._i++,this._p);if(e===ie)return this._o.onError(e.e);this._r=!e}this._r&&this._o.onNext(t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Hn);Un.skipWhile=function(t,e){var n=we(t,e,3);return new Po(this,n)};var jo=function(t){function e(e,n){this.source=e,this._count=n,t.call(this)}function n(t,e){this._o=t,this._c=e,this._r=e,Hn.call(this)}return tn(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new n(t,this._count))},tn(n,Hn),n.prototype.next=function(t){this._r-- >0&&(this._o.onNext(t),this._r<=0&&this._o.onCompleted())},n.prototype.error=function(t){this._o.onError(t)},n.prototype.completed=function(){this._o.onCompleted()},e}(Jn);Un.take=function(t,e){if(0>t)throw new pe;return 0===t?vi(e):new jo(this,t)};var Lo=function(t){function e(e,n){this.source=e,this._fn=n,t.call(this)}return tn(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Vo(t,this))},e}(Jn),Vo=function(t){function e(e,n){this._o=e,this._p=n,this._i=0,this._r=!0,t.call(this)}return tn(e,t),e.prototype.next=function(t){return this._r&&(this._r=oe(this._p._fn)(t,this._i++,this._p),this._r===ie)?this._o.onError(this._r.e):void(this._r?this._o.onNext(t):this._o.onCompleted())},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Hn);Un.takeWhile=function(t,e){var n=we(t,e,3);return new Lo(this,n)};var Bo=function(t){function e(e,n,i){this.source=e,this.predicate=we(n,i,3),t.call(this)}function n(t,e){return function(n,i,o){return e.predicate(n,i,o)&&t.call(this,n,i,o)}}function i(t,e,n){this.o=t,this.predicate=e,this.source=n,this.i=0,Hn.call(this)}return tn(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new i(t,this.predicate,this))},e.prototype.internalFilter=function(t,i){return new e(this.source,n(t,this),i)},tn(i,Hn),i.prototype.next=function(t){var e=oe(this.predicate)(t,this.i++,this.source);return e===ie?this.o.onError(e.e):void(e&&this.o.onNext(t))},i.prototype.error=function(t){this.o.onError(t)},i.prototype.completed=function(){this.o.onCompleted()},e}(Jn);Un.filter=Un.where=function(t,e){return this instanceof Bo?this.internalFilter(t,e):new Bo(this,t,e)};var qo=function(t){function e(e,n,i){this.source=e,this._k=n,this._c=i,t.call(this)}return tn(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Ro(t,this._k,this._c))},e}(Jn),Ro=function(t){function e(e,n,i){this._o=e,this._k=n,this._c=i,this._v=null,this._hv=!1,this._l=[],t.call(this)}return tn(e,t),e.prototype.next=function(t){var e=oe(this._k)(t);if(e===ie)return this._o.onError(e.e);var n=0;if(this._hv){if(n=oe(this._c)(e,this._v),n===ie)return this._o.onError(n.e)}else this._hv=!0,this._v=e;n>0&&(this._v=e,this._l=[]),n>=0&&this._l.push(t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(this._l),this._o.onCompleted()},e}(Hn),zo=function(t){function e(e,n,i,o){this.source=e,this.accumulator=n,this.hasSeed=i,this.seed=o,t.call(this)}return tn(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Wo(t,this))},e}(Jn),Wo=function(t){function e(e,n){this._o=e,this._p=n,this._fn=n.accumulator,this._hs=n.hasSeed,this._s=n.seed,this._ha=!1,this._a=null,this._hv=!1,this._i=0,t.call(this)}return tn(e,t),e.prototype.next=function(t){return!this._hv&&(this._hv=!0),this._ha?this._a=oe(this._fn)(this._a,t,this._i,this._p):(this._a=this._hs?oe(this._fn)(this._s,t,this._i,this._p):t,this._ha=!0),this._a===ie?this._o.onError(this._a.e):void this._i++},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._hv&&this._o.onNext(this._a),!this._hv&&this._hs&&this._o.onNext(this._s),!this._hv&&!this._hs&&this._o.onError(new ue),this._o.onCompleted()},e}(Hn);Un.reduce=function(){var t,e=!1,n=arguments[0];return 2===arguments.length&&(e=!0,t=arguments[1]),new zo(this,n,e,t)};var Uo=function(t){function e(e,n){this.source=e,this._fn=n,t.call(this)}return tn(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Ho(t,this._fn,this.source))},e}(Jn),Ho=function(t){function e(e,n,i){this._o=e,this._fn=n,this._s=i,this._i=0,t.call(this)}return tn(e,t),e.prototype.next=function(t){var e=oe(this._fn)(t,this._i++,this._s);return e===ie?this._o.onError(e.e):void(Boolean(e)&&(this._o.onNext(!0),this._o.onCompleted()))},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(!1),this._o.onCompleted()},e}(Hn);Un.some=function(t,e){var n=we(t,e,3);return new Uo(this,n)};var Go=function(t){function e(e){this.source=e,t.call(this)}return tn(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Ko(t))},e}(Jn),Ko=function(t){function e(e){this._o=e,t.call(this)}return tn(e,t),e.prototype.next=function(){this._o.onNext(!1),this._o.onCompleted()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(!0),this._o.onCompleted()},e}(Hn);Un.isEmpty=function(){return new Go(this)};var Yo=function(t){function e(e,n){this.source=e,this._fn=n,t.call(this)}return tn(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Qo(t,this._fn,this.source))},e}(Jn),Qo=function(t){function e(e,n,i){this._o=e,this._fn=n,this._s=i,this._i=0,t.call(this)}return tn(e,t),e.prototype.next=function(t){var e=oe(this._fn)(t,this._i++,this._s);return e===ie?this._o.onError(e.e):void(Boolean(e)||(this._o.onNext(!1),this._o.onCompleted()))},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(!0),this._o.onCompleted()},e}(Hn);Un.every=function(t,e){var n=we(t,e,3);return new Yo(this,n)};var Xo=function(t){function e(e,n,i){var o=+i||0;Math.abs(o)===1/0&&(o=0),this.source=e,this._elem=n,this._n=o,t.call(this)}return tn(e,t),e.prototype.subscribeCore=function(t){return this._n<0?(t.onNext(!1),t.onCompleted(),un):this.source.subscribe(new Jo(t,this._elem,this._n))},e}(Jn),Jo=function(t){function e(e,n,i){this._o=e,this._elem=n,this._n=i,this._i=0,t.call(this)}function n(t,e){return 0===t&&0===e||t===e||isNaN(t)&&isNaN(e)}return tn(e,t),e.prototype.next=function(t){this._i++>=this._n&&n(t,this._elem)&&(this._o.onNext(!0),this._o.onCompleted())},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(!1),this._o.onCompleted()},e}(Hn);Un.includes=function(t,e){return new Xo(this,t,e)};var Zo=function(t){function e(e,n){this.source=e,this._fn=n,t.call(this)}return tn(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new tr(t,this._fn,this.source))},e}(Jn),tr=function(t){function e(e,n,i){this._o=e,this._fn=n,this._s=i,this._i=0,this._c=0,t.call(this)}return tn(e,t),e.prototype.next=function(t){if(this._fn){var e=oe(this._fn)(t,this._i++,this._s);if(e===ie)return this._o.onError(e.e);Boolean(e)&&this._c++}else this._c++},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(this._c),this._o.onCompleted()},e}(Hn);Un.count=function(t,e){var n=we(t,e,3);return new Zo(this,n)};var er=function(t){function e(e,n,i){this.source=e,this._e=n,this._n=i,t.call(this)}return tn(e,t),e.prototype.subscribeCore=function(t){return this._n<0?(t.onNext(-1),t.onCompleted(),un):this.source.subscribe(new nr(t,this._e,this._n))},e}(Jn),nr=function(t){function e(e,n,i){this._o=e,this._e=n,this._n=i,this._i=0,t.call(this)}return tn(e,t),e.prototype.next=function(t){this._i>=this._n&&t===this._e&&(this._o.onNext(this._i),this._o.onCompleted()),this._i++},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(-1),this._o.onCompleted()},e}(Hn);Un.indexOf=function(t,e){var n=+e||0;return Math.abs(n)===1/0&&(n=0),new er(this,t,n)};var ir=function(t){function e(e,n){this.source=e,this._fn=n,t.call(this)}return tn(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new or(t,this._fn,this.source))},e}(Jn),or=function(t){function e(e,n,i){this._o=e,this._fn=n,this._s=i,this._i=0,this._c=0,t.call(this)}return tn(e,t),e.prototype.next=function(t){if(this._fn){var e=oe(this._fn)(t,this._i++,this._s);if(e===ie)return this._o.onError(e.e);this._c+=e}else this._c+=t},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(this._c),this._o.onCompleted()},e}(Hn);Un.sum=function(t,e){var n=we(t,e,3);return new ir(this,n)},Un.minBy=function(t,e){return e||(e=Zt),new qo(this,t,function(t,n){return-1*e(t,n)})},Un.min=function(t){return this.minBy(Qt,t).map(Z)},Un.maxBy=function(t,e){return e||(e=Zt),new qo(this,t,e)},Un.max=function(t){return this.maxBy(Qt,t).map(Z)};var rr=function(t){function e(e,n){this.source=e,this._fn=n,t.call(this)}return tn(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new sr(t,this._fn,this.source))},e}(Jn),sr=function(t){function e(e,n,i){this._o=e,this._fn=n,this._s=i,this._c=0,this._t=0,t.call(this)}return tn(e,t),e.prototype.next=function(t){if(this._fn){var e=oe(this._fn)(t,this._c++,this._s);if(e===ie)return this._o.onError(e.e);this._t+=e}else this._c++,this._t+=t},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){return 0===this._c?this._o.onError(new ue):(this._o.onNext(this._t/this._c),void this._o.onCompleted())},e}(Hn);Un.average=function(t,e){var n,i=this;return ne(t)&&(n=we(t,e,3)),new rr(i,n)},Un.sequenceEqual=function(t,e){var n=this;return e||(e=Jt),new As(function(i){var o=!1,r=!1,s=[],a=[],c=n.subscribe(function(t){if(a.length>0){var n=a.shift(),o=oe(e)(n,t);if(o===ie)return i.onError(o.e);o||(i.onNext(!1),i.onCompleted())}else r?(i.onNext(!1),i.onCompleted()):s.push(t)},function(t){i.onError(t)},function(){o=!0,0===s.length&&(a.length>0?(i.onNext(!1),i.onCompleted()):r&&(i.onNext(!0),i.onCompleted()))});(ye(t)||be(t))&&(t=yi(t)),ee(t)&&(t=ui(t));var l=t.subscribe(function(t){if(s.length>0){var n=s.shift(),r=oe(e)(n,t);if(r===ie)return i.onError(r.e);r||(i.onNext(!1),i.onCompleted())}else o?(i.onNext(!1),i.onCompleted()):a.push(t)},function(t){i.onError(t)},function(){r=!0,0===a.length&&(s.length>0?(i.onNext(!1),i.onCompleted()):o&&(i.onNext(!0),i.onCompleted()))});return new vn(c,l)},n)};var ar=function(t){function e(e,n,i){this.source=e,this._i=n,this._d=i,t.call(this)}return tn(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new cr(t,this._i,this._d))},e}(Jn),cr=function(t){function e(e,n,i){this._o=e,this._i=n,this._d=i,t.call(this)}return tn(e,t),e.prototype.next=function(t){0===this._i--&&(this._o.onNext(t),this._o.onCompleted())},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._d===s?this._o.onError(new pe):(this._o.onNext(this._d),this._o.onCompleted())},e}(Hn);Un.elementAt=function(t,e){if(0>t)throw new pe;return new ar(this,t,e)};var lr=function(t){function e(e,n,i){this._o=e,this._obj=n,this._s=i,this._i=0,this._hv=!1,this._v=null,t.call(this)}return tn(e,t),e.prototype.next=function(t){var e=!1;if(this._obj.predicate){var n=oe(this._obj.predicate)(t,this._i++,this._s);if(n===ie)return this._o.onError(n.e);Boolean(n)&&(e=!0)}else this._obj.predicate||(e=!0);if(e){if(this._hv)return this._o.onError(new Error("Sequence contains more than one matching element"));this._hv=!0,this._v=t}},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._hv?(this._o.onNext(this._v),this._o.onCompleted()):this._obj.defaultValue===s?this._o.onError(new ue):(this._o.onNext(this._obj.defaultValue),this._o.onCompleted())},e}(Hn);Un.single=function(t,e){var n={},i=this;if(n="object"==typeof arguments[0]?arguments[0]:{predicate:arguments[0],thisArg:arguments[1],defaultValue:arguments[2]},ne(n.predicate)){var o=n.predicate;n.predicate=we(o,n.thisArg,3)}return new As(function(t){return i.subscribe(new lr(t,n,i))},i)};var ur=function(t){function e(e,n){this.source=e,this._obj=n,t.call(this)}return tn(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new hr(t,this._obj,this.source))},e}(Jn),hr=function(t){function e(e,n,i){this._o=e,this._obj=n,this._s=i,this._i=0,t.call(this)}return tn(e,t),e.prototype.next=function(t){if(this._obj.predicate){var e=oe(this._obj.predicate)(t,this._i++,this._s);if(e===ie)return this._o.onError(e.e);Boolean(e)&&(this._o.onNext(t),this._o.onCompleted())}else this._obj.predicate||(this._o.onNext(t),this._o.onCompleted())},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._obj.defaultValue===s?this._o.onError(new ue):(this._o.onNext(this._obj.defaultValue),this._o.onCompleted())},e}(Hn);Un.first=function(){var t={};if(t="object"==typeof arguments[0]?arguments[0]:{predicate:arguments[0],thisArg:arguments[1],defaultValue:arguments[2]},ne(t.predicate)){var e=t.predicate;t.predicate=we(e,t.thisArg,3)}return new ur(this,t)};var pr=function(t){function e(e,n){this.source=e,this._obj=n,t.call(this)}return tn(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new dr(t,this._obj,this.source))},e}(Jn),dr=function(t){function e(e,n,i){this._o=e,this._obj=n,this._s=i,this._i=0,this._hv=!1,this._v=null,t.call(this)}return tn(e,t),e.prototype.next=function(t){var e=!1;if(this._obj.predicate){var n=oe(this._obj.predicate)(t,this._i++,this._s);if(n===ie)return this._o.onError(n.e);Boolean(n)&&(e=!0)}else this._obj.predicate||(e=!0);e&&(this._hv=!0,this._v=t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._hv?(this._o.onNext(this._v),this._o.onCompleted()):this._obj.defaultValue===s?this._o.onError(new ue):(this._o.onNext(this._obj.defaultValue),this._o.onCompleted())},e}(Hn);Un.last=function(){var t={};if(t="object"==typeof arguments[0]?arguments[0]:{predicate:arguments[0],thisArg:arguments[1],defaultValue:arguments[2]},ne(t.predicate)){var e=t.predicate;t.predicate=we(e,t.thisArg,3)}return new pr(this,t)};var fr=function(t){function e(e,n,i,o){this._o=e,this._s=n,this._cb=i,this._y=o,this._i=0,t.call(this)}return tn(e,t),e.prototype.next=function(t){var e=oe(this._cb)(t,this._i,this._s);return e===ie?this._o.onError(e.e):void(e?(this._o.onNext(this._y?this._i:t),this._o.onCompleted()):this._i++)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._y&&this._o.onNext(-1),this._o.onCompleted()},e}(Hn);Un.find=function(t,e){return tt(this,t,e,!1)},Un.findIndex=function(t,e){return tt(this,t,e,!0)};var mr=function(t){function e(e){this.source=e,t.call(this)}return tn(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new vr(t))},e}(Jn),vr=function(t){function e(e){this._o=e,this._s=new Gt.Set,t.call(this)}return tn(e,t),e.prototype.next=function(t){this._s.add(t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(this._s),this._o.onCompleted()},e}(Hn);Un.toSet=function(){if("undefined"==typeof Gt.Set)throw new TypeError;return new mr(this)};var gr=function(t){function e(e,n,i){this.source=e,this._k=n,this._e=i,t.call(this)}return tn(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new br(t,this._k,this._e))},e}(Jn),br=function(t){function e(e,n,i){this._o=e,this._k=n,this._e=i,this._m=new Gt.Map,t.call(this)}return tn(e,t),e.prototype.next=function(t){var e=oe(this._k)(t);if(e===ie)return this._o.onError(e.e);var n=t;return this._e&&(n=oe(this._e)(t),n===ie)?this._o.onError(n.e):void this._m.set(e,n)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(this._m),this._o.onCompleted()},e}(Hn);Un.toMap=function(t,e){if("undefined"==typeof Gt.Map)throw new TypeError;return new gr(this,t,e)};var yr=function(t){function e(e,n,i){this.source=e,this._b=n,this._e=i,t.call(this)}return tn(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new wr(t,this._b,this._e))},e}(Jn),wr=function(t){function e(e,n,i){this._o=e,this._b=n,this._e=i,this._i=0,t.call(this)}return tn(e,t),e.prototype.next=function(t){this._i>=this._b&&(this._e===this._i?this._o.onCompleted():this._o.onNext(t)),this._i++},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Hn);Un.slice=function(t,e){var n=t||0;if(0>n)throw new Kt.ArgumentOutOfRangeError;if("number"==typeof e&&n>e)throw new Kt.ArgumentOutOfRangeError;return new yr(this,n,e)};var _r=function(t){function e(e,n,i){this.source=e,this._e=n,this._n=i,t.call(this)}return tn(e,t),e.prototype.subscribeCore=function(t){return this._n<0?(t.onNext(-1),t.onCompleted(),un):this.source.subscribe(new Cr(t,this._e,this._n))},e}(Jn),Cr=function(t){function e(e,n,i){this._o=e,this._e=n,this._n=i,this._v=0,this._hv=!1,this._i=0,t.call(this)}return tn(e,t),e.prototype.next=function(t){this._i>=this._n&&t===this._e&&(this._hv=!0,this._v=this._i),this._i++},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._hv?this._o.onNext(this._v):this._o.onNext(-1),this._o.onCompleted()},e}(Hn);Un.lastIndexOf=function(t,e){var n=+e||0;return Math.abs(n)===1/0&&(n=0),new _r(this,t,n)},Xn.wrap=function(t){function e(){return Xn.spawn.call(this,t.apply(this,arguments))}return e.__generatorFunction__=t,e};var xr=Xn.spawn=function(){for(var t=arguments[0],e=this,n=[],i=1,o=arguments.length;o>i;i++)n.push(arguments[i]);return new As(function(i){function o(e){var n=oe(t.next).call(t,e);return n===ie?i.onError(n.e):void s(n)}function r(e){var n=oe(t.next).call(t,e);return n===ie?i.onError(n.e):void s(n)}function s(t){if(t.done)return i.onNext(t.value),void i.onCompleted();var n=et.call(e,t.value),s=null,c=!1;Xn.isObservable(n)?a.add(n.subscribe(function(t){c=!0,s=t},r,function(){c&&o(s)})):r(new TypeError("type not supported"))}var a=new sn;return ne(t)&&(t=t.apply(e,n)),t&&ne(t.next)?(o(),a):(i.onNext(t),i.onCompleted())})};Xn.start=function(t,e,n){return Nr(t,e,n)()};var Nr=Xn.toAsync=function(t,e,n){return Cn(n)||(n=On),function(){var i=arguments,o=new Ps;return n.schedule(null,function(){var n;try{n=t.apply(e,i)}catch(r){return void o.onError(r)}o.onNext(n),o.onCompleted()}),o.asObservable()}};Xn.fromCallback=function(t,e,n){return function(){"undefined"==typeof e&&(e=this);for(var i=arguments.length,o=new Array(i),r=0;i>r;r++)o[r]=arguments[r];return ct(t,e,n,o)}},Xn.fromNodeCallback=function(t,e,n){return function(){"undefined"==typeof e&&(e=this);for(var i=arguments.length,o=new Array(i),r=0;i>r;r++)o[r]=arguments[r];return ut(t,e,n,o)}},dt.prototype.dispose=function(){this.isDisposed||(this._e.removeEventListener(this._n,this._fn,!1),this.isDisposed=!0)},Kt.config.useNativeEvents=!1;var Sr=function(t){function e(e,n,i){this._el=e,this._n=n,this._fn=i,t.call(this)}function n(t,e){return function(){var n=arguments[0];return ne(e)&&(n=oe(e).apply(null,arguments),n===ie)?t.onError(n.e):void t.onNext(n)}}return tn(e,t),e.prototype.subscribeCore=function(t){return ft(this._el,this._n,n(t,this._fn))},e}(Jn);Xn.fromEvent=function(t,e,n){return t.addListener?$r(function(n){t.addListener(e,n)},function(n){t.removeListener(e,n)},n):Kt.config.useNativeEvents||"function"!=typeof t.on||"function"!=typeof t.off?new Sr(t,e,n).publish().refCount():$r(function(n){t.on(e,n)},function(n){t.off(e,n)},n)};var kr=function(t){function e(e,n,i){this._add=e,this._del=n,this._fn=i,t.call(this)}function n(t,e){return function(){var n=arguments[0];return ne(e)&&(n=oe(e).apply(null,arguments),n===ie)?t.onError(n.e):void t.onNext(n)}}function i(t,e,n){this._del=t,this._fn=e,this._ret=n,this.isDisposed=!1}return tn(e,t),e.prototype.subscribeCore=function(t){var e=n(t,this._fn),o=this._add(e);return new i(this._del,e,o)},i.prototype.dispose=function(){this.isDisposed||(ne(this._del)&&this._del(this._fn,this._ret),this.isDisposed=!0)},e}(Jn),$r=Xn.fromEventPattern=function(t,e,n){return new kr(t,e,n).publish().refCount()};Xn.startAsync=function(t){var e=oe(t)();return e===ie?Ti(e.e):ui(e)};var Er=function(t){function e(e,n){this.source=e,this.controller=new Os,n&&n.subscribe?this.pauser=this.controller.merge(n):this.pauser=this.controller,t.call(this)}return tn(e,t),e.prototype._subscribe=function(t){var e=this.source.publish(),n=e.subscribe(t),i=un,o=this.pauser.distinctUntilChanged().subscribe(function(t){t?i=e.connect():(i.dispose(),i=un)});return new gn([n,i,o])},e.prototype.pause=function(){this.controller.onNext(!1)},e.prototype.resume=function(){this.controller.onNext(!0)},e}(Xn);Un.pausable=function(t){return new Er(this,t)};var Dr=function(t){function e(e,n){this.source=e,this.controller=new Os,n&&n.subscribe?this.pauser=this.controller.merge(n):this.pauser=this.controller,t.call(this)}return tn(e,t),e.prototype._subscribe=function(t){function e(){for(;i.length>0;)t.onNext(i.shift())}var n,i=[],o=mt(this.source,this.pauser.startWith(!1).distinctUntilChanged(),function(t,e){return{data:t,shouldFire:e}}).subscribe(function(o){n!==s&&o.shouldFire!==n?(n=o.shouldFire,o.shouldFire&&e()):(n=o.shouldFire,o.shouldFire?t.onNext(o.data):i.push(o.data))},function(n){e(),t.onError(n)},function(){e(),t.onCompleted()});return o},e.prototype.pause=function(){this.controller.onNext(!1)},e.prototype.resume=function(){this.controller.onNext(!0)},e}(Xn);Un.pausableBuffered=function(t){return new Dr(this,t)};var Ar=function(t){function e(e,n,i){t.call(this),this.subject=new Tr(n,i),this.source=e.multicast(this.subject).refCount()}return tn(e,t),e.prototype._subscribe=function(t){return this.source.subscribe(t)},e.prototype.request=function(t){return this.subject.request(null==t?-1:t)},e}(Xn),Tr=function(t){function e(e,n){null==e&&(e=!0),t.call(this),this.subject=new Os,this.enableQueue=e,this.queue=e?[]:null,this.requestedCount=0,this.requestedDisposable=null,this.error=null,this.hasFailed=!1,this.hasCompleted=!1,this.scheduler=n||Dn}return tn(e,t),en(e.prototype,zn,{_subscribe:function(t){return this.subject.subscribe(t)},onCompleted:function(){this.hasCompleted=!0,this.enableQueue&&0!==this.queue.length?this.queue.push(In.createOnCompleted()):(this.subject.onCompleted(),this.disposeCurrentRequest())},onError:function(t){this.hasFailed=!0,this.error=t,this.enableQueue&&0!==this.queue.length?this.queue.push(In.createOnError(t)):(this.subject.onError(t),this.disposeCurrentRequest())},onNext:function(t){this.requestedCount<=0?this.enableQueue&&this.queue.push(In.createOnNext(t)):(0===this.requestedCount--&&this.disposeCurrentRequest(),this.subject.onNext(t))},_processRequest:function(t){if(this.enableQueue)for(;this.queue.length>0&&(t>0||"N"!==this.queue[0].kind);){var e=this.queue.shift();e.accept(this.subject),"N"===e.kind?t--:(this.disposeCurrentRequest(),this.queue=[])}return t},request:function(t){this.disposeCurrentRequest();var e=this;return this.requestedDisposable=this.scheduler.schedule(t,function(t,n){var i=e._processRequest(n),o=e.hasCompleted||e.hasFailed;return!o&&i>0?(e.requestedCount=i,
ln(function(){e.requestedCount=0})):void 0}),this.requestedDisposable},disposeCurrentRequest:function(){this.requestedDisposable&&(this.requestedDisposable.dispose(),this.requestedDisposable=null)}}),e}(Xn);Un.controlled=function(t,e){return t&&Cn(t)&&(e=t,t=!0),null==t&&(t=!0),new Ar(this,t,e)};var Mr=function(t){function e(e){t.call(this),this.source=e}function n(t,e){e.source.request(1)}tn(e,t),e.prototype._subscribe=function(t){return this.subscription=this.source.subscribe(new i(t,this,this.subscription)),new vn(this.subscription,On.schedule(this,n))};var i=function(t){function n(e,n,i){t.call(this),this.observer=e,this.observable=n,this.cancel=i,this.scheduleDisposable=null}function i(t,e){e.observable.source.request(1)}return tn(n,t),n.prototype.completed=function(){this.observer.onCompleted(),this.dispose()},n.prototype.error=function(t){this.observer.onError(t),this.dispose()},n.prototype.next=function(t){this.observer.onNext(t),this.scheduleDisposable=On.schedule(this,i)},e.dispose=function(){this.observer=null,this.cancel&&(this.cancel.dispose(),this.cancel=null),this.scheduleDisposable&&(this.scheduleDisposable.dispose(),this.scheduleDisposable=null),t.prototype.dispose.call(this)},n}(Hn);return e}(Xn);Ar.prototype.stopAndWait=function(){return new Mr(this)};var Fr=function(t){function e(e,n){t.call(this),this.source=e,this.windowSize=n}function n(t,e){e.source.request(e.windowSize)}tn(e,t),e.prototype._subscribe=function(t){return this.subscription=this.source.subscribe(new i(t,this,this.subscription)),new vn(this.subscription,On.schedule(this,n))};var i=function(t){function e(e,n,i){this.observer=e,this.observable=n,this.cancel=i,this.received=0,this.scheduleDisposable=null,t.call(this)}function n(t,e){e.observable.source.request(e.observable.windowSize)}return tn(e,t),e.prototype.completed=function(){this.observer.onCompleted(),this.dispose()},e.prototype.error=function(t){this.observer.onError(t),this.dispose()},e.prototype.next=function(t){this.observer.onNext(t),this.received=++this.received%this.observable.windowSize,0===this.received&&(this.scheduleDisposable=On.schedule(this,n))},e.prototype.dispose=function(){this.observer=null,this.cancel&&(this.cancel.dispose(),this.cancel=null),this.scheduleDisposable&&(this.scheduleDisposable.dispose(),this.scheduleDisposable=null),t.prototype.dispose.call(this)},e}(Hn);return e}(Xn);Ar.prototype.windowed=function(t){return new Fr(this,t)},Un.pipe=function(t){function e(){n.resume()}var n=this.pausableBuffered();return t.addListener("drain",e),n.subscribe(function(e){!t.write(String(e))&&n.pause()},function(e){t.emit("error",e)},function(){!t._isStdio&&t.end(),t.removeListener("drain",e)}),n.resume(),t};var Or=function(t){function e(e,n,i){this.source=e,this._fn1=n,this._fn2=i,t.call(this)}return tn(e,t),e.prototype.subscribeCore=function(t){var e=this.source.multicast(this._fn1());return new vn(this._fn2(e).subscribe(t),e.connect())},e}(Jn);Un.multicast=function(t,e){return ne(t)?new Or(this,t,e):new jr(this,t)},Un.publish=function(t){return t&&ne(t)?this.multicast(function(){return new Os},t):this.multicast(new Os)},Un.share=function(){return this.publish().refCount()},Un.publishLast=function(t){return t&&ne(t)?this.multicast(function(){return new Ps},t):this.multicast(new Ps)},Un.publishValue=function(t,e){return 2===arguments.length?this.multicast(function(){return new Is(e)},t):this.multicast(new Is(t))},Un.shareValue=function(t){return this.publishValue(t).refCount()},Un.replay=function(t,e,n,i){return t&&ne(t)?this.multicast(function(){return new js(e,n,i)},t):this.multicast(new js(e,n,i))},Un.shareReplay=function(t,e,n){return this.replay(null,t,e,n).refCount()};var Pr=function(t,e){this._s=t,this._o=e};Pr.prototype.dispose=function(){if(!this._s.isDisposed&&null!==this._o){var t=this._s.observers.indexOf(this._o);this._s.observers.splice(t,1),this._o=null}};var Ir=function(t){function e(e){this.source=e,this._count=0,this._connectableSubscription=null,t.call(this)}function n(t,e){this._p=t,this._s=e,this.isDisposed=!1}return tn(e,t),e.prototype.subscribeCore=function(t){var e=this.source.subscribe(t);return 1===++this._count&&(this._connectableSubscription=this.source.connect()),new n(this,e)},n.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._s.dispose(),0===--this._p._count&&this._p._connectableSubscription.dispose())},e}(Jn),jr=Kt.ConnectableObservable=function(t){function e(e,n){this.source=e,this._connection=null,this._source=e.asObservable(),this._subject=n,t.call(this)}function n(t,e){this._p=t,this._s=e}return tn(e,t),n.prototype.dispose=function(){this._s&&(this._s.dispose(),this._s=null,this._p._connection=null)},e.prototype.connect=function(){if(!this._connection){var t=this._source.subscribe(this._subject);this._connection=new n(this,t)}return this._connection},e.prototype._subscribe=function(t){return this._subject.subscribe(t)},e.prototype.refCount=function(){return new Ir(this)},e}(Xn);Un.singleInstance=function(){function t(){return i||(i=!0,e=n["finally"](function(){i=!1}).publish().refCount()),e}var e,n=this,i=!1;return new As(function(e){return t().subscribe(e)})},Un.join=function(t,e,n,i){var o=this;return new As(function(r){var s=new sn,a=!1,c=!1,l=0,u=0,h=new Gr,p=new Gr,d=function(t){r.onError(t)};return s.add(o.subscribe(function(t){var n=l++,o=new fn;h.set(n,t),s.add(o);var c=oe(e)(t);return c===ie?r.onError(c.e):(o.setDisposable(c.take(1).subscribe(Yt,d,function(){h["delete"](n)&&0===h.size&&a&&r.onCompleted(),s.remove(o)})),void p.forEach(function(e){var n=oe(i)(t,e);return n===ie?r.onError(n.e):void r.onNext(n)}))},d,function(){a=!0,(c||0===h.size)&&r.onCompleted()})),s.add(t.subscribe(function(t){var e=u++,o=new fn;p.set(e,t),s.add(o);var a=oe(n)(t);return a===ie?r.onError(a.e):(o.setDisposable(a.take(1).subscribe(Yt,d,function(){p["delete"](e)&&0===p.size&&c&&r.onCompleted(),s.remove(o)})),void h.forEach(function(e){var n=oe(i)(e,t);return n===ie?r.onError(n.e):void r.onNext(n)}))},d,function(){c=!0,(a||0===p.size)&&r.onCompleted()})),s},o)},Un.groupJoin=function(t,e,n,i){var o=this;return new As(function(r){function s(t){}var a=new sn,c=new bn(a),l=new Gr,u=new Gr,h=0,p=0,s=function(t){return function(e){e.onError(t)}};return a.add(o.subscribe(function(t){var n=new Os,o=h++;l.set(o,n);var p=oe(i)(t,nn(n,c));if(p===ie)return l.forEach(s(p.e)),r.onError(p.e);r.onNext(p),u.forEach(function(t){n.onNext(t)});var d=new fn;a.add(d);var f=oe(e)(t);return f===ie?(l.forEach(s(f.e)),r.onError(f.e)):void d.setDisposable(f.take(1).subscribe(Yt,function(t){l.forEach(s(t)),r.onError(t)},function(){l["delete"](o)&&n.onCompleted(),a.remove(d)}))},function(t){l.forEach(s(t)),r.onError(t)},function(){r.onCompleted()})),a.add(t.subscribe(function(t){var e=p++;u.set(e,t);var i=new fn;a.add(i);var o=oe(n)(t);return o===ie?(l.forEach(s(o.e)),r.onError(o.e)):(i.setDisposable(o.take(1).subscribe(Yt,function(t){l.forEach(s(t)),r.onError(t)},function(){u["delete"](e),a.remove(i)})),void l.forEach(function(e){e.onNext(t)}))},function(t){l.forEach(s(t)),r.onError(t)})),c},o)},Un.buffer=function(){return this.window.apply(this,arguments).flatMap(H)},Un.window=function(t,e){return 1===arguments.length&&"function"!=typeof arguments[0]?gt.call(this,t):"function"==typeof t?bt.call(this,t):vt.call(this,t,e)};var Lr=function(t){function e(e){this.source=e,t.call(this)}return tn(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Vr(t))},e}(Jn),Vr=function(t){function e(e){this._o=e,this._p=null,this._hp=!1,t.call(this)}return tn(e,t),e.prototype.next=function(t){this._hp?this._o.onNext([this._p,t]):this._hp=!0,this._p=t},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Hn);Un.pairwise=function(){return new Lr(this)},Un.partition=function(t,e){var n=we(t,e,3);return[this.filter(t,e),this.filter(function(t,e,i){return!n(t,e,i)})]};var Br=function(t){function e(t,e){this.c=t,this.s=e}return tn(e,t),e.prototype[ve]=function(){var t=this;return{next:function(){return t.c()?{done:!1,value:t.s}:{done:!0,value:void 0}}}},e}(ti);Un.letBind=Un.let=function(t){return t(this)},Xn["if"]=function(t,e,n){return di(function(){return n||(n=vi()),ee(e)&&(e=ui(e)),ee(n)&&(n=ui(n)),"function"==typeof n.now&&(n=vi(n)),t()?e:n})},Xn["for"]=Xn.forIn=function(t,e,n){return si(t,e,n).concat()};var qr=Xn["while"]=Xn.whileDo=function(t,e){return ee(e)&&(e=ui(e)),yt(t,e).concat()};Un.doWhile=function(t){return qi([this,qr(t,this)])},Xn["case"]=function(t,e,n){return di(function(){ee(n)&&(n=ui(n)),n||(n=vi()),Cn(n)&&(n=vi(n));var i=e[t()];return ee(i)&&(i=ui(i)),i||n})};var Rr=function(t){function e(e,n,i){this.source=e,this._fn=n,this._scheduler=i,t.call(this)}function n(t,e){var n,i=t[0],o=t[1];if(!(i.q.length>0))return void(i.isAcquired=!1);n=i.q.shift();var r=new fn;i.d.add(r),r.setDisposable(n.subscribe(new zr(i,o,r))),e([i,o])}return tn(e,t),e.prototype._ensureActive=function(t){var e=!1;t.q.length>0&&(e=!t.isAcquired,t.isAcquired=!0),e&&t.m.setDisposable(this._scheduler.scheduleRecursive([t,this],n))},e.prototype.subscribeCore=function(t){var e=new mn,n=new sn(e),i={q:[],m:e,d:n,activeCount:0,isAcquired:!1,o:t};return i.q.push(this.source),i.activeCount++,this._ensureActive(i),n},e}(Jn),zr=function(t){function e(e,n,i){this._s=e,this._p=n,this._m1=i,t.call(this)}return tn(e,t),e.prototype.next=function(t){this._s.o.onNext(t);var e=oe(this._p._fn)(t);return e===ie?this._s.o.onError(e.e):(this._s.q.push(e),this._s.activeCount++,void this._p._ensureActive(this._s))},e.prototype.error=function(t){this._s.o.onError(t)},e.prototype.completed=function(){this._s.d.remove(this._m1),this._s.activeCount--,0===this._s.activeCount&&this._s.o.onCompleted()},e}(Hn);Un.expand=function(t,e){return Cn(e)||(e=Dn),new Rr(this,t,e)};var Wr=function(t){function e(e,n){this._sources=e,this._cb=n,t.call(this)}return tn(e,t),e.prototype.subscribeCore=function(t){if(0===this._sources.length)return t.onCompleted(),un;for(var e=this._sources.length,n={finished:!1,hasResults:new Array(e),hasCompleted:new Array(e),results:new Array(e)},i=new sn,o=0,r=this._sources.length;r>o;o++){var s=this._sources[o];ee(s)&&(s=ui(s)),i.add(s.subscribe(new Ur(t,n,o,this._cb,i)))}return i},e}(Jn),Ur=function(t){function e(e,n,i,o,r){this._o=e,this._s=n,this._i=i,this._cb=o,this._subs=r,t.call(this)}return tn(e,t),e.prototype.next=function(t){this._s.finished||(this._s.hasResults[this._i]=!0,this._s.results[this._i]=t)},e.prototype.error=function(t){this._s.finished=!0,this._o.onError(t),this._subs.dispose()},e.prototype.completed=function(){if(!this._s.finished){if(!this._s.hasResults[this._i])return this._o.onCompleted();this._s.hasCompleted[this._i]=!0;for(var t=0;t<this._s.results.length;t++)if(!this._s.hasCompleted[t])return;this._s.finished=!0;var e=oe(this._cb).apply(null,this._s.results);if(e===ie)return this._o.onError(e.e);this._o.onNext(e),this._o.onCompleted()}},e}(Hn);Xn.forkJoin=function(){for(var t=arguments.length,e=new Array(t),n=0;t>n;n++)e[n]=arguments[n];var i=ne(e[t-1])?e.pop():z;return Array.isArray(e[0])&&(e=e[0]),new Wr(e,i)},Un.forkJoin=function(){for(var t=arguments.length,e=new Array(t),n=0;t>n;n++)e[n]=arguments[n];return Array.isArray(e[0])?e[0].unshift(this):e.unshift(this),Xn.forkJoin.apply(null,e)},Un.manySelect=Un.extend=function(t,e){Cn(e)||(e=Kt.Scheduler.immediate);var n=this;return di(function(){var i;return n.map(function(t){var e=new Hr(t);return i&&i.onNext(t),i=e,e}).tap(Yt,function(t){i&&i.onError(t)},function(){i&&i.onCompleted()}).observeOn(e).map(t)},n)};var Hr=function(t){function e(e){t.call(this),this.head=e,this.tail=new Ps}return tn(e,t),en(e.prototype,zn,{_subscribe:function(t){var e=new sn;return e.add(Dn.schedule(this,function(n,i){t.onNext(i.head),e.add(i.tail.mergeAll().subscribe(t))})),e},onCompleted:function(){this.onNext(Xn.empty())},onError:function(t){this.onNext(Xn["throw"](t))},onNext:function(t){this.tail.onNext(t),this.tail.onCompleted()}}),e}(Xn),Gr=Gt.Map||function(){function t(){this.size=0,this._values=[],this._keys=[]}return t.prototype["delete"]=function(t){var e=this._keys.indexOf(t);return-1===e?!1:(this._values.splice(e,1),this._keys.splice(e,1),this.size--,!0)},t.prototype.get=function(t){var e=this._keys.indexOf(t);return-1===e?s:this._values[e]},t.prototype.set=function(t,e){var n=this._keys.indexOf(t);return-1===n?(this._keys.push(t),this._values.push(e),this.size++):this._values[n]=e,this},t.prototype.forEach=function(t,e){for(var n=0;n<this.size;n++)t.call(e,this._values[n],this._keys[n])},t}();wt.prototype.and=function(t){return new wt(this.patterns.concat(t))},wt.prototype.thenDo=function(t){return new _t(this,t)},_t.prototype.activate=function(t,e,n){for(var i=[],o=Ct(e),r=0,s=this.expression.patterns.length;s>r;r++)i.push(Nt(t,this.expression.patterns[r],o));var a=new St(i,xt(this,e),function(){for(var t=0,e=i.length;e>t;t++)i[t].removeActivePlan(a);n(a)});for(r=0,s=i.length;s>r;r++)i[r].addActivePlan(a);return a},St.prototype.dequeue=function(){this.joinObservers.forEach(function(t){t.queue.shift()})},St.prototype.match=function(){var t,e,n=!0;for(t=0,e=this.joinObserverArray.length;e>t;t++)if(0===this.joinObserverArray[t].queue.length){n=!1;break}if(n){var i=[],o=!1;for(t=0,e=this.joinObserverArray.length;e>t;t++)i.push(this.joinObserverArray[t].queue[0]),"C"===this.joinObserverArray[t].queue[0].kind&&(o=!0);if(o)this.onCompleted();else{this.dequeue();var r=[];for(t=0,e=i.length;t<i.length;t++)r.push(i[t].value);this.onNext.apply(this,r)}}};var Kr=function(t){function e(e,n){t.call(this),this.source=e,this.onError=n,this.queue=[],this.activePlans=[],this.subscription=new fn,this.isDisposed=!1}tn(e,t);var n=e.prototype;return n.next=function(t){if(!this.isDisposed){if("E"===t.kind)return this.onError(t.error);this.queue.push(t);for(var e=this.activePlans.slice(0),n=0,i=e.length;i>n;n++)e[n].match()}},n.error=Yt,n.completed=Yt,n.addActivePlan=function(t){this.activePlans.push(t)},n.subscribe=function(){this.subscription.setDisposable(this.source.materialize().subscribe(this))},n.removeActivePlan=function(t){this.activePlans.splice(this.activePlans.indexOf(t),1),0===this.activePlans.length&&this.dispose()},n.dispose=function(){t.prototype.dispose.call(this),this.isDisposed||(this.isDisposed=!0,this.subscription.dispose())},e}(Hn);Un.and=function(t){return new wt([this,t])},Un.thenDo=function(t){return new wt([this]).thenDo(t)},Xn.when=function(){var t,e=arguments.length;if(Array.isArray(arguments[0]))t=arguments[0];else{t=new Array(e);for(var n=0;e>n;n++)t[n]=arguments[n]}return new As(function(e){var n=[],i=new Gr,o=Wn(function(t){e.onNext(t)},function(t){i.forEach(function(e){e.onError(t)}),e.onError(t)},function(t){e.onCompleted()});try{for(var r=0,s=t.length;s>r;r++)n.push(t[r].activate(i,o,function(t){var i=n.indexOf(t);n.splice(i,1),0===n.length&&e.onCompleted()}))}catch(a){return Ti(a).subscribe(e)}var c=new sn;return i.forEach(function(t){t.subscribe(),c.add(t)}),c})};var Yr=function(t){function e(e,n){this._dt=e,this._s=n,t.call(this)}function n(t,e){e.onNext(0),e.onCompleted()}return tn(e,t),e.prototype.subscribeCore=function(t){return this._s.scheduleFuture(t,this._dt,n)},e}(Jn),Qr=Xn.interval=function(t,e){return Et(t,t,Cn(e)?e:On)};Xn.timer=function(t,e,n){var i;return Cn(n)||(n=On),null!=e&&"number"==typeof e?i=e:Cn(e)&&(n=e),(t instanceof Date||"number"==typeof t)&&i===s?kt(t,n):t instanceof Date&&i!==s?$t(t,e,n):Et(t,i,n)};Un.delay=function(){var t=arguments[0];if("number"==typeof t||t instanceof Date){var e=t,n=arguments[1];return Cn(n)||(n=On),e instanceof Date?At(this,e,n):Dt(this,e,n)}if(Xn.isObservable(t)||ne(t))return Tt(this,t,arguments[1]);throw new Error("Invalid arguments")};var Xr=function(t){function e(e,n,i){Cn(i)||(i=On),this.source=e,this._dt=n,this._s=i,t.call(this)}return tn(e,t),e.prototype.subscribeCore=function(t){var e=new mn;return new vn(this.source.subscribe(new Jr(t,this._dt,this._s,e)),e)},e}(Jn),Jr=function(t){function e(e,n,i,o){this._o=e,this._d=n,this._scheduler=i,this._c=o,this._v=null,this._hv=!1,this._id=0,t.call(this)}return tn(e,t),e.prototype.next=function(t){this._hv=!0,this._v=t;var e=++this._id,n=new fn;this._c.setDisposable(n),n.setDisposable(this._scheduler.scheduleFuture(this,this._d,function(n,i){i._hv&&i._id===e&&i._o.onNext(t),i._hv=!1}))},e.prototype.error=function(t){this._c.dispose(),this._o.onError(t),this._hv=!1,this._id++},e.prototype.completed=function(){this._c.dispose(),this._hv&&this._o.onNext(this._v),this._o.onCompleted(),this._hv=!1,this._id++},e}(Hn);Un.debounce=function(){if(ne(arguments[0]))return Mt(this,arguments[0]);if("number"==typeof arguments[0])return new Xr(this,arguments[0],arguments[1]);throw new Error("Invalid arguments")},Un.windowWithTime=function(t,e,n){var i,o=this;return null==e&&(i=t),Cn(n)||(n=On),"number"==typeof e?i=e:Cn(e)&&(i=t,n=e),new As(function(e){function r(){var t=new fn,o=!1,s=!1;h.setDisposable(t),l===c?(o=!0,s=!0):c>l?o=!0:s=!0;var d=o?l:c,f=d-p;p=d,o&&(l+=i),s&&(c+=i),t.setDisposable(n.scheduleFuture(null,f,function(){if(s){var t=new Os;u.push(t),e.onNext(nn(t,a))}o&&u.shift().onCompleted(),r()}))}var s,a,c=i,l=t,u=[],h=new mn,p=0;return s=new sn(h),a=new bn(s),u.push(new Os),e.onNext(nn(u[0],a)),r(),s.add(o.subscribe(function(t){for(var e=0,n=u.length;n>e;e++)u[e].onNext(t)},function(t){for(var n=0,i=u.length;i>n;n++)u[n].onError(t);e.onError(t)},function(){for(var t=0,n=u.length;n>t;t++)u[t].onCompleted();e.onCompleted()})),a},o)},Un.windowWithTimeOrCount=function(t,e,n){var i=this;return Cn(n)||(n=On),new As(function(o){function r(e){var i=new fn;s.setDisposable(i),i.setDisposable(n.scheduleFuture(null,t,function(){if(e===u){l=0;var t=++u;h.onCompleted(),h=new Os,o.onNext(nn(h,c)),r(t)}}))}var s=new mn,a=new sn(s),c=new bn(a),l=0,u=0,h=new Os;return o.onNext(nn(h,c)),r(0),a.add(i.subscribe(function(t){var n=0,i=!1;h.onNext(t),++l===e&&(i=!0,l=0,n=++u,h.onCompleted(),h=new Os,o.onNext(nn(h,c))),i&&r(n)},function(t){h.onError(t),o.onError(t)},function(){h.onCompleted(),o.onCompleted()})),c},i)},Un.bufferWithTime=function(t,e,n){return this.windowWithTime(t,e,n).flatMap(H)},Un.bufferWithTimeOrCount=function(t,e,n){return this.windowWithTimeOrCount(t,e,n).flatMap(H)};var Zr=function(t){function e(e,n){this.source=e,this._s=n,t.call(this)}return tn(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new ts(t,this._s))},e}(Jn),ts=function(t){function e(e,n){this._o=e,this._s=n,this._l=n.now(),t.call(this)}return tn(e,t),e.prototype.next=function(t){var e=this._s.now(),n=e-this._l;this._l=e,this._o.onNext({value:t,interval:n})},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Hn);Un.timeInterval=function(t){return Cn(t)||(t=On),new Zr(this,t)};var es=function(t){function e(e,n){this.source=e,this._s=n,t.call(this)}return tn(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new ns(t,this._s))},e}(Jn),ns=function(t){function e(e,n){this._o=e,this._s=n,t.call(this)}return tn(e,t),e.prototype.next=function(t){this._o.onNext({value:t,timestamp:this._s.now()})},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Hn);Un.timestamp=function(t){return Cn(t)||(t=On),new es(this,t)};var is=function(t){function e(e,n){this.source=e,this._sampler=n,t.call(this)}return tn(e,t),e.prototype.subscribeCore=function(t){var e={o:t,atEnd:!1,value:null,hasValue:!1,sourceSubscription:new fn};return e.sourceSubscription.setDisposable(this.source.subscribe(new rs(e))),new vn(e.sourceSubscription,this._sampler.subscribe(new os(e)))},e}(Jn),os=function(t){function e(e){this._s=e,t.call(this)}return tn(e,t),e.prototype._handleMessage=function(){this._s.hasValue&&(this._s.hasValue=!1,this._s.o.onNext(this._s.value)),this._s.atEnd&&this._s.o.onCompleted()},e.prototype.next=function(){this._handleMessage()},e.prototype.error=function(t){this._s.onError(t)},e.prototype.completed=function(){this._handleMessage()},e}(Hn),rs=function(t){function e(e){this._s=e,t.call(this)}return tn(e,t),e.prototype.next=function(t){this._s.hasValue=!0,this._s.value=t},e.prototype.error=function(t){this._s.o.onError(t)},e.prototype.completed=function(){this._s.atEnd=!0,this._s.sourceSubscription.dispose()},e}(Hn);Un.sample=function(t,e){return Cn(e)||(e=On),"number"==typeof t?new is(this,Qr(t,e)):new is(this,t)};var ss=Kt.TimeoutError=function(t){this.message=t||"Timeout has occurred",this.name="TimeoutError",Error.call(this)};ss.prototype=Object.create(Error.prototype),Un.timeout=function(){var t=arguments[0];if(t instanceof Date||"number"==typeof t)return Ot(this,t,arguments[1],arguments[2]);if(Xn.isObservable(t)||ne(t))return Ft(this,t,arguments[1],arguments[2]);throw new Error("Invalid arguments")};var as=function(t){function e(e,n,i,o,r,s){this._state=e,this._cndFn=n,this._itrFn=i,this._resFn=o,this._timeFn=r,this._s=s,t.call(this)}function n(t,e){if(t.hasResult&&t.o.onNext(t.result),t.first)t.first=!1;else if(t.newState=oe(t.self._itrFn)(t.newState),t.newState===ie)return t.o.onError(t.newState.e);if(t.hasResult=oe(t.self._cndFn)(t.newState),t.hasResult===ie)return t.o.onError(t.hasResult.e);if(t.hasResult){if(t.result=oe(t.self._resFn)(t.newState),t.result===ie)return t.o.onError(t.result.e);var n=oe(t.self._timeFn)(t.newState);if(n===ie)return t.o.onError(n.e);e(t,n)}else t.o.onCompleted()}return tn(e,t),e.prototype.subscribeCore=function(t){var e={o:t,self:this,newState:this._state,first:!0,hasResult:!1};return this._s.scheduleRecursiveFuture(e,new Date(this._s.now()),n)},e}(Jn);Xn.generateWithAbsoluteTime=function(t,e,n,i,o,r){return Cn(r)||(r=On),new as(t,e,n,i,o,r)};var cs=function(t){function e(e,n,i,o,r,s){this._state=e,this._cndFn=n,this._itrFn=i,this._resFn=o,this._timeFn=r,this._s=s,t.call(this)}function n(t,e){if(t.hasResult&&t.o.onNext(t.result),t.first)t.first=!1;else if(t.newState=oe(t.self._itrFn)(t.newState),t.newState===ie)return t.o.onError(t.newState.e);if(t.hasResult=oe(t.self._cndFn)(t.newState),t.hasResult===ie)return t.o.onError(t.hasResult.e);if(t.hasResult){if(t.result=oe(t.self._resFn)(t.newState),t.result===ie)return t.o.onError(t.result.e);var n=oe(t.self._timeFn)(t.newState);if(n===ie)return t.o.onError(n.e);e(t,n)}else t.o.onCompleted()}return tn(e,t),e.prototype.subscribeCore=function(t){var e={o:t,self:this,newState:this._state,first:!0,hasResult:!1};return this._s.scheduleRecursiveFuture(e,0,n)},e}(Jn);Xn.generateWithRelativeTime=function(t,e,n,i,o,r){return Cn(r)||(r=On),new cs(t,e,n,i,o,r)};var ls=function(t){function e(e,n,i){this.source=e,this._dt=n,this._s=i,t.call(this)}function n(t,e){var n=e[0],i=e[1],o=e[2];o.setDisposable(n.subscribe(i))}return tn(e,t),e.prototype.subscribeCore=function(t){var e=new mn;return e.setDisposable(this._s.scheduleFuture([this.source,t,e],this._dt,n)),e},e}(Jn);Un.delaySubscription=function(t,e){return Cn(e)||(e=On),new ls(this,t,e)};var us=function(t){function e(e,n,i){this.source=e,this._d=n,this._s=i,t.call(this)}return tn(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new hs(t,this))},e}(Jn),hs=function(t){function e(e,n){this._o=e,this._s=n._s,this._d=n._d,this._q=[],t.call(this)}return tn(e,t),e.prototype.next=function(t){var e=this._s.now();for(this._q.push({interval:e,value:t});this._q.length>0&&e-this._q[0].interval>=this._d;)this._o.onNext(this._q.shift().value)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){for(var t=this._s.now();this._q.length>0&&t-this._q[0].interval>=this._d;)this._o.onNext(this._q.shift().value);this._o.onCompleted()},e}(Hn);Un.skipLastWithTime=function(t,e){return Cn(e)||(e=On),new us(this,t,e)};var ps=function(t){function e(e,n,i){this.source=e,this._d=n,this._s=i,t.call(this)}return tn(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new ds(t,this._d,this._s))},e}(Jn),ds=function(t){function e(e,n,i){this._o=e,this._d=n,this._s=i,this._q=[],t.call(this)}return tn(e,t),e.prototype.next=function(t){var e=this._s.now();for(this._q.push({interval:e,value:t});this._q.length>0&&e-this._q[0].interval>=this._d;)this._q.shift()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){for(var t=this._s.now();this._q.length>0;){var e=this._q.shift();t-e.interval<=this._d&&this._o.onNext(e.value)}this._o.onCompleted()},e}(Hn);Un.takeLastWithTime=function(t,e){return Cn(e)||(e=On),new ps(this,t,e)},Un.takeLastBufferWithTime=function(t,e){var n=this;return Cn(e)||(e=On),new As(function(i){var o=[];return n.subscribe(function(n){var i=e.now();for(o.push({interval:i,value:n});o.length>0&&i-o[0].interval>=t;)o.shift()},function(t){i.onError(t)},function(){for(var n=e.now(),r=[];o.length>0;){var s=o.shift();n-s.interval<=t&&r.push(s.value)}i.onNext(r),i.onCompleted()})},n)};var fs=function(t){function e(e,n,i){this.source=e,this._d=n,this._s=i,t.call(this)}function n(t,e){e.onCompleted()}return tn(e,t),e.prototype.subscribeCore=function(t){return new vn(this._s.scheduleFuture(t,this._d,n),this.source.subscribe(t))},e}(Jn);Un.takeWithTime=function(t,e){return Cn(e)||(e=On),new fs(this,t,e)};var ms=function(t){function e(e,n,i){this.source=e,this._d=n,this._s=i,this._open=!1,t.call(this)}function n(t,e){e._open=!0}return tn(e,t),e.prototype.subscribeCore=function(t){return new vn(this._s.scheduleFuture(this,this._d,n),this.source.subscribe(new vs(t,this)))},e}(Jn),vs=function(t){function e(e,n){this._o=e,this._p=n,t.call(this)}return tn(e,t),e.prototype.next=function(t){this._p._open&&this._o.onNext(t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Hn);Un.skipWithTime=function(t,e){return Cn(e)||(e=On),new ms(this,t,e)};var gs=function(t){function e(e,n,i){this.source=e,this._st=n,this._s=i,t.call(this)}function n(t,e){e._open=!0}return tn(e,t),e.prototype.subscribeCore=function(t){return this._open=!1,new vn(this._s.scheduleFuture(this,this._st,n),this.source.subscribe(new bs(t,this)))},e}(Jn),bs=function(t){function e(e,n){this._o=e,this._p=n,t.call(this)}return tn(e,t),e.prototype.next=function(t){this._p._open&&this._o.onNext(t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Hn);Un.skipUntilWithTime=function(t,e){return Cn(e)||(e=On),new gs(this,t,e)},Un.takeUntilWithTime=function(t,e){Cn(e)||(e=On);var n=this;return new As(function(i){return new vn(e.scheduleFuture(i,t,function(t,e){e.onCompleted()}),n.subscribe(i))},n)},Un.throttle=function(t,e){Cn(e)||(e=On);var n=+t||0;if(0>=n)throw new RangeError("windowDuration cannot be less or equal zero.");var i=this;return new As(function(t){var o=0;return i.subscribe(function(i){var r=e.now();(0===o||r-o>=n)&&(o=r,t.onNext(i))},function(e){t.onError(e)},function(){t.onCompleted()})},i)};var ys=function(t){function e(e,n){this._o=e,this._xform=n,t.call(this)}return tn(e,t),e.prototype.next=function(t){var e=oe(this._xform["@@transducer/step"]).call(this._xform,this._o,t);e===ie&&this._o.onError(e.e)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._xform["@@transducer/result"](this._o)},e}(Hn);Un.transduce=function(t){var e=this;return new As(function(n){var i=t(Pt(n));return e.subscribe(new ys(n,i))},e)};var ws=function(t){function e(e){this.source=e,t.call(this)}return tn(e,t),e.prototype.subscribeCore=function(t){var e=new fn,n=new sn,i={hasCurrent:!1,isStopped:!1,o:t,g:n};return n.add(e),e.setDisposable(this.source.subscribe(new _s(i))),n},e}(Jn),_s=function(t){function e(e){this._s=e,t.call(this)}function n(e,n){this._s=e,this._i=n,t.call(this)}return tn(e,t),e.prototype.next=function(t){if(!this._s.hasCurrent){this._s.hasCurrent=!0,ee(t)&&(t=ui(t));var e=new fn;this._s.g.add(e),e.setDisposable(t.subscribe(new n(this._s,e)))}},e.prototype.error=function(t){this._s.o.onError(t)},e.prototype.completed=function(){this._s.isStopped=!0,!this._s.hasCurrent&&1===this._s.g.length&&this._s.o.onCompleted()},tn(n,t),n.prototype.next=function(t){this._s.o.onNext(t)},n.prototype.error=function(t){this._s.o.onError(t)},n.prototype.completed=function(){this._s.g.remove(this._i),this._s.hasCurrent=!1,this._s.isStopped&&1===this._s.g.length&&this._s.o.onCompleted()},e}(Hn);Un.switchFirst=function(){return new ws(this)},Un.flatMapFirst=Un.selectManyFirst=function(t,e,n){return new Zn(this,t,e,n).switchFirst()},Kt.Observable.prototype.flatMapWithMaxConcurrent=function(t,e,n,i){return new Zn(this,e,n,i).merge(t)};var Cs=Kt.VirtualTimeScheduler=function(t){function e(e,n){this.clock=e,this.comparer=n,this.isEnabled=!1,this.queue=new on(1024),t.call(this)}tn(e,t);var n=e.prototype;return n.now=function(){return this.toAbsoluteTime(this.clock)},n.schedule=function(t,e){return this.scheduleAbsolute(t,this.clock,e)},n.scheduleFuture=function(t,e,n){var i=e instanceof Date?this.toRelativeTime(e-this.now()):this.toRelativeTime(e);return this.scheduleRelative(t,i,n)},n.add=me,n.toAbsoluteTime=me,n.toRelativeTime=me,n.schedulePeriodic=function(t,e,n){var i=new Sn(this,t,e,n);return i.start()},n.scheduleRelative=function(t,e,n){var i=this.add(this.clock,e);return this.scheduleAbsolute(t,i,n)},n.start=function(){if(!this.isEnabled){this.isEnabled=!0;do{var t=this.getNext();null!==t?(this.comparer(t.dueTime,this.clock)>0&&(this.clock=t.dueTime),t.invoke()):this.isEnabled=!1}while(this.isEnabled)}},n.stop=function(){this.isEnabled=!1},n.advanceTo=function(t){var e=this.comparer(this.clock,t);if(this.comparer(this.clock,t)>0)throw new pe;if(0!==e&&!this.isEnabled){this.isEnabled=!0;do{var n=this.getNext();null!==n&&this.comparer(n.dueTime,t)<=0?(this.comparer(n.dueTime,this.clock)>0&&(this.clock=n.dueTime),n.invoke()):this.isEnabled=!1}while(this.isEnabled);this.clock=t}},n.advanceBy=function(t){var e=this.add(this.clock,t),n=this.comparer(this.clock,e);if(n>0)throw new pe;0!==n&&this.advanceTo(e)},n.sleep=function(t){var e=this.add(this.clock,t);if(this.comparer(this.clock,e)>=0)throw new pe;this.clock=e},n.getNext=function(){for(;this.queue.length>0;){var t=this.queue.peek();if(!t.isCancelled())return t;this.queue.dequeue()}return null},n.scheduleAbsolute=function(t,e,n){function i(t,e){return o.queue.remove(r),n(t,e)}var o=this,r=new yn(this,t,i,e,this.comparer);return this.queue.enqueue(r),r.disposable},e}(wn);Kt.HistoricalScheduler=function(t){function e(e,n){var i=null==e?0:e,o=n||Zt;t.call(this,i,o)}tn(e,t);var n=e.prototype;return n.add=function(t,e){return t+e},n.toAbsoluteTime=function(t){return new Date(t).getTime()},n.toRelativeTime=function(t){return t},e}(Kt.VirtualTimeScheduler),It.prototype.equals=function(t){return t===this?!0:null==t?!1:"N"!==t.kind?!1:this.predicate(t.value)},jt.prototype.equals=function(t){return t===this?!0:null==t?!1:"E"!==t.kind?!1:this.predicate(t.error)};var xs=Kt.ReactiveTest={created:100,subscribed:200,disposed:1e3,onNext:function(t,e){return"function"==typeof e?new Ns(t,new It(e)):new Ns(t,In.createOnNext(e))},onError:function(t,e){return"function"==typeof e?new Ns(t,new jt(e)):new Ns(t,In.createOnError(e))},onCompleted:function(t){return new Ns(t,In.createOnCompleted())},subscribe:function(t,e){return new Ss(t,e)}},Ns=Kt.Recorded=function(t,e,n){this.time=t,this.value=e,this.comparer=n||Jt};Ns.prototype.equals=function(t){return this.time===t.time&&this.comparer(this.value,t.value)},Ns.prototype.toString=function(){return this.value.toString()+"@"+this.time};var Ss=Kt.Subscription=function(t,e){this.subscribe=t,this.unsubscribe=e||Number.MAX_VALUE};Ss.prototype.equals=function(t){return this.subscribe===t.subscribe&&this.unsubscribe===t.unsubscribe},Ss.prototype.toString=function(){return"("+this.subscribe+", "+(this.unsubscribe===Number.MAX_VALUE?"Infinite":this.unsubscribe)+")"};var ks=Kt.MockDisposable=function(t){this.scheduler=t,this.disposes=[],this.disposes.push(this.scheduler.clock);
};ks.prototype.dispose=function(){this.disposes.push(this.scheduler.clock)};var $s=function(t){function e(e){t.call(this),this.scheduler=e,this.messages=[]}tn(e,t);var n=e.prototype;return n.onNext=function(t){this.messages.push(new Ns(this.scheduler.clock,In.createOnNext(t)))},n.onError=function(t){this.messages.push(new Ns(this.scheduler.clock,In.createOnError(t)))},n.onCompleted=function(){this.messages.push(new Ns(this.scheduler.clock,In.createOnCompleted()))},e}(zn);Lt.prototype.then=function(t,e){var n=this;this.subscriptions.push(new Ss(this.scheduler.clock));var i,o=this.subscriptions.length-1,r=Kt.Observer.create(function(e){var a=t(e);if(a&&"function"==typeof a.then)i=a;else{var c=n.scheduler.clock;i=new Lt(n.scheduler,[Kt.ReactiveTest.onNext(c,s),Kt.ReactiveTest.onCompleted(c)])}var l=n.observers.indexOf(r);n.observers.splice(l,1),n.subscriptions[o]=new Ss(n.subscriptions[o].subscribe,n.scheduler.clock)},function(t){e(t);var i=n.observers.indexOf(r);n.observers.splice(i,1),n.subscriptions[o]=new Ss(n.subscriptions[o].subscribe,n.scheduler.clock)});return this.observers.push(r),i||new Lt(this.scheduler,this.messages)};var Es=function(t){function e(e,n){t.call(this);var i,o,r=this;this.scheduler=e,this.messages=n,this.subscriptions=[],this.observers=[];for(var s=0,a=this.messages.length;a>s;s++)i=this.messages[s],o=i.value,function(t){e.scheduleAbsolute(null,i.time,function(){for(var e=r.observers.slice(0),n=0,i=e.length;i>n;n++)t.accept(e[n]);return un})}(o)}return tn(e,t),e.prototype._subscribe=function(t){var e=this;this.observers.push(t),this.subscriptions.push(new Ss(this.scheduler.clock));var n=this.subscriptions.length-1;return ln(function(){var i=e.observers.indexOf(t);e.observers.splice(i,1),e.subscriptions[n]=new Ss(e.subscriptions[n].subscribe,e.scheduler.clock)})},e}(Xn),Ds=function(t){function e(e,n){t.call(this),this.scheduler=e,this.messages=n,this.subscriptions=[]}return tn(e,t),e.prototype._subscribe=function(t){var e,n,i=this;this.subscriptions.push(new Ss(this.scheduler.clock));for(var o=this.subscriptions.length-1,r=new sn,s=0,a=this.messages.length;a>s;s++)e=this.messages[s],n=e.value,function(n){r.add(i.scheduler.scheduleRelative(null,e.time,function(){return n.accept(t),un}))}(n);return ln(function(){i.subscriptions[o]=new Ss(i.subscriptions[o].subscribe,i.scheduler.clock),r.dispose()})},e}(Xn);Kt.TestScheduler=function(t){function e(t,e){return t>e?1:e>t?-1:0}function n(){t.call(this,0,e)}return tn(n,t),n.prototype.scheduleAbsolute=function(e,n,i){return n<=this.clock&&(n=this.clock+1),t.prototype.scheduleAbsolute.call(this,e,n,i)},n.prototype.add=function(t,e){return t+e},n.prototype.toAbsoluteTime=function(t){return new Date(t).getTime()},n.prototype.toRelativeTime=function(t){return t},n.prototype.startScheduler=function(t,e){e||(e={}),null==e.created&&(e.created=xs.created),null==e.subscribed&&(e.subscribed=xs.subscribed),null==e.disposed&&(e.disposed=xs.disposed);var n,i,o=this.createObserver();return this.scheduleAbsolute(null,e.created,function(){return n=t(),un}),this.scheduleAbsolute(null,e.subscribed,function(){return i=n.subscribe(o),un}),this.scheduleAbsolute(null,e.disposed,function(){return i.dispose(),un}),this.start(),o},n.prototype.createHotObservable=function(){var t,e=arguments.length;if(Array.isArray(arguments[0]))t=arguments[0];else{t=new Array(e);for(var n=0;e>n;n++)t[n]=arguments[n]}return new Es(this,t)},n.prototype.createColdObservable=function(){var t,e=arguments.length;if(Array.isArray(arguments[0]))t=arguments[0];else{t=new Array(e);for(var n=0;e>n;n++)t[n]=arguments[n]}return new Ds(this,t)},n.prototype.createResolvedPromise=function(t,e){return new Lt(this,[Kt.ReactiveTest.onNext(t,e),Kt.ReactiveTest.onCompleted(t)])},n.prototype.createRejectedPromise=function(t,e){return new Lt(this,[Kt.ReactiveTest.onError(t,e)])},n.prototype.createObserver=function(){return new $s(this)},n}(Cs);var As=Kt.AnonymousObservable=function(t){function e(t){return t&&ne(t.dispose)?t:ne(t)?ln(t):un}function n(t,n){var i=n[0],o=n[1],r=oe(o.__subscribe).call(o,i);r!==ie||i.fail(ie.e)||u(ie.e),i.setDisposable(e(r))}function i(e,n){this.source=n,this.__subscribe=e,t.call(this)}return tn(i,t),i.prototype._subscribe=function(t){var e=new Ts(t),i=[e,this];return Dn.scheduleRequired()?Dn.schedule(i,n):n(null,i),e},i}(Xn),Ts=function(t){function e(e){t.call(this),this.observer=e,this.m=new fn}tn(e,t);var n=e.prototype;return n.next=function(t){var e=oe(this.observer.onNext).call(this.observer,t);e===ie&&(this.dispose(),u(e.e))},n.error=function(t){var e=oe(this.observer.onError).call(this.observer,t);this.dispose(),e===ie&&u(e.e)},n.completed=function(){var t=oe(this.observer.onCompleted).call(this.observer);this.dispose(),t===ie&&u(t.e)},n.setDisposable=function(t){this.m.setDisposable(t)},n.getDisposable=function(){return this.m.getDisposable()},n.dispose=function(){t.prototype.dispose.call(this),this.m.dispose()},e}(Hn),Ms=function(t){function e(e,n){this._m=e,this._u=n,t.call(this)}return tn(e,t),e.prototype.subscribeCore=function(t){return new vn(this._m.getDisposable(),this._u.subscribe(t))},e}(Jn),Fs=function(t){function e(e,n,i){t.call(this),this.key=e,this.underlyingObservable=i?new Ms(i,n):n}return tn(e,t),e.prototype._subscribe=function(t){return this.underlyingObservable.subscribe(t)},e}(Xn),Os=Kt.Subject=function(t){function e(){t.call(this),this.isDisposed=!1,this.isStopped=!1,this.observers=[],this.hasError=!1}return tn(e,t),en(e.prototype,zn.prototype,{_subscribe:function(t){return pn(this),this.isStopped?this.hasError?(t.onError(this.error),un):(t.onCompleted(),un):(this.observers.push(t),new Pr(this,t))},hasObservers:function(){return pn(this),this.observers.length>0},onCompleted:function(){if(pn(this),!this.isStopped){this.isStopped=!0;for(var t=0,e=c(this.observers),n=e.length;n>t;t++)e[t].onCompleted();this.observers.length=0}},onError:function(t){if(pn(this),!this.isStopped){this.isStopped=!0,this.error=t,this.hasError=!0;for(var e=0,n=c(this.observers),i=n.length;i>e;e++)n[e].onError(t);this.observers.length=0}},onNext:function(t){if(pn(this),!this.isStopped)for(var e=0,n=c(this.observers),i=n.length;i>e;e++)n[e].onNext(t)},dispose:function(){this.isDisposed=!0,this.observers=null}}),e.create=function(t,e){return new Ls(t,e)},e}(Xn),Ps=Kt.AsyncSubject=function(t){function e(){t.call(this),this.isDisposed=!1,this.isStopped=!1,this.hasValue=!1,this.observers=[],this.hasError=!1}return tn(e,t),en(e.prototype,zn.prototype,{_subscribe:function(t){return pn(this),this.isStopped?(this.hasError?t.onError(this.error):this.hasValue?(t.onNext(this.value),t.onCompleted()):t.onCompleted(),un):(this.observers.push(t),new Pr(this,t))},hasObservers:function(){return pn(this),this.observers.length>0},onCompleted:function(){var t,e;if(pn(this),!this.isStopped){this.isStopped=!0;var n=c(this.observers),e=n.length;if(this.hasValue)for(t=0;e>t;t++){var i=n[t];i.onNext(this.value),i.onCompleted()}else for(t=0;e>t;t++)n[t].onCompleted();this.observers.length=0}},onError:function(t){if(pn(this),!this.isStopped){this.isStopped=!0,this.hasError=!0,this.error=t;for(var e=0,n=c(this.observers),i=n.length;i>e;e++)n[e].onError(t);this.observers.length=0}},onNext:function(t){pn(this),this.isStopped||(this.value=t,this.hasValue=!0)},dispose:function(){this.isDisposed=!0,this.observers=null,this.error=null,this.value=null}}),e}(Xn),Is=Kt.BehaviorSubject=function(t){function e(e){t.call(this),this.value=e,this.observers=[],this.isDisposed=!1,this.isStopped=!1,this.hasError=!1}return tn(e,t),en(e.prototype,zn.prototype,{_subscribe:function(t){return pn(this),this.isStopped?(this.hasError?t.onError(this.error):t.onCompleted(),un):(this.observers.push(t),t.onNext(this.value),new Pr(this,t))},getValue:function(){return pn(this),this.hasError&&u(this.error),this.value},hasObservers:function(){return pn(this),this.observers.length>0},onCompleted:function(){if(pn(this),!this.isStopped){this.isStopped=!0;for(var t=0,e=c(this.observers),n=e.length;n>t;t++)e[t].onCompleted();this.observers.length=0}},onError:function(t){if(pn(this),!this.isStopped){this.isStopped=!0,this.hasError=!0,this.error=t;for(var e=0,n=c(this.observers),i=n.length;i>e;e++)n[e].onError(t);this.observers.length=0}},onNext:function(t){if(pn(this),!this.isStopped){this.value=t;for(var e=0,n=c(this.observers),i=n.length;i>e;e++)n[e].onNext(t)}},dispose:function(){this.isDisposed=!0,this.observers=null,this.value=null,this.error=null}}),e}(Xn),js=Kt.ReplaySubject=function(t){function e(t,e){return ln(function(){e.dispose(),!t.isDisposed&&t.observers.splice(t.observers.indexOf(e),1)})}function n(e,n,o){this.bufferSize=null==e?i:e,this.windowSize=null==n?i:n,this.scheduler=o||Dn,this.q=[],this.observers=[],this.isStopped=!1,this.isDisposed=!1,this.hasError=!1,this.error=null,t.call(this)}var i=Math.pow(2,53)-1;return tn(n,t),en(n.prototype,zn.prototype,{_subscribe:function(t){pn(this);var n=new Yn(this.scheduler,t),i=e(this,n);this._trim(this.scheduler.now()),this.observers.push(n);for(var o=0,r=this.q.length;r>o;o++)n.onNext(this.q[o].value);return this.hasError?n.onError(this.error):this.isStopped&&n.onCompleted(),n.ensureActive(),i},hasObservers:function(){return pn(this),this.observers.length>0},_trim:function(t){for(;this.q.length>this.bufferSize;)this.q.shift();for(;this.q.length>0&&t-this.q[0].interval>this.windowSize;)this.q.shift()},onNext:function(t){if(pn(this),!this.isStopped){var e=this.scheduler.now();this.q.push({interval:e,value:t}),this._trim(e);for(var n=0,i=c(this.observers),o=i.length;o>n;n++){var r=i[n];r.onNext(t),r.ensureActive()}}},onError:function(t){if(pn(this),!this.isStopped){this.isStopped=!0,this.error=t,this.hasError=!0;var e=this.scheduler.now();this._trim(e);for(var n=0,i=c(this.observers),o=i.length;o>n;n++){var r=i[n];r.onError(t),r.ensureActive()}this.observers.length=0}},onCompleted:function(){if(pn(this),!this.isStopped){this.isStopped=!0;var t=this.scheduler.now();this._trim(t);for(var e=0,n=c(this.observers),i=n.length;i>e;e++){var o=n[e];o.onCompleted(),o.ensureActive()}this.observers.length=0}},dispose:function(){this.isDisposed=!0,this.observers=null}}),n}(Xn),Ls=Kt.AnonymousSubject=function(t){function e(e,n){this.observer=e,this.observable=n,t.call(this)}return tn(e,t),en(e.prototype,zn.prototype,{_subscribe:function(t){return this.observable.subscribe(t)},onCompleted:function(){this.observer.onCompleted()},onError:function(t){this.observer.onError(t)},onNext:function(t){this.observer.onNext(t)}}),e}(Xn);Kt.Pauser=function(t){function e(){t.call(this)}return tn(e,t),e.prototype.pause=function(){this.onNext(!1)},e.prototype.resume=function(){this.onNext(!0)},e}(Os),Gt.Rx=Kt,i=function(){return Kt}.call(e,n,e,t),!(i!==s&&(t.exports=i));var Vs=m()}).call(this)}).call(e,n(44)(t),function(){return this}(),n(45))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e){function n(){l=!1,s.length?c=s.concat(c):u=-1,c.length&&i()}function i(){if(!l){var t=setTimeout(n);l=!0;for(var e=c.length;e;){for(s=c,c=[];++u<e;)s&&s[u].run();u=-1,e=c.length}s=null,l=!1,clearTimeout(t)}}function o(t,e){this.fun=t,this.array=e}function r(){}var s,a=t.exports={},c=[],l=!1,u=-1;a.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new o(t,e)),1!==c.length||l||setTimeout(i,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=r,a.addListener=r,a.once=r,a.off=r,a.removeListener=r,a.removeAllListeners=r,a.emit=r,a.binding=function(t){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(t){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(t,e,n){"use strict";var i=n(1),o=n(5),r=n(47),s=n(48);e.moduleName="rl.ui.components.cardContainer.card.headerColumn",i.module(e.moduleName,[o.services.string.moduleName]).directive(s.sizeForBreakpointsName,s.sizeForBreakpoints).directive(r.directiveName,r.headerColumn).controller(r.controllerName,r.HeaderColumnController)},function(t,e,n){"use strict";function i(t){return{restrict:"E",require:{cardController:"^"+s.componentName},template:'\n			<div rl-size-for-breakpoints="header.column.size" styling="::header.column.styling" title="{{::header.column.description}}">\n				<div class="template-container"></div>\n			</div>\n		',controller:e.controllerName,controllerAs:"header",scope:{},bindToController:{column:"<",item:"<",alias:"<"},compile:function(){return{pre:function(e){var n=e.header;null!=n.alias&&(e[n.alias]=n.item);var i=n.column;null!=i.templateUrl?n.renderedTemplate=t("<div ng-include=\"'"+i.templateUrl+"'\"></div>")(e):null!=i.template?n.renderedTemplate=t(i.template)(e):n.renderedTemplate=t("<span>{{header.value}}</span>")(e)},post:function(t,e){var n=e.find(".template-container");n.append(t.header.renderedTemplate)}}}}}var o=n(5),r=o.services.transform.transform,s=n(42);e.directiveName="rlCardHeaderColumn",e.controllerName="CardHeaderColumnController";var a=function(){function t(){var t=this;this.update=function(){t.value=r.getValue(t.item,t.column.getValue)}}return t.prototype.$onInit=function(){this.update(),this.cardController.refresh.subscribe(this.update)},t}();e.HeaderColumnController=a,i.$inject=["$compile"],e.headerColumn=i},function(t,e,n){"use strict";function i(t,e){function n(e,n,o){var r=t(o.rlSizeForBreakpoints)(e),a=t(o.styling)(e),c=[];c.push(i(r,s.xs)),c.push(i(r,s.sm)),c.push(i(r,s.md)),c.push(i(r,s.lg)),n.addClass(c.join(" ")),null!=a&&n.addClass(a)}function i(t,n){var i=t[n];return i>0&&"hidden"!==i?e.substitute("col-{0}-{1}",n,i):"hidden-"+n}return{restrict:"A",link:n}}var o=n(5),r=o.services.string,s=n(49);e.sizeForBreakpointsName="rlSizeForBreakpoints",i.$inject=["$parse",r.serviceName],e.sizeForBreakpoints=i},function(t,e){"use strict";e.lg="lg",e.md="md",e.sm="sm",e.xs="xs",e.all=[e.xs,e.sm,e.md,e.lg]},function(t,e){t.exports='<rl-generic-container selector="__card.selectable">\r\n	<template when-selector="false" default>\r\n		<div class="card" ng-class="{ \'selected\': __card.item.viewData.selected }">\r\n			<div class="header" ng-click="__card.toggleContent()" ng-class="{ \'active\': __card.hasBody || !__card.permanentFooter }">\r\n				<div class="row">\r\n					<div ng-repeat="column in __card.columns">\r\n						<rl-card-header-column column="column" item="__card.item" alias="__card.cardAs"></rl-card-header-column>\r\n					</div>\r\n				</div>\r\n			</div>\r\n\r\n			<div ng-show="__card.showContent">\r\n				<ng-form rl-autosave="__card.autosaveLink" save="__card.saveCard()" save-when-invalid="__card.saveWhenInvalid">\r\n					<div class="body" ng-class="{ \'active\': __card.clickable }" ng-click="__card.clickCard()">\r\n						<div class="content-template"></div>\r\n						<div class="clearfix"></div>\r\n					</div>\r\n				</ng-form>\r\n			</div>\r\n			<div ng-show="__card.hasFooter && (__card.showContent || __card.permanentFooter)">\r\n				<div class="footer">\r\n					<div class="footer-template"></div>\r\n					<div class="clearfix"></div>\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</template>\r\n	<template when-selector="true">\r\n		<div class="select-group">\r\n			<div class="select-column">\r\n				<input type="checkbox" class="stand-alone-checkbox" ng-model="__card.item.viewData.selected" ng-change="__card.selectionChanged()"\r\n					   ng-disabled="__card.item.viewData.disabledSelection" title="{{__card.item.viewData.selectionTitle}}" />\r\n			</div>\r\n			<div class="select-content">\r\n\r\n				<div class="card selectable" ng-class="{ \'selected\': __card.item.viewData.selected }">\r\n					<div class="header active" ng-click="__card.toggleContent()">\r\n						<div class="row">\r\n							<div ng-repeat="column in __card.columns">\r\n								<rl-card-header-column column="column" item="__card.item"></rl-card-header-column>\r\n							</div>\r\n						</div>\r\n					</div>\r\n\r\n					<div ng-show="__card.showContent">\r\n						<ng-form rl-autosave="__card.autosaveLink" save="__card.saveCard()" save-when-invalid="__card.saveWhenInvalid">\r\n							<div class="body" ng-class="{ \'active\': __card.clickable }" ng-click="__card.clickCard()">\r\n								<div class="content-template"></div>\r\n								<div class="clearfix"></div>\r\n							</div>\r\n						</ng-form>\r\n					</div>\r\n					<div ng-show="__card.hasFooter && (__card.showContent || __card.permanentFooter)">\r\n						<div class="footer">\r\n							<div class="footer-template"></div>\r\n							<div class="clearfix"></div>\r\n						</div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</template>\r\n</rl-generic-container>'},function(t,e,n){"use strict";var i=n(1);e.moduleName="rl.ui.components.cardContainer.cardSearch",e.componentName="rlCardSearch",e.controllerName="CardSearchController",e.defaultSearchPlaceholder="Search",e.defaultSearchDelay=1e3;var o=function(){function t(t,e){this.$scope=t,this.$timeout=e,this.searchLengthError=!1,this.hasSearchFilter=!0}return t.prototype.$onInit=function(){var t=this;if(null!=this.cardContainer){if(this.minSearchError="You must enter at least {{cardSearch.minSearchLength}} characters to perform a search",null==this.searchFilter){var n=this.cardContainer.searchFilter;this.searchFilter=n,null==n&&(this.hasSearchFilter=!1)}if(this.hasSearchFilter){this.searchPlaceholder=e.defaultSearchPlaceholder;var i,o=this.cardContainer.dataSource,r=null!=this.delay?this.delay:e.defaultSearchDelay;this.$scope.$watch(function(){return t.searchText},function(e){t.searchFilter.searchText=e,t.minSearchLength=t.searchFilter.minSearchLength,t.validateSearchLength(e,t.minSearchLength),null!=i&&t.$timeout.cancel(i),i=t.$timeout(o.refresh.bind(o),r)}),this.$scope.$watch(function(){return t.searchFilter.searchText},function(){t.searchText=t.searchFilter.searchText})}}},t.prototype.validateSearchLength=function(t,e){this.searchLengthError=null!=t&&t.length>0&&t.length<e},t.$inject=["$scope","$timeout"],t}();e.CardSearchController=o;var r={require:{cardContainer:"?^^rlCardContainer"},template:n(52),controller:e.controllerName,controllerAs:"cardSearch",bindings:{delay:"<?searchDelay",searchFilter:"<?"}};i.module(e.moduleName,[]).component(e.componentName,r).controller(e.controllerName,o)},function(t,e){t.exports='<div class="input-group" ng-show="cardSearch.hasSearchFilter" ng-class="{ \'has-error\': cardSearch.searchLengthError }">\r\n	<input class="form-control" type="text" placeholder="{{cardSearch.searchPlaceholder}}" ng-model="cardSearch.searchText"\r\n		   rl-popover="cardSearch.minSearchError" popover-trigger="mouseenter" popover-enable="cardSearch.searchLengthError" />\r\n	<div class="input-group-btn">\r\n		<button type="button" class="btn btn-default" ng-disabled="cardSearch.searchText | isEmpty" ng-click="cardSearch.searchText = null">\r\n			<i class="fa fa-times"></i>\r\n		</button>\r\n	</div>\r\n</div>'},function(t,e,n){"use strict";function i(t){return{restrict:"E",template:'\n			<div rl-size-for-breakpoints="column.size" ng-click="sort()" title="{{::column.description}}"\n					class="column-header">\n				<div class="template-container"></div>\n				<i ng-show="sorting === sortDirection.ascending" class="fa fa-sort-asc"></i>\n				<i ng-show="sorting === sortDirection.descending" class="fa fa-sort-desc"></i>\n			</div>\n		',scope:{column:"=",sorting:"=",sort:"&"},compile:function(){return{pre:function(e){var n=e.column;null!=n.headerTemplateUrl?e.renderedTemplate=t("<div ng-include=\"'"+n.headerTemplateUrl+"'\"></div>")(e):null!=n.headerTemplate?e.renderedTemplate=t(n.headerTemplate)(e):e.renderedTemplate="<h5>"+n.label+"</h5"},post:function(t,e){if(null!=t.column.displayColumnHeader&&t.column.displayColumnHeader===!1)return void e.remove();var n=e.find(".template-container");n.append(t.renderedTemplate),t.sortDirection=r.SortDirection}}}}}var o=n(1),r=n(54);e.moduleName="rl.ui.components.cardContainer.columnHeader",e.directiveName="rlColumnHeader",i.$inject=["$compile"],e.cardColumnHeader=i,o.module(e.moduleName,[]).directive(e.directiveName,i)},function(t,e){"use strict";var n=function(){function t(t){this.value=t}return t.toggle=function(e){return e===t.ascending?t.descending:e===t.descending?t.none:t.ascending},t.getFullName=function(e){return e===t.ascending?"ascending":e===t.descending?"descending":"none"},t.none=new t(0),t.ascending=new t(1),t.descending=new t(2),t}();e.SortDirection=n},function(t,e,n){"use strict";var i=n(1),o=n(5),r=n(56),s=n(60);e.clientServerDataSource=s;var a=n(65);e.dataPager=a;var c=n(66);e.dataServiceDataSource=c;var l=n(67);e.serverSideDataSource=l;var u=n(68);e.simpleDataSource=u;var h=n(69);e.smartDataSource=h;var p=n(63);e.events=p;var d=n(64);e.dataSourceProcessor=d;var f=n(62);e.dataSourceBase=f,e.moduleName="rl.ui.components.cardContainer.dataSources",i.module(e.moduleName,[o.services.object.moduleName,r.moduleName,s.moduleName,a.moduleName,c.moduleName,l.moduleName,u.moduleName,h.moduleName]).service(d.processorServiceName,d.DataSourceProcessor)},function(t,e,n){"use strict";function i(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}var o=n(1),r=n(57);e.mergeSort=r;var s=n(58);e.sorter=s,i(n(59)),i(n(54)),e.moduleName="rl.ui.components.cardContainer.sorts",o.module(e.moduleName,[r.moduleName,s.moduleName])},function(t,e,n){"use strict";var i=n(1),o=n(5);e.moduleName="rl.ui.components.cardContainer.sorts.mergeSort",e.serviceName="mergeSort";var r=function(){function t(){}return t.prototype.sort=function(t,e){if(t.length<2)return t;null==e&&(e=this.defaultCompare);var n,i,o;return n=t.length/2,i=this.sort(t.slice(0,n),e),o=this.sort(t.slice(n,t.length),e),this.merge(i,o,e)},t.prototype.defaultCompare=function(t,e){return e>t?o.types.CompareResult.less:t>e?o.types.CompareResult.greater:o.types.CompareResult.equal},t.prototype.merge=function(t,e,n){for(var i=[];t.length&&e.length;)n(t[0],e[0])===o.types.CompareResult.greater?i.push(e.shift()):i.push(t.shift());return t.length&&i.push.apply(i,t),e.length&&i.push.apply(i,e),i},t}();e.MergeSort=r,i.module(e.moduleName,[]).service(e.serviceName,r)},function(t,e,n){"use strict";var i=n(1),o=n(18),r=n(5),s=r.services.transform.transform,a=n(54),c=n(57);e.moduleName="rl.ui.components.cardContainer.sorts.sorter",e.serviceName="sorter";var l=function(){function t(t){this.mergeSort=t}return t.prototype.sort=function(t,e){var n=this;if(null===e)return t;if(o.isArray(e)){var i=o.clone(e);return i.reverse(),o.reduce(i,function(t,e){return n.singleSort(t,e)},t)}return this.singleSort(t,e)},t.prototype.singleSort=function(t,e){var n=this.buildSortFunction(e);return this.mergeSort.sort(t,n)},t.prototype.buildSortFunction=function(t){return function(e,n){if(t.direction===a.SortDirection.none)return r.types.CompareResult.equal;var i=s.getValue(e,t.column.getValue),o=s.getValue(n,t.column.getValue),c=r.types.CompareResult.greater,l=r.types.CompareResult.less,u=t.direction===a.SortDirection.descending,h=t.column.flipSort;return!u&&!h||u&&h||(c=r.types.CompareResult.less,l=r.types.CompareResult.greater),i>o?c:o>i?l:r.types.CompareResult.equal}},t.$inject=[c.serviceName],t}();e.Sorter=l,i.module(e.moduleName,[]).service(e.serviceName,l)},function(t,e,n){"use strict";function i(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}i(n(54))},function(t,e,n){"use strict";function i(t,e,n,i,o){return{getInstance:function(r,s,a,c){return new d(r,s,a,c,t,e,n,i,o)}}}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(1),s=n(5),a=s.services.observable,c=s.services.array,l=s.services.object,u=s.services.synchronizedRequests,h=n(61),p=n(64);e.moduleName="rl.ui.components.cardContainer.dataSources.clientServerDataSource",e.factoryName="clientServerDataSource";var d=function(t){function e(e,n,i,o,r,s,a,c,l){t.call(this,e,r,s,a,l),this.searchFilter=n,this.getFilterModel=i,this.validateModel=o,this.object=c,this.minSearchLength=4,this.getFilterModel=this.getFilterModel||function(){return null},this.validateModel=this.validateModel||function(){return!0},this.countFilterGroups=!0,this.search=n.searchText,this.filterModel=_.clone(this.getFilterModel()),n.minSearchLength=this.minSearchLength}return o(e,t),e.prototype.refresh=function(){this.searchFilter.searchText!==this.search||this.filterModelChanged()?this.reload():t.prototype.refresh.call(this)},e.prototype.reload=function(){this.search=this.searchFilter.searchText,this.filterModel=_.clone(this.getFilterModel());var e=!this.object.isNullOrEmpty(this.search)&&this.search.length>=this.minSearchLength,n=null!=this.filterModel&&this.validateModel(this.filterModel);return e||n?void t.prototype.reload.call(this):void this.resolveReload(null)},e.prototype.filterModelChanged=function(){return!this.object.areEqual(this.getFilterModel(),this.filterModel)},e.prototype.getParams=function(){var t=this.getFilterModel();return null!=t?t.search=this.search:t=this.search,t},e}(h.AsyncDataSource);e.ClientServerDataSource=d,i.$inject=[a.factoryName,p.processorServiceName,c.serviceName,l.serviceName,u.factoryName],e.clientServerDataSourceFactory=i,r.module(e.moduleName,[a.moduleName,c.moduleName,l.moduleName,u.moduleName]).factory(e.factoryName,i)},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(62),r=n(63),s=function(t){function e(e,n,i,o,s){t.call(this,n,i,o),this.observable.allowableEvents=r.async.all,this.synchronizedRequests=s.getInstance(e,this.resolveReload.bind(this))}return i(e,t),Object.defineProperty(e.prototype,"getDataSet",{set:function(t){this.synchronizedRequests.dataProvider=t},enumerable:!0,configurable:!0}),e.prototype.reload=function(){this.dataSet=null,this.rawDataSet=null,this.loadingDataSet=!0,this.synchronizedRequests.getData(this.getParams())},e.prototype.resolveReload=function(t){this.loadingDataSet=!1,this.rawDataSet=t,this.processData(),this.observable.fire(r.async.reloaded),this.observable.fire(r.redrawing),this.observable.fire(r.changed)},e.prototype.getParams=function(){return null},e}(o.DataSourceBase);e.AsyncDataSource=s},function(t,e,n){"use strict";var i=n(5),o=i.services.object,r=n(63),s=function(){function t(t,e,n){this.dataSourceProcessor=e,this.array=n,this.sorts=[],this.filters=[],this.count=0,this.countFilterGroups=!1,this.loadingDataSet=!1,this.observable=t.getInstance(),this.observable.allowableEvents=r.all}return t.prototype.watch=function(t,e){return this.observable.register(t,e)},Object.defineProperty(t.prototype,"needsRefinedSearch",{get:function(){var t=o.objectUtility.isNullOrEmpty(this.dataSet),e=this._isEmpty===!1||null!=this.rawDataSet&&this.rawDataSet.length<this.count;return t&&e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEmpty",{get:function(){return o.objectUtility.isNullOrEmpty(this.rawDataSet)&&(null!=this._isEmpty?this._isEmpty:!0)},set:function(t){this._isEmpty=t},enumerable:!0,configurable:!0}),t.prototype.processData=function(){var t;t=this.countFilterGroups?this.dataSourceProcessor.processAndCount(this.sorts,this.filters,this.pager,this.rawDataSet):this.dataSourceProcessor.process(this.sorts,this.filters,this.pager,this.rawDataSet),this.setProcessedData(t)},t.prototype.processDataNoClientFilters=function(){var t;t=this.countFilterGroups?this.dataSourceProcessor.processAndCount(this.sorts,null,this.pager,this.rawDataSet):this.dataSourceProcessor.process(this.sorts,null,this.pager,this.rawDataSet),this.setProcessedData(t)},t.prototype.setProcessedData=function(t){this.count=t.count,this.dataSet=t.dataSet,this.filteredDataSet=t.filteredDataSet},t.prototype.onSortChange=function(){this.loadingDataSet||(this.filteredDataSet=this.dataSourceProcessor.sort(this.filteredDataSet,this.sorts),this.dataSet=this.dataSourceProcessor.page(this.filteredDataSet,this.pager),this.observable.fire(r.redrawing))},t.prototype.onPagingChange=function(){this.loadingDataSet||(this.dataSet=this.dataSourceProcessor.page(this.filteredDataSet,this.pager),this.observable.fire(r.redrawing))},t.prototype.refresh=function(){this.loadingDataSet||(this.processData(),this.observable.fire(r.redrawing))},t.prototype.remove=function(t){var e=this.array.remove(this.rawDataSet,t);null!=e&&(this.observable.fire(r.removed),this.observable.fire(r.changed),this.pager&&this.refresh())},t.prototype.push=function(t){this.rawDataSet.push(t),this.observable.fire(r.added),this.observable.fire(r.changed),this.refresh()},t.prototype.replace=function(t,e){var n=this.rawDataSet.indexOf(t);n>=0&&(this.array.replace(this.rawDataSet,t,e),this.observable.fire(r.replaced),this.observable.fire(r.changed),this.refresh())},t}();e.DataSourceBase=s},function(t,e,n){"use strict";var i=n(18);e.redrawing="redrawing",e.changed="changed",e.added="added",e.removed="removed",e.replaced="replaced",e.all=[e.redrawing,e.changed,e.added,e.removed,e.replaced],e.async={reloaded:"reloaded",all:[]},e.async.all=i.clone(e.all),e.async.all.push(e.async.reloaded)},function(t,e,n){"use strict";var i=n(18),o=n(5),r=o.services.object,s=n(58);e.processorServiceName="dataSourceProcessor";var a=function(){function t(t,e){this.object=t,this.sorter=e}return t.prototype.process=function(t,e,n,o){var r=o;r=this.sort(r,t),this.object.isNullOrEmpty(e)===!1&&(r=i.reduce(e,function(t,e){return i.filter(t,e.filter.bind(e))},r));var s={count:null!=r?r.length:0,filteredDataSet:r,dataSet:r};return s.dataSet=this.page(r,n),s},t.prototype.processAndCount=function(t,e,n,o){var r=this;if(this.object.isNullOrEmpty(e)||i.some(e,function(t){return i.isFunction(t.updateOptionCounts)})===!1)return this.process(t,e,n,o);var s=o;s=this.sort(s,t);var a=this.wrapData(s);i.each(e,function(t){i.each(a,function(e){e.filterData[t.type]=t.filter(e.data)})}),i.each(e,function(t){if(i.isFunction(t.updateOptionCounts)){var e=i.filter(a,function(e){var n=i.omit(e.filterData,t.type);return i.every(i.values(n))});t.updateOptionCounts(r.unwrapData(e))}}),a=i.filter(a,function(t){return i.every(i.values(t.filterData))}),s=this.unwrapData(a);var c={count:s.length,filteredDataSet:s,dataSet:s};return c.dataSet=this.page(s,n),c},t.prototype.sort=function(t,e){return this.object.isNullOrEmpty(e)===!1?this.sorter.sort(t,e):t},t.prototype.page=function(t,e){return null!=e?e.filter(t):t},t.prototype.wrapData=function(t){return i.map(t,function(t){return{data:t,filterData:{}}})},t.prototype.unwrapData=function(t){return i.map(t,function(t){return t.data})},t.$inject=[r.serviceName,s.serviceName],t}();e.DataSourceProcessor=a},function(t,e,n){"use strict";function i(){return{getInstance:function(){return new s}}}var o=n(1),r=n(18);e.moduleName="rl.ui.components.cardContainer.dataSources.dataPager",e.factoryName="dataPager",e.defaultPageSize=10;var s=function(){function t(){this.pageNumber=1,this.pageSize=e.defaultPageSize}return Object.defineProperty(t.prototype,"startItem",{get:function(){return(this.pageNumber-1)*this.pageSize},enumerable:!0,configurable:!0}),t.prototype.filter=function(t){return r(t).drop(this.startItem).take(this.pageSize).value()},t}();e.DataPager=s,e.dataPagerFactory=i,o.module(e.moduleName,[]).factory(e.factoryName,i)},function(t,e,n){"use strict";function i(t,e,n,i){return{getInstance:function(o){return new d(o,t,e,n,i)}}}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(1),s=n(18),a=n(5),c=a.services.observable,l=a.services.array,u=a.services.synchronizedRequests,h=n(61),p=n(64);e.moduleName="rl.ui.components.cardContainer.dataSources.dataServiceDataSource",
e.factoryName="dataServiceDataSource";var d=function(t){function e(e,n,i,o,r){t.call(this,e,n,i,o,r),this.countFilterGroups=!0,s.isFunction(e)&&this.reload()}return o(e,t),e}(h.AsyncDataSource);e.DataServiceDataSource=d,i.$inject=[c.factoryName,p.processorServiceName,l.serviceName,u.factoryName],e.dataServiceDataSourceFactory=i,r.module(e.moduleName,[c.moduleName,l.moduleName]).factory(e.factoryName,i)},function(t,e,n){"use strict";function i(t,e,n,i,o){return{getInstance:function(r){return new v(r,t,e,n,i,o)}}}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(1),s=n(18),a=n(5),c=a.services.observable,l=a.services.array,u=a.services.object,h=a.services.synchronizedRequests,p=n(61),d=n(64),f=n(59),m=n(63);e.moduleName="rl.ui.components.cardContainer.dataSources.serverSideDataSource",e.factoryName="serverSideDataSource";var v=function(t){function e(e,n,i,o,r,s){t.call(this,e,n,i,o,s),this.object=r}return o(e,t),e.prototype.refresh=function(){this.reload()},e.prototype.getParams=function(){var t=this.array.toDictionary(this.filters,function(t){return t.type});return{filters:s.mapValues(t,function(t){return s.isFunction(t.serialize)?t.serialize():null}),sorts:s.map(this.sorts,function(t){return{column:t.column.label,direction:f.SortDirection.getFullName(t.direction)}}),paging:{pageNumber:this.pager.pageNumber,pageSize:this.pager.pageSize}}},e.prototype.resolveReload=function(e){var n=e;t.prototype.resolveReload.call(this,n.dataSet),this.setProcessedData({count:n.count,filteredDataSet:n.dataSet,dataSet:n.dataSet}),this.observable.fire(m.redrawing)},e}(p.AsyncDataSource);e.ServerSideDataSource=v,i.$inject=[c.factoryName,d.processorServiceName,l.serviceName,u.serviceName,h.factoryName],e.serverSideDataSourceFactory=i,r.module(e.moduleName,[]).factory(e.factoryName,i)},function(t,e,n){"use strict";function i(t,e,n){return{getInstance:function(i){return new h(i,t,e,n)}}}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(1),s=n(5),a=s.services.observable,c=s.services.array,l=n(62),u=n(64);e.moduleName="rl.ui.components.cardContainer.dataSources.simpleDataSource",e.factoryName="simpleDataSource";var h=function(t){function e(e,n,i,o){t.call(this,n,i,o),this.countFilterGroups=!1,this.rawDataSet=e,this.processData()}return o(e,t),e}(l.DataSourceBase);e.SimpleDataSource=h,i.$inject=[a.factoryName,u.processorServiceName,c.serviceName],e.simpleDataSourceFactory=i,r.module(e.moduleName,[a.moduleName,c.moduleName]).factory(e.factoryName,i)},function(t,e,n){"use strict";function i(t,e,n,i,o){return{getInstance:function(r){return new m(r,t,e,n,i,o)}}}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(1),s=n(18),a=n(5),c=a.services.observable,l=a.services.array,u=a.services.object,h=a.services.synchronizedRequests,p=n(61),d=n(64),f=n(59);e.moduleName="rl.ui.components.cardContainer.dataSources.smartDataSource",e.factoryName="smartDataSource";var m=function(t){function e(e,n,i,o,r,s){t.call(this,e,n,i,o,s),this.object=r,this.throttled=!0,this.throttleLimit=200}return o(e,t),Object.defineProperty(e.prototype,"filters",{get:function(){return this._filters},set:function(t){this._filters=t,this.setupSubscriptions()},enumerable:!0,configurable:!0}),e.prototype.onSortChange=function(){this.throttled?this.reload():t.prototype.onSortChange.call(this)},e.prototype.refresh=function(){this.throttled?this.reload():t.prototype.refresh.call(this)},e.prototype.getParams=function(){return this.updateAppliedFilters(),{filters:this.appliedFilters,sorts:s.map(this.sorts,function(t){return{column:t.column.label,direction:f.SortDirection.getFullName(t.direction)}}),paging:{pageNumber:1,pageSize:this.throttleLimit}}},e.prototype.updateAppliedFilters=function(){var t=this.array.toDictionary(this.filters,function(t){return t.type});this.appliedFilters=s.mapValues(t,function(t){return s.isFunction(t.serialize)?t.serialize():null}),this.appliedFilters=s.omitBy(this.appliedFilters,function(t){return null==t})},e.prototype.setupSubscriptions=function(){var t=this;s.each(this.subscriptions,function(t){t.dispose()}),this.subscriptions=[],s.each(this.filters,function(e){s.isFunction(e.subscribe)&&t.subscriptions.push(e.subscribe(function(){t.onFilterChange(e)}))})},e.prototype.onFilterChange=function(t){s.has(this.appliedFilters,t.type)&&this.reload()},e.prototype.resolveReload=function(e){var n=e;this.throttled=n.count>n.dataSet.length,t.prototype.resolveReload.call(this,n.dataSet),this.count=n.count,this.isEmpty=n.isEmpty},e}(p.AsyncDataSource);e.SmartDataSource=m,i.$inject=[c.factoryName,d.processorServiceName,l.serviceName,u.serviceName,h.factoryName],e.smartDataSourceFactory=i,r.module(e.moduleName,[]).factory(e.factoryName,i)},function(t,e,n){"use strict";function i(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}var o=n(1),r=n(71);e.columnSearchFilter=r;var s=n(72),a=n(77);e.filterGroup=a;var c=n(85);e.selectFilter=c;var l=n(89);i(n(89)),e.moduleName="rl.ui.components.cardContainer.filters",o.module(e.moduleName,[r.moduleName,s.moduleName,a.moduleName,c.moduleName,l.moduleName])},function(t,e,n){"use strict";function i(t,e){return{getInstance:function(){return new l(t,e)}}}var o=n(1),r=n(5),s=r.services.object,a=r.services.string,c=r.services.transform.transform;e.moduleName="rl.ui.components.cardContainer.filters.columnSearchFilter",e.factoryName="columnSearchFilter",e.filterName="column-search";var l=function(){function t(t,n){this.object=t,this.string=n,this.type=e.filterName}return t.prototype.filter=function(t){if(null==this.column)return!0;var e=this.object.toString(c.getValue(t,this.column.getValue)),n=this.searchText;return this.caseSensitive||(n=n.toLowerCase(),e=e.toLowerCase()),this.string.contains(e,n)},t}();e.ColumnSearchFilter=l,i.$inject=[s.serviceName,a.serviceName],e.columnSearchFilterFactory=i,o.module(e.moduleName,[s.moduleName,a.moduleName]).factory(e.factoryName,i)},function(t,e,n){"use strict";function i(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}var o=n(1),r=n(5),s=r.services.date,a=n(73),c=n(75);e.moduleName="rl.ui.components.cardContainer.filters.dateFilter",i(n(73)),i(n(75)),o.module(e.moduleName,[s.moduleName]).factory(a.factoryName,a.dateFilterFactory).component(c.componentName,c.dateFilter).controller(c.controllerName,c.DateFilterController)},function(t,e,n){"use strict";function i(t){return{getInstance:function(e){return new c(e,t)}}}var o=n(74),r=n(5),s=r.services.date,a=r.services.transform.transform;e.factoryName="rlDateFilterFactory";var c=function(){function t(t,e){this.dateUtility=e,this.valueSelector=t.valueSelector,this.type=t.type,this.clearButton=t.clearButton,this.includeDateRange=t.includeDateRange,this.includeTime=null!=t.includeTime?t.includeTime:!1,this.label=t.label,this.template='<rl-date-filter filter="filter" source="dataSource" label="{{filter.label}}" include-time="filter.includeTime"\n									     include-date-range="filter.includeDateRange" clear-button="filter.clearButton"></rl-date-filter>'}return t.prototype.filter=function(t){if(!this.dateUtility.isDate(this.selectedDate1))return!0;if(this.dateRange){var e=this.getValue(t),n=void 0;return n=this.includeTime?o(this.selectedDate1):o(this.selectedDate1).add(1,"days"),this.dateUtility.dateInRange(e,this.selectedDate2,this.selectedDate1)}return this.includeTime?this.dateUtility.sameDateTime(this.getValue(t),this.selectedDate1):this.dateUtility.sameDate(this.getValue(t),this.selectedDate1)},t.prototype.getValue=function(t){return a.getValue(t,this.valueSelector)},t}();i.$inject=[s.serviceName],e.dateFilterFactory=i},function(t,e){!function(){t.exports=this.moment}()},function(t,e,n){"use strict";var i=n(74),o=n(5),r=o.services.date;e.componentName="rlDateFilter",e.controllerName="rlDateFilterController";var s;!function(t){t[t.Day=0]="Day",t[t.Week=1]="Week",t[t.Month=2]="Month"}(s||(s={}));var a=function(){function t(t,e,n){this.$scope=t,this.dateUtility=e,this.$element=n,this.count=0,this.type="days",this.filter.includeTime=this.includeTime,this.inputField=this.$element.find("rl-date-time input"),this.filter.dateRange=!1,null==this.clearButton&&(this.clearButton=!0)}return Object.defineProperty(t.prototype,"selectedDate1",{get:function(){return null!=this.filter.selectedDate1?i(this.filter.selectedDate1):(this.inputField.val(""),this.clearCount(),null)},set:function(t){this.dateUtility.isDate(t)?this.filter.selectedDate1=i(t):(this.inputField.val(""),this.clearCount(),this.filter.selectedDate1=null),this.refreshDataSource()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedDate2",{get:function(){return this.filter.selectedDate2},set:function(t){this.filter.selectedDate2=t,this.refreshDataSource()},enumerable:!0,configurable:!0}),t.prototype.refreshDataSource=function(){null!=this.source?this.source.refresh():this.$scope.$emit("dataSource.requestRefresh")},t.prototype.clearCount=function(){this.count=0,this.countChange()},t.prototype.decreaseCount=function(){this.count-=1,this.setDateTimeNowIfNull(),(this.count<0||0===this.count)&&(this.count=0),this.countChange()},t.prototype.countChange=function(){null==this.count&&(this.count=0),this.count>0?(this.filter.dateRange=!0,this.selectedDate2=i(this.selectedDate1).add(-1*this.count,this.type)):0==this.count&&this.filter.dateRange&&(this.filter.dateRange=!1,this.selectedDate2=null)},t.prototype.increaseCount=function(){this.count+=1,this.setDateTimeNowIfNull(),this.countChange()},t.prototype.setDateTimeNowIfNull=function(){null==this.selectedDate1&&(this.selectedDate1=this.dateUtility.getNow())},t.prototype.toggle=function(){"days"===this.type?this.type="weeks":this.type="days",this.countChange()},t.$inject=["$scope",r.serviceName,"$element"],t}();e.DateFilterController=a,e.dateFilter={template:n(76),controller:e.controllerName,controllerAs:"filter",bindings:{filter:"<",source:"<?",label:"@",includeTime:"<?",includeDateRange:"<?",clearButton:"<?"}}},function(t,e){t.exports='<div class="filter-group">\r\n	<div class="content-group">\r\n		<label>{{::filter.label}}</label>\r\n		<rl-date-time ng-model="filter.selectedDate1" use-time="filter.includeTime" clear-button="filter.clearButton" on-clear-event="filter.clearCount()"\r\n		class="pull-left"></rl-date-time>\r\n	</div>\r\n	<div ng-if="filter.includeDateRange" class="content-group">\r\n		<label>Add previous</label>\r\n		<div class="input-group">\r\n		<span class="input-group-btn">\r\n			<button  class="btn btn-default" ng-click="filter.decreaseCount();">\r\n				<i class="fa fa-minus"></i>\r\n			</button>\r\n		</span>\r\n		<input type="number" class="form-control" ng-model="filter.count" ng-change="filter.countChange();" />\r\n		<span class="input-group-btn">\r\n			<button class="btn btn-default" ng-click="filter.toggle();">\r\n			{{filter.type}}\r\n			</button>\r\n		</span>\r\n		<span class="input-group-btn">\r\n			<button class="btn btn-default" ng-click="filter.increaseCount();">\r\n				<i class="fa fa-plus"></i>\r\n			</button>\r\n		</span>\r\n		</div>\r\n	</div>\r\n</div>'},function(t,e,n){"use strict";function i(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}var o=n(1),r=n(5),s=n(78);e.filterOption=s;var a=n(80);e.modeFilterGroup=a;var c=n(82);e.rangeFilterGroup=c;var l=n(81),u=n(83);i(n(83)),i(n(81)),e.moduleName="rl.ui.components.cardContainer.filters.filterGroup",o.module(e.moduleName,[r.services.object.moduleName,s.moduleName,a.moduleName,c.moduleName]).factory(l.factoryName,l.filterGroupFactory).component(u.componentName,u.filterGroup).controller(u.controllerName,u.FilterGroupController)},function(t,e,n){"use strict";var i=n(1);e.moduleName="rl.ui.components.cardContainer.filters.filterGroup.filterOption",e.componentName="rlFilterOption";var o={template:n(79),controllerAs:"filter",bindings:{activate:"&",isActive:"=active",option:"="}};i.module(e.moduleName,[]).component(e.componentName,o)},function(t,e){t.exports='<div class="row filter-option" ng-class="{ \'active\': filter.isActive }" ng-click="filter.activate()">\r\n	<div class="col-xs-1">\r\n		<i class=\'fa fa-arrow-right\' ng-show="filter.isActive == true"></i>\r\n	</div>\r\n	<div class="col-xs-1" ng-if="filter.hasIcon" ng-bind-html="filter.option.icon"></div>\r\n	<div ng-class="{ \'col-xs-6\': filter.hasIcon, \'col-xs-7\': !filter.hasIcon }">\r\n		{{filter.option.label}}\r\n	</div>\r\n	<div class="col-xs-3 text-right" ng-show="filter.option.count != null">\r\n		({{filter.option.count}})\r\n	</div>\r\n</div>'},function(t,e,n){"use strict";function i(t){return{getInstance:function(e){return new h(e,t)}}}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(1),s=n(18),a=n(5),c=a.services.object,l=a.services.transform.transform,u=n(81);e.moduleName="rl.ui.components.cardContainer.filters.filterGroup.modeFilterGroup",e.factoryName="modeFilterGroup";var h=function(t){function e(e,n){t.call(this,e,n),this.getValue=e.getValue,e.options=s.map(e.options,this.buildModeOption.bind(this)),this.initOptions()}return o(e,t),e.prototype.serialize=function(){var t=this.activeOption;return t.displayAll?null:t.value},e.prototype.buildModeOption=function(t){var e=this,n=t;return n.filter=function(t){return n.displayAll?!0:l.getValue(t,e.getValue)===n.value},n},e}(u.FilterGroup);e.ModeFilterGroup=h,i.$inject=[c.serviceName],e.modeFilterGroupFactory=i,r.module(e.moduleName,[c.moduleName]).factory(e.factoryName,i)},function(t,e,n){"use strict";function i(t){return{getInstance:function(e){return new c(e,t)}}}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(18),s=n(5),a=s.services.object;e.factoryName="filterGroup";var c=function(t){function e(e,n){t.call(this),this.settings=e,this.object=n,this.template='<rl-filter-group filter-group="filter" source="dataSource"></rl-filter-group>',this.label=e.label,this.type=null!=e.type?e.type:e.label,this.initOptions()}return o(e,t),e.prototype.initOptions=function(){var t=this;this.options=this.settings.options,this.activeOption=this.setDefaultOption(),r.each(this.options,function(e){r.isUndefined(e.type)&&(e.type=e.label),e.type=t.object.toString(e.type).toLowerCase()})},Object.defineProperty(e.prototype,"activeOption",{get:function(){return this._activeOption},set:function(t){this._activeOption=t,this.onChange(!1)},enumerable:!0,configurable:!0}),e.prototype.setDefaultOption=function(){var t=this.options[0];return r.each(this.options,function(e){null!=e.active&&e.active===!0&&(t=e)}),t},e.prototype.filter=function(t){return this.activeOption.filter(t)},e.prototype.serialize=function(){return r.isFunction(this.settings.serialize)?this.settings.serialize():r.isFunction(this.activeOption.serialize)?this.activeOption.serialize():this.activeOption.value},e.prototype.setActiveOption=function(t){t>=0&&t<this.options.length&&(this.activeOption=this.options[t])},e.prototype.setOptionCounts=function(t){r.each(this.options,function(e){r.has(t,e.type)&&(e.count=t[e.type])})},e.prototype.updateOptionCounts=function(t){r.each(this.options,function(e){e.count=r.filter(t,e.filter.bind(e)).length})},e}(s.filters.SerializableFilter);e.FilterGroup=c,i.$inject=[a.serviceName],e.filterGroupFactory=i},function(t,e,n){"use strict";function i(t){return{getInstance:function(e){return new h(e,t)}}}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(1),s=n(18),a=n(5),c=a.services.object,l=a.services.transform.transform,u=n(81);e.moduleName="rl.ui.components.cardContainer.filters.filterGroup.rangeFilterGroup",e.factoryName="rangeFilterGroup";var h=function(t){function e(e,n){t.call(this,e,n),this.getValue=e.getValue,e.options=s.map(e.options,this.buildRangeOption.bind(this)),this.initOptions()}return o(e,t),e.prototype.serialize=function(){var t=this.activeOption;return this.isNullOption(t)?null:{highInclusive:t.highInclusive,highExclusive:t.highExclusive,lowInclusive:t.lowInclusive,lowExclusive:t.lowExclusive}},e.prototype.buildRangeOption=function(t){var e=this,n=t;return n.filter=function(n){var i=l.getValue(n,e.getValue),o=!0;return s.isUndefined(t.highExclusive)===!1?o=i<t.highExclusive:s.isUndefined(t.highInclusive)===!1&&(o=i<=t.highInclusive),s.isUndefined(t.lowExclusive)===!1?o=o&&i>t.lowExclusive:s.isUndefined(t.lowInclusive)===!1&&(o=o&&i>=t.lowInclusive),o},n},e.prototype.isNullOption=function(t){return null==t.highInclusive&&null==t.highExclusive&&null==t.lowInclusive&&null==t.lowExclusive},e}(u.FilterGroup);i.$inject=[c.serviceName],e.rangeFilterGroupFactory=i,r.module(e.moduleName,[c.moduleName]).factory(e.factoryName,i)},function(t,e,n){"use strict";e.componentName="rlFilterGroup",e.controllerName="FilterGroupController";var i=function(){function t(t){this.$scope=t,this.hasIcon=null!=this.icon&&""!==this.icon,this.showChildren=!0}return t.prototype.toggleChildren=function(){this.showChildren=!this.showChildren},t.prototype.selectOption=function(t){this.filterGroup.activeOption=t,this.showChildren=!1,null!=this.source?this.source.refresh():this.$scope.$emit("dataSource.requestRefresh")},t.$inject=["$scope"],t}();e.FilterGroupController=i,e.filterGroup={template:n(84),controller:e.controllerName,controllerAs:"controller",bindings:{icon:"=",filterGroup:"=",source:"="}}},function(t,e){t.exports='<div class="filter-group">\r\n	<div class="row filter-header" ng-click="controller.toggleChildren()">\r\n		<div class="col-sm-12">\r\n			<i class="collapse-icon fa fa-caret-down fa-2x" ng-show="controller.showChildren" title="Hide filter list"></i>\r\n			<i class="collapse-icon fa fa-caret-right fa-2x" ng-hide="controller.showChildren" title="Show filter list"></i>\r\n			<div class="filter-option">\r\n				<div style="display:inline-block" ng-show="controller.hasIcon" ng-bind-html="controller.icon"></div>\r\n				<h4 style="display: inline-block">{{controller.filterGroup.label}}: {{controller.filterGroup.activeOption.label}}</h4>\r\n			</div>\r\n		</div>\r\n	</div>\r\n	<div ng-show="controller.showChildren" ng-repeat="filterOption in controller.filterGroup.options">\r\n		<rl-filter-option option="filterOption" active="filterGroup.activeOption === filterOption" activate="controller.selectOption(filterOption)"></rl-filter-option>\r\n	</div>\r\n</div>\r\n'},function(t,e,n){"use strict";function i(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}var o=n(1),r=n(86),s=n(87);e.moduleName="rl.ui.components.cardContainer.filters.selectFilter",i(n(86)),i(n(87)),o.module(e.moduleName,[]).factory(r.factoryName,r.selectFilterFactory).component(s.componentName,s.selectFilter).controller(s.controllerName,s.SelectFilterController)},function(t,e,n){"use strict";function i(){return{getInstance:function(t){return new a(t)}}}var o=n(5),r=o.services.object,s=o.services.transform.transform;e.factoryName="rlSelectFilterFactory";var a=function(){function t(t){this.type="selectFilter",this.valueSelector=t.valueSelector,this.comparer=t.comparer,this.options=t.options,this.getOptions=t.getOptions,this.label=t.label,this.displayNameSelector=t.displayNameSelector,this.nullOption=t.nullOption,this.template='<rl-select-filter filter="filter" source="dataSource" options="filter.options" get-options="filter.getOptions()"\n										   label="{{filter.label}}" selector="filter.displayNameSelector" null-option="{{filter.nullOption}}"></rl-select-filter>'}return t.prototype.filter=function(t){return null==this.selectedValue?!0:null!=this.comparer?this.comparer(this.getValue(t),this.selectedValue):r.objectUtility.areEqual(this.getValue(t),this.selectedValue)},t.prototype.getValue=function(t){return s.getValue(t,this.valueSelector)},t}();e.selectFilterFactory=i},function(t,e,n){"use strict";e.componentName="rlSelectFilter",e.controllerName="SelectFilterController";var i=function(){function t(t){this.$scope=t}return Object.defineProperty(t.prototype,"selectedValue",{get:function(){return this.filter.selectedValue},set:function(t){this.filter.selectedValue=t,null!=this.source?this.source.refresh():this.$scope.$emit("dataSource.requestRefresh")},enumerable:!0,configurable:!0}),t.$inject=["$scope"],t}();e.SelectFilterController=i,e.selectFilter={template:n(88),controller:e.controllerName,controllerAs:"filter",bindings:{filter:"<",options:"<?",getOptions:"&",source:"<?",label:"@",selector:"<?",nullOption:"@"}}},function(t,e){t.exports='<div class="filter-group">\r\n	<rl-select ng-model="filter.selectedValue" options="filter.options" label="{{filter.label}}"\r\n			   selector="filter.selector" get-options="filter.getOptions()" null-option="{{filter.nullOption}}"></rl-select>\r\n</div>'},function(t,e,n){"use strict";var i=n(1),o=n(18);e.moduleName="rl.ui.components.cardContainer.filters.cardContainerFilters",e.componentName="rlCardContainerFilters",e.controllerName="CardContainerFiltersController";var r=function(){function t(t){this.$rootScope=t}return t.prototype.$onInit=function(){var t=this;this.renderableFilters=o(this.filters).filter(function(t){return null!=t.template}).map(function(e){var n=t.$rootScope.$new();return n.filter=e,n.dataSource=t.source,e.template={template:e.template,scope:n},e}).value()},t.$inject=["$rootScope"],t}();e.CardContainerFiltersController=r;var s={template:n(90),controller:e.controllerName,controllerAs:"controller",bindings:{filters:"<",source:"<"}};i.module(e.moduleName,[]).component(e.componentName,s).controller(e.controllerName,r)},function(t,e){t.exports='<div ng-repeat="filter in controller.renderableFilters">\r\n	<rl-template-renderer template="filter.template"></rl-template-renderer>\r\n</div>'},function(t,e,n){"use strict";var i=n(1);e.moduleName="rl.ui.components.cardContainer.itemCount",e.componentName="rlItemCount";var o={require:{cardContainer:"?^^rlCardContainer"},template:n(92),controllerAs:"itemCount"};i.module(e.moduleName,[]).component(e.componentName,o)},function(t,e){t.exports='<p ng-show="!itemCount.cardContainer.dataSource.loadingDataSet">\r\n	Showing <strong>{{itemCount.cardContainer.dataSource.dataSet.length}} of {{itemCount.cardContainer.dataSource.count}}</strong> total items\r\n</p>'},function(t,e,n){"use strict";var i=n(1),o=n(18);e.moduleName="rl.ui.components.cardContainer.pager",e.componentName="rlPager",e.controllerName="PagerController",e.defaultVisiblePageCount=5;var r=function(){function t(t){var e=this;this.$scope=t,this.canGoBack=!1,this.canGoForward=!1,this.hasPageFilter=!0,this.updatePageCount=function(){var t=e.dataSource.count,n=Math.ceil(t/e.pager.pageSize);n!==e.lastPage&&(e.lastPage=n,e.currentPage=1),e.updatePaging()}}return t.prototype.$onInit=function(){var t=this;null!=this.cardContainer&&(this.pager=this.cardContainer.dataSource.pager,null==this.pager?this.hasPageFilter=!1:(this.visiblePageCount=null!=this.pageCount?this.pageCount:e.defaultVisiblePageCount,this.lastPage=1,this.dataSource=this.cardContainer.dataSource,this.$scope.$watch(function(){return t.dataSource.count},this.updatePageCount),this.$scope.$watch(function(){return t.pager.pageSize},this.updatePageCount),this.$scope.$watch(function(){return t.currentPage},function(e){t.updatePaging(),t.pager.pageNumber=e,t.dataSource.onPagingChange()})))},t.prototype.updatePaging=function(){var t=this.currentPage;this.canGoBack=t>1,this.canGoForward=t<this.lastPage;var e=this.visiblePageCount-1,n=Math.floor(e/2),i=Math.ceil(e/2),r=t-n,s=t+i;1>r?(r=1,s=Math.min(this.visiblePageCount,this.lastPage)):s>this.lastPage&&(s=this.lastPage,r=Math.max(this.lastPage-e,1)),this.pages=o.range(r,s+1)},t.prototype.first=function(){this.currentPage=1},t.prototype.previous=function(){this.currentPage>1&&this.currentPage--},t.prototype["goto"]=function(t){t>=1&&t<=this.lastPage&&(this.currentPage=t)},t.prototype.next=function(){this.currentPage<this.lastPage&&this.currentPage++},t.prototype.last=function(){this.currentPage=this.lastPage},t.$inject=["$scope"],t}();e.PagerController=r;var s={require:{cardContainer:"?^^rlCardContainer"},template:n(94),controller:e.controllerName,controllerAs:"pager",bindings:{pageCount:"<?visiblePages"}};i.module(e.moduleName,[]).component(e.componentName,s).controller(e.controllerName,r)},function(t,e){t.exports='<nav ng-if="pager.hasPageFilter">\r\n	<ul class="pagination">\r\n		<li title="Go to first page" ng-click="pager.first()"\r\n			ng-class="{ \'disabled\': !pager.canGoBack }">\r\n			<a><i class="fa fa-angle-double-left"></i></a>\r\n		</li>\r\n		<li title="Go to previous page" ng-click="pager.previous()"\r\n			ng-class="{ \'disabled\': !pager.canGoBack }">\r\n			<a><i class="fa fa-angle-left"></i></a>\r\n		</li>\r\n		<li title="Go to page {{pager.page}}" ng-click="pager.goto(page)"\r\n			ng-repeat="page in pager.pages"\r\n			ng-class="{ \'active\': pager.currentPage == page }">\r\n			<a>{{page}}</a>\r\n		</li>\r\n		<li title="Go to next page" ng-click="pager.next()"\r\n			ng-class="{ \'disabled\': !pager.canGoForward }">\r\n			<a><i class="fa fa-angle-right"></i></a>\r\n		</li>\r\n		<li title="Go to last page" ng-click="pager.last()"\r\n			ng-class="{ \'disabled\': !pager.canGoForward }">\r\n			<a><i class="fa fa-angle-double-right"></i></a>\r\n		</li>\r\n	</ul>\r\n</nav>\r\n'},function(t,e,n){"use strict";var i=n(1);e.moduleName="rl.ui.components.cardContainer.pageSize",e.componentName="rlPageSize",e.controllerName="PageSizeController",e.availablePageSizes=[10,25,50,100],e.defaultPageSize=10;var o=function(){function t(t){this.$scope=t}return t.prototype.$onInit=function(){var t=this;if(null!=this.cardContainer){this.selectedPageSize=e.defaultPageSize,this.pageSizes=e.availablePageSizes,this.hasPageFilter=!0;var n=this.cardContainer.dataSource.pager;null==n?this.hasPageFilter=!1:this.$scope.$watch(function(){return t.selectedPageSize},function(e){null!=n&&(n.pageSize=e,t.cardContainer.dataSource.onPagingChange())})}},t.$inject=["$scope"],t}();e.PageSizeController=o;var r={require:{cardContainer:"?^^rlCardContainer"},template:n(96),controller:e.controllerName,controllerAs:"controller"};i.module(e.moduleName,[]).component(e.componentName,r).controller(e.controllerName,o)},function(t,e){t.exports='<div ng-show="controller.hasPageFilter">\r\n	<select class="form-control" title="Cards per page" ng-model="controller.selectedPageSize"\r\n			ng-options="pageSize for pageSize in controller.pageSizes"></select>\r\n</div>\r\n'},function(t,e,n){"use strict";var i=n(1),o=n(18),r=n(5),s=r.services["boolean"];e.moduleName="rl.ui.components.cardContainer.selectionControl",e.componentName="rlSelectionControl",e.controllerName="SelectionControlController";var a=function(){function t(t,e){this.$scope=t,this.bool=e}return t.prototype.$onInit=function(){var t=this;null!=this.cardContainer&&(this.selectedItems=this.cardContainer.numberSelected,this.pagingEnabled=this.bool.toBool(this.cardContainer.dataSource.pager),this.dataSource=this.cardContainer.dataSource,this.$scope.$watch(function(){return t.cardContainer.numberSelected},function(e){t.selectedItems=e}))},t.prototype.selectPage=function(){o.each(this.dataSource.dataSet,function(t){t.viewData.selected=!0}),this.cardContainer.selectionChanged()},t.prototype.selectAll=function(){o.each(this.dataSource.filteredDataSet,function(t){t.viewData.selected=!0}),this.cardContainer.selectionChanged()},t.prototype.clearPage=function(){o.each(this.dataSource.dataSet,function(t){t.viewData.selected=!1}),this.cardContainer.selectionChanged()},t.prototype.clearAll=function(){o.each(this.dataSource.filteredDataSet,function(t){t.viewData.selected=!1}),this.cardContainer.selectionChanged()},t.$inject=["$scope",s.serviceName],t}();e.SelectionControlController=a;var c={require:{cardContainer:"?^^rlCardContainer"},template:n(98),controller:e.controllerName,controllerAs:"selection"};i.module(e.moduleName,[s.moduleName]).component(e.componentName,c).controller(e.controllerName,a)},function(t,e){t.exports='<div>\r\n	<div style="margin-bottom: 5px">\r\n		<span><strong>{{selection.selectedItems}}</strong> items selected</span>\r\n	</div>\r\n	<div style="margin-bottom: 5px" ng-if="selection.pagingEnabled">\r\n		<button type="button" class="btn btn-default" ng-click="selection.selectPage()">Select page</button>\r\n		<button type="button" class="btn btn-default" ng-click="selection.clearPage()">Clear page</button>\r\n	</div>\r\n	<div>\r\n		<button type="button" class="btn btn-default" ng-click="selection.selectAll()">Select all</button>\r\n		<button type="button" class="btn btn-default" ng-click="selection.clearAll()">Clear all</button>\r\n	</div>\r\n</div>\r\n'},function(t,e,n){"use strict";var i=n(18),o=n(5),r=o.services.object,s=o.services.array,a=o.services.parentChildBehavior,c=n(55),l=n(56),u=n(49);e.componentName="rlCardContainer",e.controllerName="CardContainerController",e.defaultMaxColumnSorts=2,e.defaultSelectionTitle="Select card";var h=function(){function t(t,n,o,r,s,a,c){var u=this;this.$scope=t,this.object=r,this.array=s,this.dataPagerFactory=a,this.parentChild=c,this.numberSelected=0,this.addViewData=function(){i.each(u.dataSource.rawDataSet,function(t){i.isUndefined(t.viewData)&&(t.viewData={selected:!1})}),u.updateDisabledSelections()},this.clearFilteredSelections=function(){var t=i.difference(u.dataSource.rawDataSet,u.dataSource.filteredDataSet);i.each(t,function(t){i.isUndefined(t.viewData)&&(t.viewData={selected:!1}),t.viewData.selected=!1,t.viewData.selectionTitle=e.defaultSelectionTitle}),u.updateSelected()},this.updateSelected=function(){u.numberSelected=i.filter(u.dataSource.filteredDataSet,function(t){return null!=t.viewData&&t.viewData.selected}).length},this.updateDisabledSelections=function(){u.disablingSelections&&i.each(u.dataSource.rawDataSet,function(t){var n=u.disableSelection({item:t});t.viewData.disabledSelection=null!=n,t.viewData.selectionTitle=t.viewData.disabledSelection?n:e.defaultSelectionTitle})},null!=this.builder&&this.builder.setCardContainerProperties(this),this.makeCard=o,this.dataSource=this.source,this.permanentFooters=i.isUndefined(this.permanentFooters)?!1:this.permanentFooters,this.maxColSorts=null!=this.maxColumnSorts?this.maxColumnSorts:e.defaultMaxColumnSorts,this.disablingSelections=r.isNullOrWhitespace(n.disableSelection)===!1,this.sortDirection=l.SortDirection,this.syncFilters(),this.setupPaging(),this.buildColumnSizes(),this.selectableCards&&(t.$on("updateDisabledSelections",this.updateDisabledSelections),this.dataSource.watch(this.addViewData,"changed"),this.dataSource.watch(this.clearFilteredSelections,"redrawing"),this.addViewData(),this.selectionColumn={label:null,size:null,getValue:function(t){return t.viewData.selected},flipSort:!0}),null==this.dataSource.sorts&&(this.dataSource.sorts=[]),t.containerData=this.containerData}return t.prototype.sortSelected=function(){this.sort(this.selectionColumn)},t.prototype.openCard=function(){var t=this.parentChild.getAllChildBehaviors(this.dataSource.dataSet);return i.every(i.map(t,function(t){return t.close()}))},t.prototype.sort=function(t){var e=this.dataSource.sorts,n=e[0];if(null!=n&&n.column===t)n.direction=l.SortDirection.toggle(n.direction),n.direction===l.SortDirection.none&&(this.clearVisualSortIndicator(n),n=null,null!=t.secondarySorts?e.length=0:e.shift());else{this.array.remove(e,function(e){return t===e.column});var o={column:t,direction:l.SortDirection.ascending};e.unshift(o),n=o}if(this.updateVisualColumnSorting(),null!=n&&null!=t.secondarySorts){e.length=0;
var r=this.buildSecondarySorts(n.direction,t.secondarySorts);e.push(n),e.push.apply(e,r)}else this.dataSource.sorts=i.take(e,this.maxColSorts);this.dataSource.onSortChange()},t.prototype.selectionChanged=function(){this.updateSelected(),this.selectionChangedEvent()},t.prototype.syncFilters=function(){this.object.isNullOrEmpty(this.filters)?null!=this.dataSource.filters&&(this.filters=this.dataSource.filters):(this.dataSource.filters=this.filters,this.dataSource.refresh())},t.prototype.setupPaging=function(){null!=this.paging?this.paging===!1?this.dataSource.pager=null:(this.builder._pager=this.dataPagerFactory.getInstance(),this.dataSource.pager=this.builder._pager):this.dataSource.pager&&(this.builder._pager=this.dataSource.pager)},t.prototype.buildColumnSizes=function(){var t=this;i.each(this.columns,function(e){var n=e.size;i.isObject(n)?(n[u.xs]=t.object.valueOrDefault(n[u.xs],0),n[u.sm]=t.object.valueOrDefault(n[u.sm],n[u.xs]),n[u.md]=t.object.valueOrDefault(n[u.md],n[u.sm]),n[u.lg]=t.object.valueOrDefault(n[u.lg],n[u.md])):e.size={xs:n,sm:n,md:n,lg:n}})},t.prototype.lookupColumn=function(t){return i.find(this.columns,function(e){return e.label===t})},t.prototype.buildSecondarySorts=function(t,e){var n=this,o=e[l.SortDirection.getFullName(t)];return i.map(o,function(t){return{direction:t.direction,column:n.lookupColumn(t.column)}})},t.prototype.updateVisualColumnSorting=function(){var t=this;i.each(this.dataSource.sorts,function(e,n){0===n?t.updateVisualSortIndicator(e):t.clearVisualSortIndicator(e)})},t.prototype.updateVisualSortIndicator=function(t){t.column.sortDirection=t.direction},t.prototype.clearVisualSortIndicator=function(t){t.column.sortDirection=null},t.$inject=["$scope","$attrs","$transclude",r.serviceName,s.serviceName,c.dataPager.factoryName,a.serviceName],t}();e.CardContainerController=h,e.cardContainer={transclude:{containerHeaderSlot:"?rlContainerHeader",containerFooterSlot:"?rlContainerFooter",contentSlot:"?rlCardContent",footerSlot:"?rlCardFooter"},template:n(100),controller:e.controllerName,controllerAs:"cardContainer",bindings:{builder:"=?",cardController:"@",cardControllerAs:"@",cardAs:"@",selectionChangedEvent:"&selectionChanged"}}},function(t,e){t.exports='<div class="row">\r\n	<div class="col-md-3 col-xs-12" ng-if="cardContainer.renderFilters">\r\n		<rl-card-container-filters filters="cardContainer.filters" source="cardContainer.dataSource"></rl-card-container-filters>\r\n	</div>\r\n	<div class="col-xs-12" ng-class="{ \'col-md-9\': cardContainer.renderFilters }">\r\n		<div class="card-container">\r\n			<div>\r\n				<div class="card-container-header">\r\n					<div ng-transclude="containerHeaderSlot">\r\n						<rl-default-card-container-header></rl-default-card-container-header>\r\n					</div>\r\n				</div>\r\n\r\n				<rl-generic-container selector="cardContainer.selectableCards">\r\n					<template when-selector="false" default>\r\n						<div class="card-columns-header">\r\n							<div ng-repeat="column in cardContainer.columns">\r\n								<rl-column-header sort="cardContainer.sort(column)" sorting="column.sortDirection" column="column"></rl-column-header>\r\n							</div>\r\n							<div class="clearfix"></div>\r\n						</div>\r\n					</template>\r\n					<template when-selector="true">\r\n						<div class="card-columns-header">\r\n							<div class="select-group">\r\n								<div class="select-column">\r\n									<i class="fa fa-check" style="margin-left: 6px; cursor: pointer" ng-click="cardContainer.sortSelected()"></i>\r\n									<i ng-show="cardContainer.sortColumn.sortDirection === cardContainer.sortDirection.ascending" class="fa fa-sort-asc"></i>\r\n									<i ng-show="cardContainer.sortColumn.sortDirection === cardContainer.sortDirection.descending" class="fa fa-sort-desc"></i>\r\n								</div>\r\n								<div class="select-content">\r\n									<div ng-repeat="column in cardContainer.columns">\r\n										<rl-column-header sort="cardContainer.sort(column)" sorting="column.sortDirection" column="column"></rl-column-header>\r\n									</div>\r\n								</div>\r\n							</div>\r\n							<div class="clearfix"></div>\r\n						</div>\r\n					</template>\r\n				</rl-generic-container>\r\n\r\n				<div ng-if="cardContainer.dataSource.dataSet | isEmpty:false">\r\n					<div class="card-item-repeat" ng-repeat="card in cardContainer.dataSource.dataSet">\r\n						<rl-card columns="cardContainer.columns" item="card"\r\n								clickable="cardContainer.clickableCards"\r\n								selectable="cardContainer.selectableCards"\r\n								selection-changed="cardContainer.selectionChanged()"\r\n								container-data="cardContainer.containerData"\r\n								source="cardContainer.dataSource"\r\n								permanent-footer="cardContainer.permanentFooters"\r\n								card-controller="cardContainer.cardController"\r\n								card-controller-as="cardContainer.cardControllerAs"\r\n								card-as="cardContainer.cardAs"\r\n								save-when-invalid="cardContainer.saveWhenInvalid"></rl-card>\r\n					</div>\r\n				</div>\r\n				<div ng-if="cardContainer.dataSource.needsRefinedSearch">\r\n					Please refine your search results\r\n				</div>\r\n				<div ng-if="cardContainer.dataSource.isEmpty">\r\n					There are no items to show\r\n				</div>\r\n\r\n				<div>\r\n					<rl-busy loading="cardContainer.dataSource.loadingDataSet" size="2x"></rl-busy>\r\n				</div>\r\n\r\n				<div class="card-container-footer">\r\n					<div ng-transclude="containerFooterSlot">\r\n						<rl-default-card-container-footer></rl-default-card-container-footer>\r\n					</div>\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>'},function(t,e,n){"use strict";function i(t){return{useMock:!1,getInstance:function(){return this.useMock?this.mockBuilder:new p(t)},mockBuilder:new p(t)}}var o=n(18),r=n(5),s=r.services.genericSearchFilter,a=n(55),c=n(77),l=n(85),u=n(72),h=n(71);e.factoryName="cardContainerBuilder";var p=function(){function t(t){this.$injector=t,this.dataSource=new d(t,this),this.filters=new f(t,this),this._columns=[]}return t.prototype.useSearch=function(t){var e=this.$injector.get(s.factoryName);return this._searchFilter=e.getInstance(t),this._searchFilter},t.prototype.searchFilter=function(t){return this._searchFilter=t,this._searchFilter},t.prototype.usePaging=function(){this._paging=!0},t.prototype.addColumn=function(t){this._columns.push(t)},t.prototype.useClickableCards=function(){this._clickableCards=!0},t.prototype.usePermanentFooters=function(){this._permanentFooters=!0},t.prototype.useSelection=function(){this._selectableCards=!0},t.prototype.renderFilters=function(){this._renderFilters=!0},t.prototype.saveWhenInvalid=function(){this._saveWhenInvalid=!0},Object.defineProperty(t.prototype,"disableSelection",{set:function(t){this._selectableCards||this.useSelection(),this._disableSelection=t},enumerable:!0,configurable:!0}),t.prototype.setCardContainerProperties=function(t){null!=this._searchFilter&&this._filters.push(this._searchFilter),t.source=this._dataSource,t.filters=this._filters,t.searchFilter=this._searchFilter,t.paging=this._paging,t.columns=this._columns,t.containerData=this.containerData,t.clickableCards=this._clickableCards,t.maxColumnSorts=this.maxColumnSorts,t.permanentFooters=this._permanentFooters,t.selectableCards=this._selectableCards,t.disableSelection=this._disableSelection,t.renderFilters=this._renderFilters,t.saveWhenInvalid=this._saveWhenInvalid,null==t.cardController&&(t.cardController=this.cardController),null==t.cardControllerAs&&(t.cardControllerAs=this.cardControllerAs),null==t.cardAs&&(t.cardAs=this.cardAs)},t}();e.CardContainerBuilder=p;var d=function(){function t(t,e){this.$injector=t,this.parent=e;var n=this.$injector.get(a.simpleDataSource.factoryName);e._dataSource=n.getInstance([])}return t.prototype.buildSimpleDataSource=function(t){var e=this.$injector.get(a.simpleDataSource.factoryName);return this.parent._dataSource=e.getInstance(t),this.parent._dataSource},t.prototype.buildDataServiceDataSource=function(t){var e=this.$injector.get(a.dataServiceDataSource.factoryName);return this.parent._dataSource=e.getInstance(t),this.parent._dataSource},t.prototype.buildClientServerDataSource=function(t,e,n){o.isUndefined(this.parent._searchFilter)&&this.parent.useSearch();var i=this.$injector.get(a.clientServerDataSource.factoryName);return this.parent._dataSource=i.getInstance(t,this.parent._searchFilter,e,n),this.parent._dataSource},t.prototype.buildServerSideDataSource=function(t){var e=this.$injector.get(a.serverSideDataSource.factoryName);return this.parent._dataSource=e.getInstance(t),this.parent._dataSource},t.prototype.buildSmartDataSource=function(t){var e=this.$injector.get(a.smartDataSource.factoryName);return this.parent._dataSource=e.getInstance(t),this.parent._dataSource},t.prototype.buildCustomDataSource=function(t){return this.parent._dataSource=t,this.parent._dataSource},t}();e.DataSourceBuilder=d;var f=function(){function t(t,e){this.$injector=t,this.parent=e,this.parent._filters=[]}return t.prototype.buildFilterGroup=function(t){var e=this.$injector.get(c.factoryName),n=e.getInstance(t);return this.parent._filters.push(n),n},t.prototype.buildModeFilterGroup=function(t){var e=this.$injector.get(c.modeFilterGroup.factoryName),n=e.getInstance(t);return this.parent._filters.push(n),n},t.prototype.buildRangeFilterGroup=function(t){var e=this.$injector.get(c.rangeFilterGroup.factoryName),n=e.getInstance(t);return this.parent._filters.push(n),n},t.prototype.buildSelectFilter=function(t){var e=this.$injector.get(l.factoryName),n=e.getInstance(t);return this.parent._filters.push(n),n},t.prototype.buildDateFilter=function(t){var e=this.$injector.get(u.factoryName),n=e.getInstance(t);return this.parent._filters.push(n),n},t.prototype.buildColumnSearchFilter=function(){var t=this.$injector.get(h.factoryName),e=t.getInstance();return this.parent._filters.push(e),e},t.prototype.addCustomFilter=function(t){this.parent._filters.push(t)},t}();e.FilterBuilder=f,i.$inject=["$injector"],e.cardContainerBuilderFactory=i},function(t,e,n){"use strict";e.headerComponentName="rlDefaultCardContainerHeader",e.footerComponentName="rlDefaultCardContainerFooter",e.defaultContainerHeader={template:n(103)},e.defaultContainerFooter={template:n(104)}},function(t,e){t.exports='<div class="row">\r\n	<div class="col-xs-12 col-sm-9">\r\n		<rl-card-search></rl-card-search>\r\n	</div>\r\n	<div class="hidden-xs col-sm-3">\r\n		<rl-page-size></rl-page-size>\r\n	</div>\r\n</div>\r\n'},function(t,e){t.exports='<div class="row">\r\n	<div ng-if="!cardContainer.selectableCards" class="col-sm-6">\r\n		<rl-item-count></rl-item-count>\r\n	</div>\r\n	<span ng-if="cardContainer.selectableCards">\r\n		<div class="col-sm-3">\r\n			<rl-selection-control></rl-selection-control>\r\n		</div>\r\n		<div class="col-sm-3">\r\n			<rl-item-count></rl-item-count>\r\n		</div>\r\n	</span>\r\n	<div class="col-sm-6">\r\n		<rl-pager class="pull-right"></rl-pager>\r\n	</div>\r\n</div>\r\n'},function(t,e,n){"use strict";n(106);var i=n(1),o=n(30);e.moduleName="rl.ui.components.checkbox",e.componentName="rlCheckbox",e.controllerName="CheckboxController";var r=function(){function t(t){this.useDefaultTheme=t}return Object.defineProperty(t.prototype,"checked",{get:function(){return this.ngModel.$viewValue},set:function(t){this.ngModel.$setViewValue(t)},enumerable:!0,configurable:!0}),t.prototype.toggle=function(){this.active&&!this.ngDisabled&&(this.checked=!this.checked,this.onToggle({value:this.checked}))},t.prototype.$onInit=function(){this.active=null!=this.active?this.active:!0},t.$inject=[o.defaultThemeValueName],t}();e.CheckboxController=r,e.checkbox={require:{ngModel:"ngModel"},transclude:!0,template:n(108),controller:e.controllerName,controllerAs:"checkbox",bindings:{ngDisabled:"<?",active:"<?",onToggle:"&"}},i.module(e.moduleName,[]).component(e.componentName,e.checkbox).controller(e.controllerName,r)},function(t,e,n){var i=n(107);"string"==typeof i&&(i=[[t.id,i,""]]);n(10)(i,{});i.locals&&(t.exports=i.locals)},function(t,e,n){e=t.exports=n(9)(),e.push([t.id,'.rl-checkbox.default-theme:before{font-family:FontAwesome;content:"\\F096";font-size:1.5em;position:relative;top:.05em}.rl-checkbox-checked.default-theme:before{font-family:FontAwesome;content:"\\F046";font-size:1.4em}.disabled.default-theme:before{cursor:not-allowed}',""])},function(t,e){t.exports="<span ng-click=\"checkbox.toggle()\" ng-transclude\r\n	  ng-class=\"{ 'rl-checkbox': !checkbox.checked\r\n	  , 'rl-checkbox-checked': checkbox.checked\r\n	  , 'disabled': checkbox.ngDisabled\r\n	  , 'default-theme': checkbox.useDefaultTheme }\"></span>"},function(t,e,n){"use strict";var i=n(1),o=n(18),r=n(5),s=r.services.object,a=r.services.transform.transform;e.moduleName="rl.ui.components.commaList",e.componentName="rlCommaList",e.controllerName="CommaListController";var c=function(){function t(t){this.remainingItems=0,this.list=this.getFirstItems(this.inList)}return t.prototype.getFirstItems=function(t){var e=this;null!=this.transform&&(t=o.map(t,function(t){return a.getValue(t,e.transform)}));var n;return null!=this.max?(n=o.take(t,this.max),this.remainingItems=t.length-this.max):n=o.clone(t),n},t.$inject=[s.serviceName],t}();e.CommaListController=c;var l={template:'\n		<span>\n			<span ng-repeat="item in commaList.list track by $index">\n				<span>{{item}}</span><span ng-hide="$last">, </span>\n			</span>\n			<span ng-show="commaList.remainingItems > 0">... {{commaList.remainingItems}} more items</span>\n		</span>\n	',controller:e.controllerName,controllerAs:"commaList",bindings:{inList:"<list",max:"<?",transform:"<?"}};i.module(e.moduleName,[s.moduleName]).component(e.componentName,l).controller(e.controllerName,c)},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)};n(111);var o=n(1),r=n(74),s=n(18),a=n(5),c=a.services.date,l=a.services.object,u=a.services.timezone,h=n(115),p=n(116);e.moduleName="rl.ui.components.dateTime",e.componentName="rlDateTime",e.controllerName="DateTimeController";var d=function(t){function e(e,n,i,o){t.call(this,e,n,i),this.$element=o,this.inputType="date-time",this.useDate=s.isUndefined(this.useDate)?!0:this.useDate,this.useTime=s.isUndefined(this.useTime)?!0:this.useTime}return i(e,t),e.prototype.onClearClick=function(){this.ngModel.$setViewValue(""),this.onClearEvent()},e.prototype.$postLink=function(){var t=this,e=this.$element.datetimepicker.defaults,n=null!=this.min?this.min:e.minDate,i=null!=this.max?this.max:e.maxDate;this.ngModel.$formatters.push(function(e){if(null==e)return t.timezone=u.timezoneService.currentTimezone,null;var n=r(e);return t.timezone=u.timezones.get(n.tz()),n.format(t.getFormatOrDefault())}),this.ngModel.$parsers.push(function(e){return u.timezoneService.buildMomentWithTimezone(e,t.timezone,t.getFormatOrDefault())}),this.$scope.$watch(function(){return t.ngModel.$modelValue},function(e){t.validFormat=l.objectUtility.isNullOrEmpty(e)?!0:r(e).isValid()}),this.$element.find(".show-date-picker").datetimepicker({stepping:this.minuteStepping||1,format:this.getFormatOrDefault(),direction:"bottom",elementHeight:2,pickDate:this.useDate,pickTime:this.useTime,minDate:n,maxDate:i}).on("change.dp",function(){var e=t.$element.find("input").val();t.ngModel.$setViewValue(e),t.$scope.$apply()})},e.prototype.getFormatOrDefault=function(){return this.format||this.defaultFormat(this.useDate,this.useTime)},e.prototype.defaultFormat=function(t,e){return t&&e?c.defaultFormats.dateTimeFormat:t?c.defaultFormats.dateFormat:e?c.defaultFormats.timeFormat:!1},e.$inject=["$scope","$attrs",p.factoryName,"$element"],e}(h.InputController);e.DateTimeController=d;var f=h.buildInput({template:n(117),controller:e.controllerName,controllerAs:"dateTime",bindings:{minuteStepping:"<?",useDate:"<?",useTime:"<?",min:"<?",max:"<?",clearButton:"<?",onClearEvent:"&"}});o.module(e.moduleName,[a.services.moment.moduleName,a.services.date.moduleName,h.moduleName,l.moduleName]).component(e.componentName,f).controller(e.controllerName,d)},function(t,e,n){n(112),n(114)},function(t,e,n){var i=n(113);"string"==typeof i&&(i=[[t.id,i,""]]);n(10)(i,{});i.locals&&(t.exports=i.locals)},function(t,e,n){e=t.exports=n(9)(),e.push([t.id,"/*!\r\n * Datetimepicker for Bootstrap v3\r\n//! version : 3.1.3\r\n * https://github.com/Eonasdan/bootstrap-datetimepicker/\r\n */.bootstrap-datetimepicker-widget{top:0;left:0;width:250px;padding:4px;margin-top:1px;z-index:99999!important;border-radius:4px}.bootstrap-datetimepicker-widget.timepicker-sbs{width:600px}.bootstrap-datetimepicker-widget.bottom:before{content:'';display:inline-block;border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid #ccc;border-bottom-color:rgba(0,0,0,.2);position:absolute;top:-7px;left:7px}.bootstrap-datetimepicker-widget.bottom:after{content:'';display:inline-block;border-left:6px solid transparent;border-right:6px solid transparent;border-bottom:6px solid #fff;position:absolute;top:-6px;left:8px}.bootstrap-datetimepicker-widget.top:before{content:'';display:inline-block;border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #ccc;border-top-color:rgba(0,0,0,.2);position:absolute;bottom:-7px;left:6px}.bootstrap-datetimepicker-widget.top:after{content:'';display:inline-block;border-left:6px solid transparent;border-right:6px solid transparent;border-top:6px solid #fff;position:absolute;bottom:-6px;left:7px}.bootstrap-datetimepicker-widget .dow{width:14.2857%}.bootstrap-datetimepicker-widget.pull-right:before{left:auto;right:6px}.bootstrap-datetimepicker-widget.pull-right:after{left:auto;right:7px}.bootstrap-datetimepicker-widget>ul{list-style-type:none;margin:0}.bootstrap-datetimepicker-widget a[data-action]{padding:0}.bootstrap-datetimepicker-widget a[data-action]:active{box-shadow:none}.bootstrap-datetimepicker-widget .timepicker{margin:0 4px 4px}.bootstrap-datetimepicker-widget .timepicker-hour,.bootstrap-datetimepicker-widget .timepicker-minute,.bootstrap-datetimepicker-widget .timepicker-second{width:54px;font-weight:700;font-size:1.2em;margin-top:4px}.bootstrap-datetimepicker-widget button[data-action]{padding:6px}.bootstrap-datetimepicker-widget table[data-hour-format=\"12\"] .separator{width:4px;padding:0;margin:0}.bootstrap-datetimepicker-widget .datepicker>div{display:none}.bootstrap-datetimepicker-widget .picker-switch{text-align:center}.bootstrap-datetimepicker-widget table{width:100%;margin:0}.bootstrap-datetimepicker-widget td,.bootstrap-datetimepicker-widget th{text-align:center;border-radius:4px}.bootstrap-datetimepicker-widget td{height:25px;line-height:25px;width:54px}.bootstrap-datetimepicker-widget td.cw{font-size:10px;height:20px;line-height:20px;color:#777}.bootstrap-datetimepicker-widget td.day{height:20px;line-height:20px;width:20px}.bootstrap-datetimepicker-widget td.day:hover,.bootstrap-datetimepicker-widget td.hour:hover,.bootstrap-datetimepicker-widget td.minute:hover,.bootstrap-datetimepicker-widget td.second:hover{background:#eee;cursor:pointer}.bootstrap-datetimepicker-widget td.new,.bootstrap-datetimepicker-widget td.old{color:#777}.bootstrap-datetimepicker-widget td.today{position:relative}.bootstrap-datetimepicker-widget td.today:before{content:'';display:inline-block;border-left:7px solid transparent;border-bottom:7px solid #428bca;border-top-color:rgba(0,0,0,.2);position:absolute;bottom:4px;right:4px}.bootstrap-datetimepicker-widget td.active,.bootstrap-datetimepicker-widget td.active:hover{background-color:#428bca;color:#fff;text-shadow:0 -1px 0 rgba(0,0,0,.25)}.bootstrap-datetimepicker-widget td.active.today:before{border-bottom-color:#fff}.bootstrap-datetimepicker-widget td.disabled,.bootstrap-datetimepicker-widget td.disabled:hover{background:none;color:#777;cursor:not-allowed}.bootstrap-datetimepicker-widget td span{display:inline-block;width:54px;height:25px;line-height:25px;margin:0 1.5px;cursor:pointer;border-radius:4px}.bootstrap-datetimepicker-widget td span:hover{background:#eee}.bootstrap-datetimepicker-widget td span.active{background-color:#428bca;color:#fff;text-shadow:0 -1px 0 rgba(0,0,0,.25)}.bootstrap-datetimepicker-widget td span.old{color:#777}.bootstrap-datetimepicker-widget td span.disabled,.bootstrap-datetimepicker-widget td span.disabled:hover{background:none;color:#777;cursor:not-allowed}.bootstrap-datetimepicker-widget th{height:20px;line-height:20px;width:20px}.bootstrap-datetimepicker-widget th.picker-switch{width:145px}.bootstrap-datetimepicker-widget th.next,.bootstrap-datetimepicker-widget th.prev{font-size:21px}.bootstrap-datetimepicker-widget th.disabled,.bootstrap-datetimepicker-widget th.disabled:hover{background:none;color:#777;cursor:not-allowed}.bootstrap-datetimepicker-widget thead tr:first-child th{cursor:pointer}.bootstrap-datetimepicker-widget thead tr:first-child th:hover{background:#eee}.input-group.date .input-group-addon span{display:block;cursor:pointer;width:16px;height:16px}.bootstrap-datetimepicker-widget.left-oriented:before{left:auto;right:6px}.bootstrap-datetimepicker-widget.left-oriented:after{left:auto;right:7px}.bootstrap-datetimepicker-widget ul.list-unstyled li div.timepicker div.timepicker-picker table.table-condensed tbody>tr>td{padding:0!important}@media screen and (max-width:767px){.bootstrap-datetimepicker-widget.timepicker-sbs{width:283px}}",""])},function(t,e,n){var i,o,r;!function(s,a){"use strict";o=[n(12),n(74)],i=a,r="function"==typeof i?i.apply(e,o):i,!(void 0!==r&&(t.exports=r))}(this,function(t,e){"use strict";if("undefined"==typeof e)throw new Error("momentjs is required");var n=0,i=function(i,o){var r,s=t.fn.datetimepicker.defaults,a={time:"fa fa-clock-o",date:"fa fa-calendar",up:"fa fa-chevron-up",down:"fa fa-chevron-down"},c=this,l=!1,u=function(){var r,l,u=!1;if(c.options=t.extend({},s,o),c.options.icons=t.extend({},a,c.options.icons),c.element=t(i),p(),!c.options.pickTime&&!c.options.pickDate)throw new Error("Must choose at least one picker");if(c.id=n++,e.locale(c.options.language),c.date=e(),c.unset=!1,c.isInput=c.element.is("input"),c.component=!1,c.element.hasClass("input-group")&&(0===c.element.find(".datepickerbutton").size()?c.component=c.element.find('[class^="input-group-"]'):c.component=c.element.find(".datepickerbutton")),c.format=c.options.format,r=e().localeData(),c.format||(c.format=c.options.pickDate?r.longDateFormat("L"):"",c.options.pickDate&&c.options.pickTime&&(c.format+=" "),c.format+=c.options.pickTime?r.longDateFormat("LT"):"",c.options.useSeconds&&(-1!==r.longDateFormat("LT").indexOf(" A")?c.format=c.format.split(" A")[0]+":ss A":c.format+=":ss")),c.use24hours=c.format.toLowerCase().indexOf("a")<0&&c.format.indexOf("h")<0,c.component&&(u=c.component.find("span")),c.options.pickTime&&u&&u.addClass(c.options.icons.time),c.options.pickDate&&u&&(u.removeClass(c.options.icons.time),u.addClass(c.options.icons.date)),c.options.widgetParent="string"==typeof c.options.widgetParent&&c.options.widgetParent||c.element.parents().filter(function(){return"scroll"===t(this).css("overflow-y")}).get(0)||"body",c.widget=t(R()).appendTo(c.options.widgetParent),c.minViewMode=c.options.minViewMode||0,"string"==typeof c.minViewMode)switch(c.minViewMode){case"months":c.minViewMode=1;break;case"years":c.minViewMode=2;break;default:c.minViewMode=0}if(c.viewMode=c.options.viewMode||0,"string"==typeof c.viewMode)switch(c.viewMode){case"months":c.viewMode=1;break;case"years":c.viewMode=2;break;default:c.viewMode=0}c.viewMode=Math.max(c.viewMode,c.minViewMode),c.options.disabledDates=B(c.options.disabledDates),c.options.enabledDates=B(c.options.enabledDates),c.startViewMode=c.viewMode,c.setMinDate(c.options.minDate),c.setMaxDate(c.options.maxDate),g(),b(),w(),_(),C(),v(),A(),h().prop("disabled")||T(),""!==c.options.defaultDate&&""===h().val()&&c.setValue(c.options.defaultDate),1!==c.options.minuteStepping&&(l=c.options.minuteStepping,c.date.minutes(Math.round(c.date.minutes()/l)*l%60).seconds(0))},h=function(){var t;if(c.isInput)return c.element;if(t=c.element.find(".datepickerinput"),0===t.size())t=c.element.find("input");else if(!t.is("input"))throw new Error('CSS class "datepickerinput" cannot be applied to non input element');return t},p=function(){var t;t=c.element.is("input")?c.element.data():c.element.find("input").data(),void 0!==t.dateFormat&&(c.options.format=t.dateFormat),void 0!==t.datePickdate&&(c.options.pickDate=t.datePickdate),void 0!==t.datePicktime&&(c.options.pickTime=t.datePicktime),void 0!==t.dateUseminutes&&(c.options.useMinutes=t.dateUseminutes),void 0!==t.dateUseseconds&&(c.options.useSeconds=t.dateUseseconds),void 0!==t.dateUsecurrent&&(c.options.useCurrent=t.dateUsecurrent),void 0!==t.calendarWeeks&&(c.options.calendarWeeks=t.calendarWeeks),void 0!==t.dateMinutestepping&&(c.options.minuteStepping=t.dateMinutestepping),void 0!==t.dateMindate&&(c.options.minDate=t.dateMindate),void 0!==t.dateMaxdate&&(c.options.maxDate=t.dateMaxdate),void 0!==t.dateShowtoday&&(c.options.showToday=t.dateShowtoday),void 0!==t.dateCollapse&&(c.options.collapse=t.dateCollapse),void 0!==t.dateLanguage&&(c.options.language=t.dateLanguage),void 0!==t.dateDefaultdate&&(c.options.defaultDate=t.dateDefaultdate),void 0!==t.dateDisableddates&&(c.options.disabledDates=t.dateDisableddates),void 0!==t.dateEnableddates&&(c.options.enabledDates=t.dateEnableddates),void 0!==t.dateIcons&&(c.options.icons=t.dateIcons),void 0!==t.dateUsestrict&&(c.options.useStrict=t.dateUsestrict),void 0!==t.dateDirection&&(c.options.direction=t.dateDirection),void 0!==t.dateSidebyside&&(c.options.sideBySide=t.dateSidebyside),void 0!==t.dateDaysofweekdisabled&&(c.options.daysOfWeekDisabled=t.dateDaysofweekdisabled)},d=function(){var e,n="absolute",i=c.component?c.component.offset():c.element.offset(),o=t(window);c.width=c.component?c.component.outerWidth():c.element.outerWidth(),i.top=i.top+c.element.outerHeight(),"up"===c.options.direction?e="top":"bottom"===c.options.direction?e="bottom":"auto"===c.options.direction&&(e=i.top+c.widget.height()>o.height()+o.scrollTop()&&c.widget.height()+c.element.outerHeight()<i.top?"top":"bottom"),"top"===e?(i.bottom=o.height()-i.top+c.element.outerHeight()+3,c.widget.addClass("top").removeClass("bottom")):(i.top+=1,i.top+=c.options.elementHeight,c.widget.addClass("bottom").removeClass("top")),void 0!==c.options.width&&c.widget.width(c.options.width),"left"===c.options.orientation&&(c.widget.addClass("left-oriented"),i.left=i.left-c.widget.width()+20),P()&&(n="fixed",i.top-=o.scrollTop(),i.left-=o.scrollLeft()),o.width()<i.left+c.widget.outerWidth()?(i.right=o.width()-i.left-c.width,i.left="auto",c.widget.addClass("pull-right")):(i.right="auto",c.widget.removeClass("pull-right")),"top"===e?c.widget.css({position:n,bottom:i.bottom,top:"auto",left:i.left,right:i.right}):c.widget.css({position:n,top:i.top,bottom:"auto",left:i.left,right:i.right})},f=function(t,n){e(c.date).isSame(e(t))&&!l||(l=!1,c.element.trigger({type:"dp.change",date:e(c.date),oldDate:e(t)}),"change"!==n&&c.element.change())},m=function(t){l=!0,c.element.trigger({type:"dp.error",date:e(t,c.format,c.options.useStrict)})},v=function(t){e.locale(c.options.language);var n=t;n||(n=h().val(),n&&(c.date=e(n,c.format,c.options.useStrict)),c.date||(c.date=e())),c.viewDate=e(c.date).startOf("month"),y(),x()},g=function(){e.locale(c.options.language);var n,i=t("<tr>"),o=e.weekdaysMin();if(c.options.calendarWeeks===!0&&i.append('<th class="cw">#</th>'),0===e().localeData()._week.dow)for(n=0;7>n;n++)i.append('<th class="dow">'+o[n]+"</th>");else for(n=1;8>n;n++)7===n?i.append('<th class="dow">'+o[0]+"</th>"):i.append('<th class="dow">'+o[n]+"</th>");c.widget.find(".datepicker-days thead").append(i)},b=function(){e.locale(c.options.language);var t,n="",i=e.monthsShort();for(t=0;12>t;t++)n+='<span class="month">'+i[t]+"</span>";c.widget.find(".datepicker-months td").append(n)},y=function(){if(c.options.pickDate){e.locale(c.options.language);var n,i,o,r,s,a,l,u,h,p=c.viewDate.year(),d=c.viewDate.month(),f=c.options.minDate.year(),m=c.options.minDate.month(),v=c.options.maxDate.year(),g=c.options.maxDate.month(),b=[],y=e.months();for(c.widget.find(".datepicker-days").find(".disabled").removeClass("disabled"),c.widget.find(".datepicker-months").find(".disabled").removeClass("disabled"),c.widget.find(".datepicker-years").find(".disabled").removeClass("disabled"),c.widget.find(".datepicker-days th:eq(1)").text(y[d]+" "+p),i=e(c.viewDate,c.format,c.options.useStrict).subtract(1,"months"),l=i.daysInMonth(),i.date(l).startOf("week"),(p===f&&m>=d||f>p)&&c.widget.find(".datepicker-days th:eq(0)").addClass("disabled"),(p===v&&d>=g||p>v)&&c.widget.find(".datepicker-days th:eq(2)").addClass("disabled"),o=e(i).add(42,"d");i.isBefore(o);){if(i.weekday()===e().startOf("week").weekday()&&(r=t("<tr>"),b.push(r),c.options.calendarWeeks===!0&&r.append('<td class="cw">'+i.week()+"</td>")),s="",i.year()<p||i.year()===p&&i.month()<d?s+=" old":(i.year()>p||i.year()===p&&i.month()>d)&&(s+=" new"),i.isSame(e({y:c.date.year(),M:c.date.month(),d:c.date.date()}))&&(s+=" active"),!L(i,"day")&&V(i)||(s+=" disabled"),c.options.showToday===!0&&i.isSame(e(),"day")&&(s+=" today"),c.options.daysOfWeekDisabled)for(a=0;a<c.options.daysOfWeekDisabled.length;a++)if(i.day()===c.options.daysOfWeekDisabled[a]){s+=" disabled";break}r.append('<td class="day'+s+'">'+i.date()+"</td>"),n=i.date(),i.add(1,"d"),n===i.date()&&i.add(1,"d")}for(c.widget.find(".datepicker-days tbody").empty().append(b),h=c.date.year(),y=c.widget.find(".datepicker-months").find("th:eq(1)").text(p).end().find("span").removeClass("active"),h===p&&y.eq(c.date.month()).addClass("active"),f>p-1&&c.widget.find(".datepicker-months th:eq(0)").addClass("disabled"),p+1>v&&c.widget.find(".datepicker-months th:eq(2)").addClass("disabled"),a=0;12>a;a++)p===f&&m>a||f>p?t(y[a]).addClass("disabled"):(p===v&&a>g||p>v)&&t(y[a]).addClass("disabled");for(b="",p=10*parseInt(p/10,10),u=c.widget.find(".datepicker-years").find("th:eq(1)").text(p+"-"+(p+9)).parents("table").find("td"),c.widget.find(".datepicker-years").find("th").removeClass("disabled"),f>p&&c.widget.find(".datepicker-years").find("th:eq(0)").addClass("disabled"),p+9>v&&c.widget.find(".datepicker-years").find("th:eq(2)").addClass("disabled"),p-=1,a=-1;11>a;a++)b+='<span class="year'+(-1===a||10===a?" old":"")+(h===p?" active":"")+(f>p||p>v?" disabled":"")+'">'+p+"</span>",p+=1;u.html(b)}},w=function(){e.locale(c.options.language);var t,n,i,o=c.widget.find(".timepicker .timepicker-hours table"),r="";if(o.parent().hide(),c.use24hours)for(t=0,n=0;6>n;n+=1){for(r+="<tr>",i=0;4>i;i+=1)r+='<td class="hour">'+q(t.toString())+"</td>",t++;r+="</tr>"}else for(t=1,n=0;3>n;n+=1){for(r+="<tr>",i=0;4>i;i+=1)r+='<td class="hour">'+q(t.toString())+"</td>",t++;r+="</tr>"}o.html(r)},_=function(){var t,e,n=c.widget.find(".timepicker .timepicker-minutes table"),i="",o=0,r=c.options.minuteStepping;for(n.parent().hide(),1===r&&(r=5),t=0;t<Math.ceil(60/r/4);t++){for(i+="<tr>",e=0;4>e;e+=1)60>o?(i+='<td class="minute">'+q(o.toString())+"</td>",o+=r):i+="<td></td>";i+="</tr>"}n.html(i)},C=function(){var t,e,n=c.widget.find(".timepicker .timepicker-seconds table"),i="",o=0;for(n.parent().hide(),t=0;3>t;t++){for(i+="<tr>",e=0;4>e;e+=1)i+='<td class="second">'+q(o.toString())+"</td>",o+=5;i+="</tr>"}n.html(i)},x=function(){if(c.date){var t=c.widget.find(".timepicker span[data-time-component]"),e=c.date.hours(),n=c.date.format("A");c.use24hours||(0===e?e=12:12!==e&&(e%=12),c.widget.find(".timepicker [data-action=togglePeriod]").text(n)),t.filter("[data-time-component=hours]").text(q(e)),t.filter("[data-time-component=minutes]").text(q(c.date.minutes())),t.filter("[data-time-component=seconds]").text(q(c.date.second()))}},N=function(n){n.stopPropagation(),n.preventDefault(),c.unset=!1;var i,o,r,s,a=t(n.target).closest("span, td, th"),l=e(c.date);
if(1===a.length&&!a.is(".disabled"))switch(a[0].nodeName.toLowerCase()){case"th":switch(a[0].className){case"picker-switch":A(1);break;case"prev":case"next":r=z.modes[c.viewMode].navStep,"prev"===a[0].className&&(r=-1*r),c.viewDate.add(r,z.modes[c.viewMode].navFnc),y()}break;case"span":a.is(".month")?(i=a.parent().find("span").index(a),c.viewDate.month(i)):(o=parseInt(a.text(),10)||0,c.viewDate.year(o)),c.viewMode===c.minViewMode&&(c.date=e({y:c.viewDate.year(),M:c.viewDate.month(),d:c.viewDate.date(),h:c.date.hours(),m:c.date.minutes(),s:c.date.seconds()}),I(),f(l,n.type)),A(-1),y();break;case"td":a.is(".day")&&(s=parseInt(a.text(),10)||1,i=c.viewDate.month(),o=c.viewDate.year(),a.is(".old")?0===i?(i=11,o-=1):i-=1:a.is(".new")&&(11===i?(i=0,o+=1):i+=1),c.date=e({y:o,M:i,d:s,h:c.date.hours(),m:c.date.minutes(),s:c.date.seconds()}),c.viewDate=e({y:o,M:i,d:Math.min(28,s)}),y(),I(),f(l,n.type))}},S={incrementHours:function(){j("add","hours",1)},incrementMinutes:function(){j("add","minutes",c.options.minuteStepping)},incrementSeconds:function(){j("add","seconds",1)},decrementHours:function(){j("subtract","hours",1)},decrementMinutes:function(){j("subtract","minutes",c.options.minuteStepping)},decrementSeconds:function(){j("subtract","seconds",1)},togglePeriod:function(){var t=c.date.hours();t>=12?t-=12:t+=12,c.date.hours(t)},showPicker:function(){c.widget.find(".timepicker > div:not(.timepicker-picker)").hide(),c.widget.find(".timepicker .timepicker-picker").show()},showHours:function(){c.widget.find(".timepicker .timepicker-picker").hide(),c.widget.find(".timepicker .timepicker-hours").show()},showMinutes:function(){c.widget.find(".timepicker .timepicker-picker").hide(),c.widget.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){c.widget.find(".timepicker .timepicker-picker").hide(),c.widget.find(".timepicker .timepicker-seconds").show()},selectHour:function(e){var n=parseInt(t(e.target).text(),10);c.use24hours||(c.date.hours()>=12?12!==n&&(n+=12):12===n&&(n=0)),c.date.hours(n),S.showPicker.call(c)},selectMinute:function(e){c.date.minutes(parseInt(t(e.target).text(),10)),S.showPicker.call(c)},selectSecond:function(e){c.date.seconds(parseInt(t(e.target).text(),10)),S.showPicker.call(c)}},k=function(n){var i=e(c.date),o=t(n.currentTarget).data("action"),r=S[o].apply(c,arguments);return $(n),c.date||(c.date=e({y:1970})),I(),x(),f(i,n.type),r},$=function(t){t.stopPropagation(),t.preventDefault()},E=function(t){27===t.keyCode&&c.hide()},D=function(n){e.locale(c.options.language);var i=t(n.target),o=e(c.date),r=e(i.val(),c.format,c.options.useStrict);r.isValid()&&!L(r)&&V(r)?(v(),c.setValue(r),f(o,n.type),I()):(c.viewDate=o,c.unset=!0,f(o,n.type),m(r))},A=function(t){t&&(c.viewMode=Math.max(c.minViewMode,Math.min(2,c.viewMode+t))),c.widget.find(".datepicker > div").hide().filter(".datepicker-"+z.modes[c.viewMode].clsName).show()},T=function(){var n,i,o,r,s;c.widget.on("click",".datepicker *",t.proxy(N,this)),c.widget.on("click","[data-action]",t.proxy(k,this)),c.widget.on("mousedown",t.proxy($,this)),c.element.on("keydown",t.proxy(E,this)),c.options.pickDate&&c.options.pickTime&&c.widget.on("click.togglePicker",".accordion-toggle",function(e){if(e.stopPropagation(),n=t(this),i=n.closest("ul"),o=i.find(".in"),r=i.find(".collapse:not(.in)"),o&&o.length){if(s=o.data("collapse"),s&&s.transitioning)return;o.collapse("hide"),r.collapse("show"),n.find("span").toggleClass(c.options.icons.time+" "+c.options.icons.date),c.component&&c.component.find("span").toggleClass(c.options.icons.time+" "+c.options.icons.date)}}),c.isInput?c.element.on({click:t.proxy(c.show,this),focus:t.proxy(c.show,this),change:t.proxy(D,this),blur:t.proxy(c.hide,this)}):(c.element.on({change:t.proxy(D,this)},"input"),c.component?(c.component.on("click",t.proxy(c.show,this)),c.component.on("mousedown",t.proxy($,this))):c.element.on("click",t.proxy(c.show,this))),c.widget.on("click.togglePicker","#today-button",function(t){if(1!==c.options.minuteStepping){var n=e(),i=c.options.minuteStepping;n.minutes(Math.round(n.minutes()/i)*i%60).seconds(0),c.setValue(n.format(c.format))}else c.setValue(e().format(c.format));f("",t.type),I()}),c.widget.on("click.togglePicker","#clear-button",function(t){c.setValue(null),f("",t.type)}),c.widget.on("click.togglePicker","#close-button",function(t){c.hide()})},M=function(){t(window).on("resize.datetimepicker"+c.id,t.proxy(d,this)),c.isInput||t(document).on("mousedown.datetimepicker"+c.id,t.proxy(c.hide,this))},F=function(){c.widget.off("click",".datepicker *",c.click),c.widget.off("click","[data-action]"),c.widget.off("mousedown",c.stopEvent),c.options.pickDate&&c.options.pickTime&&c.widget.off("click.togglePicker"),c.isInput?c.element.off({focus:c.show,change:D,click:c.show,blur:c.hide}):(c.element.off({change:D},"input"),c.component?(c.component.off("click",c.show),c.component.off("mousedown",c.stopEvent)):c.element.off("click",c.show))},O=function(){t(window).off("resize.datetimepicker"+c.id),c.isInput||t(document).off("mousedown.datetimepicker"+c.id)},P=function(){if(c.element){var e,n=c.element.parents(),i=!1;for(e=0;e<n.length;e++)if("fixed"===t(n[e]).css("position")){i=!0;break}return i}return!1},I=function(){e.locale(c.options.language);var t="";c.unset||(t=e(c.date).format(c.format)),h().val(t),c.element.data("date",t),c.options.pickTime||c.hide()},j=function(t,n,i){e.locale(c.options.language);var o;return"add"===t?(o=e(c.date),23===o.hours()&&o.add(i,n),o.add(i,n)):o=e(c.date).subtract(i,n),L(e(o.subtract(i,n)))||L(o)?void m(o.format(c.format)):("add"===t?c.date.add(i,n):c.date.subtract(i,n),void(c.unset=!1))},L=function(t,n){e.locale(c.options.language);var i=e(c.options.maxDate,c.format,c.options.useStrict),o=e(c.options.minDate,c.format,c.options.useStrict);return n&&(i=i.endOf(n),o=o.startOf(n)),t.isAfter(i)||t.isBefore(o)?!0:c.options.disabledDates===!1?!1:c.options.disabledDates[t.format("YYYY-MM-DD")]===!0},V=function(t){return e.locale(c.options.language),c.options.enabledDates===!1?!0:c.options.enabledDates[t.format("YYYY-MM-DD")]===!0},B=function(t){var n,i={},o=0;for(n=0;n<t.length;n++)r=e.isMoment(t[n])||t[n]instanceof Date?e(t[n]):e(t[n],c.format,c.options.useStrict),r.isValid()&&(i[r.format("YYYY-MM-DD")]=!0,o++);return o>0?i:!1},q=function(t){return t=t.toString(),t.length>=2?t:"0"+t},R=function(){var t='<thead><tr><th class="prev">&lsaquo;</th><th colspan="'+(c.options.calendarWeeks?"6":"5")+'" class="picker-switch"></th><th class="next">&rsaquo;</th></tr></thead>',e='<tbody><tr><td colspan="'+(c.options.calendarWeeks?"8":"7")+'"></td></tr></tbody>',n='<div class="datepicker-days"><table class="table-condensed">'+t+'<tbody></tbody></table></div><div class="datepicker-months"><table class="table-condensed">'+t+e+'</table></div><div class="datepicker-years"><table class="table-condensed">'+t+e+"</table></div>",i="";return c.options.pickDate&&c.options.pickTime?(i='<div class="bootstrap-datetimepicker-widget'+(c.options.sideBySide?" timepicker-sbs":"")+(c.use24hours?" usetwentyfour":"")+' dropdown-menu" style="z-index:9999 !important;">',i+=c.options.sideBySide?'<div class="row"><div class="col-sm-6 datepicker">'+n+'</div><div class="col-sm-6 timepicker">'+W.getTemplate()+"</div></div>":'<ul class="list-unstyled"><li'+(c.options.collapse?' class="collapse in"':"")+'><div class="datepicker">'+n+'</div></li><li><span class="btn-group" style="float:left; margin-left:4px"><button class="btn btn-info"" id="today-button"> Now </button><button class="btn btn-danger" id="clear-button"> Clear </button></span><button class="btn btn-success" id="close-button" style="float:right; margin-right:4px;">Done</button><div style="clear:both; padding-bottom:5px;"></div></li><li'+(c.options.collapse?' class="collapse"':"")+'><div class="timepicker">'+W.getTemplate()+"</div></li></ul>",i+="</div>"):c.options.pickTime?'<div class="bootstrap-datetimepicker-widget dropdown-menu"><div class="timepicker">'+W.getTemplate()+"</div></div>":'<div class="bootstrap-datetimepicker-widget dropdown-menu"><div class="datepicker">'+n+"</div></div>"},z={modes:[{clsName:"days",navFnc:"month",navStep:1},{clsName:"months",navFnc:"year",navStep:1},{clsName:"years",navFnc:"year",navStep:10}]},W={hourTemplate:'<span data-action="showHours"   data-time-component="hours"   class="timepicker-hour"></span>',minuteTemplate:'<span data-action="showMinutes" data-time-component="minutes" class="timepicker-minute"></span>',secondTemplate:'<span data-action="showSeconds"  data-time-component="seconds" class="timepicker-second"></span>'};W.getTemplate=function(){return'<div class="timepicker-picker"><table class="table-condensed"><tr><td><a href="#" class="btn" data-action="incrementHours"><span class="'+c.options.icons.up+'"></span></a></td><td class="separator"></td><td>'+(c.options.useMinutes?'<a href="#" class="btn" data-action="incrementMinutes"><span class="'+c.options.icons.up+'"></span></a>':"")+"</td>"+(c.options.useSeconds?'<td class="separator"></td><td><a href="#" class="btn" data-action="incrementSeconds"><span class="'+c.options.icons.up+'"></span></a></td>':"")+(c.use24hours?"":'<td class="separator"></td>')+"<td></td></tr><tr><td>"+W.hourTemplate+'</td> <td class="separator">:</td><td>'+(c.options.useMinutes?W.minuteTemplate:'<span class="timepicker-minute">00</span>')+"</td> "+(c.options.useSeconds?'<td class="separator">:</td><td>'+W.secondTemplate+"</td>":"")+(c.use24hours?"":'<td class="separator"></td><td><button type="button" class="btn btn-primary" data-action="togglePeriod"></button></td>')+'</tr><tr><td><a href="#" class="btn" data-action="decrementHours"><span class="'+c.options.icons.down+'"></span></a></td><td class="separator"></td><td>'+(c.options.useMinutes?'<a href="#" class="btn" data-action="decrementMinutes"><span class="'+c.options.icons.down+'"></span></a>':"")+"</td>"+(c.options.useSeconds?'<td class="separator"></td><td><a href="#" class="btn" data-action="decrementSeconds"><span class="'+c.options.icons.down+'"></span></a></td>':"")+(c.use24hours?"":'<td class="separator"></td>')+'<td></td></tr></table></div><div class="timepicker-hours" data-action="selectHour"><table class="table-condensed"></table></div><div class="timepicker-minutes" data-action="selectMinute"><table class="table-condensed"></table></div>'+(c.options.useSeconds?'<div class="timepicker-seconds" data-action="selectSecond"><table class="table-condensed"></table></div>':"")},c.destroy=function(){F(),O(),c.widget.remove(),c.element.removeData("DateTimePicker"),c.component&&c.component.removeData("DateTimePicker")},c.show=function(t){if(!h().prop("disabled")){if(c.options.useCurrent)if(""===h().val()){if(c.options.fillEmpty){if(1!==c.options.minuteStepping){var n=e(),i=c.options.minuteStepping;n.minutes(Math.round(n.minutes()/i)*i%60).seconds(0),c.setValue(n.format(c.format))}else c.setValue(e().format(c.format));f("",t.type)}}else c.setValue(h().val());t&&"click"===t.type&&c.isInput&&c.widget.hasClass("picker-open")||(c.widget.hasClass("picker-open")?(c.widget.hide(),c.widget.removeClass("picker-open")):(c.widget.show(),c.widget.addClass("picker-open")),c.height=c.component?c.component.outerHeight():c.element.outerHeight(),d(),c.element.trigger({type:"dp.show",date:e(c.date)}),M(),t&&$(t))}},c.disable=function(){var t=h();t.prop("disabled")||(t.prop("disabled",!0),F())},c.enable=function(){var t=h();t.prop("disabled")&&(t.prop("disabled",!1),T())},c.hide=function(){var t,n,i=c.widget.find(".collapse");for(t=0;t<i.length;t++)if(n=i.eq(t).data("collapse"),n&&n.transitioning)return;c.widget.hide(),c.widget.removeClass("picker-open"),c.viewMode=c.startViewMode,A(),c.element.trigger({type:"dp.hide",date:e(c.date)}),O()},c.setValue=function(t){e.locale(c.options.language),t?c.unset=!1:(c.unset=!0,I()),t=e.isMoment(t)?t.locale(c.options.language):t instanceof Date?e(t):e(t,c.format,c.options.useStrict),t.isValid()?(c.date=t,I(),c.viewDate=e({y:c.date.year(),M:c.date.month()}),y(),x()):m(t)},c.getDate=function(){return c.unset?null:e(c.date)},c.setDate=function(t){var n=e(c.date);t?c.setValue(t):c.setValue(null),f(n,"function")},c.setDisabledDates=function(t){c.options.disabledDates=B(t),c.viewDate&&v()},c.setEnabledDates=function(t){c.options.enabledDates=B(t),c.viewDate&&v()},c.setMaxDate=function(t){void 0!==t&&(e.isMoment(t)||t instanceof Date?c.options.maxDate=e(t):c.options.maxDate=e(t,c.format,c.options.useStrict),c.viewDate&&v())},c.setMinDate=function(t){void 0!==t&&(e.isMoment(t)||t instanceof Date?c.options.minDate=e(t):c.options.minDate=e(t,c.format,c.options.useStrict),c.viewDate&&v())},u()};t.fn.datetimepicker=function(e){return this.each(function(){var n=t(this),o=n.data("DateTimePicker");o||n.data("DateTimePicker",new i(this,e))})},t.fn.datetimepicker.defaults={format:!1,pickDate:!0,pickTime:!0,useMinutes:!0,useSeconds:!1,useCurrent:!0,calendarWeeks:!1,minuteStepping:1,minDate:e({y:1900}),maxDate:e().add(100,"y"),showToday:!0,collapse:!1,language:e.locale(),defaultDate:"",disabledDates:!1,enabledDates:!1,icons:{},useStrict:!1,direction:"auto",sideBySide:!1,daysOfWeekDisabled:[],widgetParent:!1,fillEmpty:!1}})},function(t,e,n){"use strict";function i(t){var e=r.clone(p);return e.template=t.template,e.controller=t.controller||e.controller,e.controllerAs=t.controllerAs||e.controllerAs,e.bindings=r.assign({},e.bindings,t.bindings),e}var o=n(1),r=n(18),s=n(5),a=s.services.object,c=s.services.guid,l=n(25),u=n(116);e.moduleName="rl.ui.components.input",e.controllerName="InputController";var h=function(){function t(t,e,n){this.$scope=t,this.$attrs=e,this.componentValidatorFactory=n,this.inputType="input"}return Object.defineProperty(t.prototype,"inputValue",{get:function(){return this.ngModel.$viewValue},set:function(t){this.ngModel.$setViewValue(t)},enumerable:!0,configurable:!0}),t.prototype.$onInit=function(){var t=this,e=[];r.isUndefined(this.validator)||e.push(this.validator),a.objectUtility.isNullOrEmpty(this.$attrs.name)&&this.$attrs.$set("name",this.inputType+"-"+c.guid.random()),null!=this.required&&e.push({name:"rlRequired",validate:function(){return!a.objectUtility.isNullOrEmpty(t.ngModel.$viewValue)},errorMessage:this.required.message}),r.some(e)&&(this.inputValidator=this.componentValidatorFactory.getInstance({ngModel:this.ngModel,$scope:this.$scope,validators:e}))},t.$inject=["$scope","$attrs",u.factoryName],t}();e.InputController=h;var p={require:{ngModel:"ngModel",required:"?"+l.directiveName},template:"",controller:e.controllerName,controllerAs:"input",bindings:{validator:"<?",label:"@",name:"@"}};e.buildInput=i,o.module(e.moduleName,[u.moduleName]).controller(e.controllerName,h)},function(t,e,n){"use strict";function i(t){return{getInstance:function(e){return new c(t,e)}}}var o=n(1),r=n(18),s=n(5),a=s.services.validation;e.moduleName="rl.ui.services.componentValidator",e.factoryName="componentValidator";var c=function(){function t(t,e){var n=this;this.$scope=e.$scope,this.ngModel=e.ngModel,this.form=e.form,this.validator=t.buildCustomValidator(function(t,e){n.error=t,n.errorType=e||"customValidation"}),r.each(e.validators,function(t){n.validator.registerValidationHandler(t)}),this.setValidator()}return t.prototype.setValidator=function(){var t=this;return this.$scope.$watch(this.validator.validate.bind(this.validator),function(e){e&&(t.error=null),r.isUndefined(t.ngModel)?r.isUndefined(t.form)?r.isFunction(t.setValidity)&&t.setValidity(e):(t.form.$setValidity(t.errorType,e,"group"),t.form.rlErrorMessage=t.error):(t.ngModel.$setValidity(t.errorType,e),t.ngModel.rlErrorMessage=t.error)})},t}();e.ComponentValidator=c,i.$inject=[a.serviceName],e.componentValidatorFactory=i,o.module(e.moduleName,[a.moduleName]).factory(e.factoryName,i)},function(t,e){t.exports='<div class="input-group field" ng-class="{ \'has-warning\': !dateTime.validFormat, \'error\': dateTime.ngModel.$invalid, \'datepicker-with-clear\': dateTime.clearButton }">\r\n	<span class="show-date-picker">\r\n		<input type="text" class="form-control" ng-model="dateTime.ngModel.$viewValue" />\r\n		<span class="input-group-btn">\r\n			<button class="btn btn-default" ng-click="toggle()"><i class="fa fa-calendar"></i></button>\r\n		</span>\r\n		<span class="timezone" ng-if="dateTime.useDate">{{dateTime.timezone.display}}</span>\r\n	</span>\r\n	<span class="datepicker-clear" ng-if="::dateTime.clearButton">\r\n		<button type="button" class="btn btn-default"  ng-disabled="dateTime.ngModel.$viewValue | isEmpty" ng-click="dateTime.onClearClick()" >\r\n			<i class="fa fa-times"></i>\r\n		</button>\r\n	</span>\r\n	<span class="error-string" ng-if="dateTime.inputValidator.error | isEmpty:false">{{dateTime.inputValidator.error}}</span>\r\n</div>'},function(t,e,n){"use strict";var i=n(1);e.moduleName="rl.ui.components.dateTimeStatic",e.componentName="rlDateTimeStatic";var o={template:n(119),controllerAs:"view",bindings:{dateValue:"<",includeTime:"<?"}};i.module(e.moduleName,[]).component(e.componentName,o)},function(t,e){t.exports='<span class="rl-date-time-static">{{view.dateValue | rlDate:view.includeTime}}</span>'},function(t,e,n){"use strict";var i=n(1),o=n(121);e.moduleName="rl.ui.components.dialog",e.componentName="rlDialog",e.controllerName="DialogController";var r=function(){function t(t,e,n,i,o){this.$scope=t,this.$element=e,this.$transclude=n,this.$compile=i,this.dialogService=o}return t.prototype.$onInit=function(){var t=this,e=this.$scope.$watch(function(){return t.form},function(n){null!=n&&(t.dialogService.setForm(n),e())})},t.prototype.$postLink=function(){var t=this;this.close=this.$scope.$parent.$close,this.dismiss=this.$scope.$parent.$dismiss,this.saveAndClose=this.$scope.$parent.$saveAndClose;var e=this.$element.find(".footer-template");if(this.$transclude.isSlotFilled("footerSlot"))this.$transclude(function(n){t.hasFooter=n.length>0,t.hasFooter&&e.append(n)},null,"footerSlot");else if(this.autosave){var i=this.$compile(n(126))(this.$scope);this.hasFooter=!0,e.append(i)}},t.$inject=["$scope","$element","$transclude","$compile",o.serviceName],t}();e.DialogController=r;var s={transclude:{headerSlot:"?rlDialogHeader",contentSlot:"?rlDialogContent",footerSlot:"?rlDialogFooter"},template:n(127),controller:e.controllerName,controllerAs:"dialog",bindings:{autosave:"="}};i.module(e.moduleName,[o.moduleName]).component(e.componentName,s).controller(e.controllerName,r)},function(t,e,n){"use strict";function i(){var t=this,e={setImplementation:function(e){t.dialogImplementation=e},$get:function(e,n,i,o,r,s){var a=null!=t.dialogImplementation?t.dialogImplementation:e;return new d(a,n,i,o,r,s)}};return e.$get.$inject=[l.serviceName,"$rootScope",u.factoryName,a.serviceName,c.serviceName,h.serviceName],e}var o=n(1),r=n(18),s=n(5),a=s.services.promise,c=s.services.notification,l=n(122);e.bootstrapModalDialog=l;var u=n(17),h=n(23),p=n(120);e.componentName=p.componentName,e.controllerName=p.controllerName,e.DialogController=p.DialogController,e.moduleName="rl.ui.services.dialog",e.serviceName="dialog";var d=function(){function t(t,e,n,i,o,r){var s=this;this.dialog=t,this.$rootScope=e,this.autosaveFactory=n,this.promise=i,this.notification=o,this.formService=r,this.autosaveCloseHandler=function(t){return t?!0:s.autosave.autosave(s.data)}}return t.prototype.open=function(t,e){var n=this,i=this.dialog.open(t,e);return i.validateAndNotify=function(){var t=n.form.$valid;return t||n.notification.warning(n.formService.getAggregateError(n.form)),t},i},t.prototype.prompt=function(t){return t.okButton=t.okButton||"Ok",t.cancelButton=t.cancelButton||"Cancel",this.dialog.prompt(t,n(125))},t.prototype.openForm=function(t){var e=this,n={close:function(){},dismiss:function(){},save:function(){},saveAndClose:function(){},validateAndNotify:function(){}};return this.promise.resolvePromises(t.resolve).then(function(i){var o=t.scope;null==o&&(o=e.$rootScope.$new(),t.scope=o),null==t.data&&(t.data={}),null==t.triggers&&(t.triggers="none"),e.autosave=e.autosaveFactory.getInstance({save:t.save,triggers:t.triggers}),e.data=r.extend(t.data,i),o.dialog=e.data;var s=e.open(t,e.autosaveCloseHandler);n.close=s.close,n.dismiss=s.dismiss,o.$save=function(){return e.autosave.validateAndSave(e.data)},o.$saveAndClose=function(){var t=o.$save();return r.isBoolean(t)&&t?s.close():e.promise.isPromise(t)&&t.then(function(){s.close()}),t},n.save=o.$save,n.saveAndClose=o.$saveAndClose,n.validateAndNotify=s.validateAndNotify}),n},t.prototype.setForm=function(t){null!=this.autosave&&(this.autosave.contentForm=t),this.form=t},t}();e.DialogService=d,e.dialogServiceProvider=i,o.module(e.moduleName,[l.moduleName,u.moduleName,c.moduleName,h.moduleName]).provider(e.serviceName,i)},function(t,e,n){"use strict";function i(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}var o=n(1),r=n(5),s=r.services.promise,a=n(123),c=n(124);i(n(123)),i(n(124)),e.moduleName="rl.ui.services.dialog.bootstrapModalDialog",o.module(e.moduleName,[s.moduleName]).controller(a.controllerName,a.BootstrapModalDialogController).service(c.serviceName,c.BootstrapModalDialogService)},function(t,e,n){"use strict";var i=n(124);e.controllerName="BootstrapModalDialogController";var o=function(){function t(t,e,n){var i;if(null!=t.modalController){var o=t.resolveData||{};t.resolveData=null,o.$scope=t,i=e(t.modalController,o)}return t.$on("modal.closing",n.modalClosing),i}return t.$inject=["$scope","$controller",i.serviceName],t}();e.BootstrapModalDialogController=o},function(t,e,n){"use strict";var i=n(18),o=n(5),r=o.services.promise,s=n(123);e.serviceName="uiBootstrapModelDialog";var a=function(){function t(t,e,n){var o=this;this.$modal=t,this.$rootScope=e,this.promise=n,this.modalClosing=function(t,e,n){var r=!0;i.isFunction(o.closeHandler)&&(r=o.closeHandler(n)),r||t.preventDefault()}}return t.prototype.open=function(t,e){var n=this;null==t&&(t={});var i={close:function(){},dismiss:function(){}};return this.promise.resolvePromises(t.resolve).then(function(o){n.closeHandler=e,t=n.configureModalSettings(t,o);var r=n.$modal.open(t);i.close=r.close,i.dismiss=r.dismiss}),i},t.prototype.prompt=function(t,e){var n=t.acceptHandler,i=t.cancelHandler;t.acceptHandler=null,t.cancelHandler=null;var o=this.$rootScope.$new();o.prompt=t;var r={scope:o,template:e,controller:s.controllerName},a=this.$modal.open(r),c=function(){n(),a.close()},l=function(){i(),a.close()};return o.$accept=c,o.$cancel=l,{accept:c,cancel:l,close:a.close,dismiss:a.dismiss}},t.prototype.configureModalSettings=function(t,e){var n=t.scope;return null==n&&(n=this.$rootScope.$new()),t.resolveToDialog?null!=t.dialogAs?n[t.dialogAs]=e:n=i.extend(n,e):n.resolveData=e,n.modalController=t.controller,t.resolve=null,t.controller=s.controllerName,t.scope=n,t},t.$inject=["$uibModal","$rootScope",r.serviceName],t}();e.BootstrapModalDialogService=a},function(t,e){t.exports='<div class="modal-body">\r\n	<div class="row">\r\n		<div class="col-xs-12">\r\n			<button type="button" class="close" data-dismiss="modal" aria-hidden="true" ng-click="$dismiss()">\r\n				<span class="fa-stack">\r\n					<i class="close-bg fa fa-circle fa-stack-2x"></i>\r\n					<i class="close-icon fa fa-close fa-stack-1x"></i>\r\n				</span>\r\n			</button>\r\n		</div>\r\n	</div>\r\n\r\n	{{prompt.message}}\r\n	<div class="clearfix"></div>\r\n</div>\r\n<div class="modal-footer">\r\n	<button class="btn btn-danger" type="button" ng-click="$cancel()"><i class="fa fa-times"></i> {{prompt.cancelButton}}</button>\r\n	<button class="btn btn-success" type="button" ng-click="$accept()"><i class="fa fa-check"></i> {{prompt.okButton}}</button>\r\n	<div class="clearfix"></div>\r\n</div>'},function(t,e){t.exports='<rl-button type="danger" action="dialog.close()"><i class="fa fa-times"></i> Cancel</rl-button>\r\n<rl-button-async type="success" action="dialog.saveAndClose()"><i class="fa fa-check"></i> Save</rl-button-submit>'},function(t,e){t.exports='<rl-form save="dialog.saveAndClose()" saving="dialog.saving" form="dialog.form">\r\n	<div class="modal-header">\r\n		<button type="button" class="close" data-dismiss="modal" aria-hidden="true" ng-click="dialog.close()">\r\n			<span class="fa-stack">\r\n				<i class="close-bg fa fa-circle fa-stack-2x"></i>\r\n				<i class="close-icon fa fa-close fa-stack-1x"></i>\r\n			</span>\r\n		</button>\r\n		<div ng-transclude="headerSlot"></div>\r\n		<div class="clearfix "></div>\r\n	</div>\r\n	<div class="modal-body">\r\n		<div ng-transclude="contentSlot"></div>\r\n		<div class="clearfix"></div>\r\n	</div>\r\n	<div class="modal-footer" ng-show="dialog.hasFooter">\r\n		<div class="footer-template"></div>\r\n		<div class="clearfix"></div>\r\n	</div>\r\n</rl-form>'},function(t,e,n){"use strict";var i=n(1),o=n(5),r=o.services.parentChildBehavior,s=n(17);e.moduleName="rl.ui.components.form",e.componentName="rlForm",e.controllerName="rlFormController";var a=function(){function t(t,e,n,i,o,r){this.$element=t,this.$scope=e,this.$timeout=n,this.$q=i,this.autosaveFactory=o,this.parentChild=r}return t.prototype.$onInit=function(){var t=this;this.$timeout(function(){t.form=t.$scope.rlForm,t.autosave=t.autosaveFactory.getInstance({save:t.saveForm.bind(t),contentForm:t.$scope.rlForm,triggers:"none"}),t.parentChild.registerChildBehavior(t.childLink,{save:t.autosave.validateAndSave.bind(t.autosave)})})},t.prototype.saveForm=function(){var t=this;return this.saving=!0,this.$q.when(this.save()).then(function(){t.saving=!1})["catch"](function(){t.saving=!1})},t.$inject=["$element","$scope","$timeout","$q",s.factoryName,r.serviceName],t}();e.FormController=a;var c={transclude:!0,template:'<form ng-transclude name="rlForm" ng-submit="controller.autosave.validateAndSave()"></form>',controller:e.controllerName,controllerAs:"controller",bindings:{saving:"=?",save:"&",form:"=?",childLink:"=?"}};i.module(e.moduleName,[s.moduleName]).component(e.componentName,c).controller(e.controllerName,a)},function(t,e,n){"use strict";var i=n(1),o=n(18),r=n(5),s=n(130),a=n(131);e.moduleName="rl.ui.components.genericContainer",e.componentName="rlGenericContainer",e.controllerName="GenericContainerController";var c=r.services.object,l=function(){function t(t,e,n,i,o,r,s){var a=this;this.$element=e,this.$transclude=n,this.$compile=i,this.object=o,this.jquery=r,this.templateLoader=s,t.$watch(function(){return a.selector},function(t,e){if(!a.object.areEqual(t,e)){var n=a.resolveTemplate(t);a.swapTemplates(n)}})}return t.prototype.refresh=function(){var t=this.resolveTemplate(this.selector);this.swapTemplates(t)},t.prototype.resolveTemplate=function(t){return o.has(this.templates,t)?this.templates[t]:this["default"]},t.prototype.$postLink=function(){this.initDefaults(),this.container=this.$element.find("#container");var t=this.templateLoader.loadTemplates(this.$transclude);this.templates=o.extend(this.templates,t.templates),this["default"]=t["default"],this.templateScope=t.transclusionScope,this["default"]||(this["default"]="<div></div>"),this.refresh()},t.prototype.initDefaults=function(){this["default"]=this.defaultTemplate,this.templates=this.configuredTemplates?this.configuredTemplates:{}},t.prototype.swapTemplates=function(t){var e=i.element(t);this.jquery.replaceContent(this.container,e),this.$compile(e)(this.templateScope)},t.$inject=["$scope","$element","$transclude","$compile",c.serviceName,s.serviceName,a.serviceName],t}();e.GenericContainerController=l;var u={template:'<div id="container"></div>',transclude:!0,controller:e.controllerName,controllerAs:"genericContainer",bindings:{selector:"<",configuredTemplates:"<templates",defaultTemplate:"<"}};i.module(e.moduleName,[s.moduleName,c.moduleName,a.moduleName]).component(e.componentName,u).controller(e.controllerName,l)},function(t,e,n){"use strict";var i=n(1);e.moduleName="rl.utilities.services.jquery",e.serviceName="jqueryUtility";var o=function(){function t(){}return t.prototype.replaceContent=function(t,e){return t.empty(),t.append(e)},t}();i.module(e.moduleName,[]).service(e.serviceName,o)},function(t,e,n){"use strict";var i=n(1),o=n(18),r=n(5),s=r.services.object;e.moduleName="rl.utilities.services.templateLoader",e.serviceName="templateLoader";var a=function(){function t(t,e,n){this.$interpolate=t,this.templateSelectorValue=e,this.objectUtility=n}return t.prototype.loadTemplates=function(t){var e=this,n={templates:{},"default":null,transclusionScope:null};return t(function(t,r){var s=t.filter(e.templateSelectorValue);s.each(function(t,s){var a=i.element(s),c=a.html(),l=a.attr("when-selector");if(!e.objectUtility.isNullOrWhitespace(l)){var u=e.$interpolate(l)(r);n.templates[u]=c}var h=a.attr("default");o.isUndefined(h)||"false"===h.toLowerCase()||(n["default"]=c)}),n.transclusionScope=r}),n},t.$inject=["$interpolate","templateSelectorValue",s.serviceName],t}();i.module(e.moduleName,[s.moduleName]).value("templateSelectorValue","template").service(e.serviceName,a)},function(t,e,n){"use strict";var i=n(1);e.moduleName="rl.ui.components.lazyLoad",e.componentName="rlLazyLoad",e.controllerName="LazyLoadController";var o=function(){function t(t){var e=this;this.init=!1;var n=t.$watch(function(){return e.show},function(t){t&&(e.init=!0,n())})}return t.$inject=["$scope"],t}();e.LazyLoadController=o;var r={transclude:!0,template:'\n		<div ng-if="lazyLoad.init">\n			<div ng-show="lazyLoad.show">\n				<div ng-transclude></div>\n			</div>\n		</div>\n	',controller:e.controllerName,controllerAs:"lazyLoad",bindings:{show:"="}};i.module(e.moduleName,[]).component(e.componentName,r).controller(e.controllerName,o)},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(1),r=n(12),s=n(5),a=s.services.promise,c=s.services.object,l=n(31),u=n(33);e.moduleName="rl.ui.components.longClickButton",e.componentName="rlLongClickButton",e.controllerName="LongClickButtonController";var h=function(t){function e(e,n,i,o,s){var a=this;t.call(this,s),this.$interval=n,this.$timeout=i,this.objectUtility=o,this.interval=25,this.duration=1500,this.buttonText=this.text,e.$watch(function(){return a.buttonText},function(){i(function(){a.width=r("#actionButton").outerWidth()})})}return i(e,t),e.prototype.startAction=function(){var t=this;this.active||this.busy||(this.actionProgress=0,this.active=!0,this.actionInterval=this.$interval(function(){t.actionProgress+=t.interval,t.actionProgress>=t.duration&&(t.cleanup(),t.buttonText=t.text,t.trigger())},this.interval))},e.prototype.stopAction=function(){this.active&&(this.actionProgress<this.duration&&this.warn(),this.cleanup())},e.prototype.cleanup=function(){this.$interval.cancel(this.actionInterval),this.actionProgress=0,this.active=!1},e.prototype.warn=function(){this.objectUtility.isNullOrEmpty(this.onShortClickText)===!1&&(this.buttonText=this.onShortClickText)},e.$inject=["$scope","$interval","$timeout",c.serviceName,a.serviceName],e}(u.ButtonAsyncController);e.LongClickButtonController=h;var p=l.buildButton({template:n(134),controller:e.controllerName,bindings:{text:"@",onShortClickText:"@",icon:"@",busy:"<?",rightAligned:"<?"}});o.module(e.moduleName,[c.moduleName]).component(e.componentName,p).controller(e.controllerName,h)},function(t,e){t.exports='<span class="long-click-button">\r\n	<button id="actionButton" class="btn btn-{{button.type}} {{button.configuredSize}}" ng-mousedown="button.startAction()" ng-mouseleave="button.stopAction()" ng-mouseup="button.stopAction()" ng-disabled="button.busy || button.ngDisabled">\r\n		<rl-busy loading="button.busy" ng-if="button.rightAligned"></rl-busy>\r\n		<i ng-show="button.icon != null" class="fa fa-{{button.icon}}"></i> {{button.buttonText}}\r\n		<rl-busy loading="button.busy" ng-if="!button.rightAligned"></rl-busy>\r\n	</button>\r\n	<rl-rating-bar ng-if="button.active" width="button.width" height="5" min="0" max="button.duration"\r\n				value="button.actionProgress" background="transparent"></rl-rating-bar>\r\n</span>'},function(t,e,n){"use strict";
function i(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}var o=n(1),r=n(5),s=r.services.object,a=n(130),c=n(136),l=n(137),u=n(148),h=n(138),p=h.dialog,d=n(131);i(n(136)),i(n(137)),e.moduleName="rl.ui.components.messageLog",o.module(e.moduleName,[s.moduleName,a.moduleName,d.moduleName,p.moduleName]).factory(c.factoryName,c.messageLogFactory).directive(l.directiveName,l.messageLog).controller(l.controllerName,l.MessageLogController).directive(u.directiveName,u.editableMessageLog).controller(u.controllerName,u.EditableMessageLogController)},function(t,e){"use strict";function n(){return{getInstance:function(){return new i}}}e.factoryName="messageLog",e.defaultPageSize=10;var i=function(){function t(){this.currentStartingMessage=0,this._hasForwardMessages=!1,this._hasBackwardMessages=!1,this._pageSize=e.defaultPageSize}return Object.defineProperty(t.prototype,"pageSize",{get:function(){return this._pageSize},set:function(t){this._pageSize=t,this.updateCurrentPage()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasForwardMessages",{get:function(){return this._hasForwardMessages},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasBackwardMessages",{get:function(){return this._hasBackwardMessages},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataService",{get:function(){return this._dataService},set:function(t){this._dataService=t,null!=t&&(this.visibleMessages=null,this.updateCurrentPage())},enumerable:!0,configurable:!0}),t.prototype.addMessage=function(t){var e=this;return this.dataService.saveMessage(t).then(function(){e.getTopPage()})},t.prototype.updateMessage=function(t){var e=this;return this.dataService.updateMessage(t).then(function(){e.getTopPage()})},t.prototype.deleteMessage=function(t){var e=this;return this.dataService.deleteMessage(t).then(function(){e.refresh()})},t.prototype.getNextPage=function(){return this.hasForwardMessages?(this.currentStartingMessage+=this.pageSize,this.updateCurrentPage()):void 0},t.prototype.getPreviousPage=function(){return this.hasBackwardMessages?(this.currentStartingMessage-=this.pageSize,this.currentStartingMessage<0&&(this.currentStartingMessage=0),this.updateCurrentPage()):void 0},t.prototype.getTopPage=function(){return this.currentStartingMessage=0,this.updateCurrentPage()},t.prototype.refresh=function(){return this.updateCurrentPage()},t.prototype.updateCurrentPage=function(){var t=this;return null==this.dataService?null:(this.busy=!0,this.dataService.getMessages(this.currentStartingMessage,this.pageSize).then(function(e){t.visibleMessages=e.messages,t._hasForwardMessages=e.hasMoreMessages,t._hasBackwardMessages=t.currentStartingMessage>0,t.busy=!1}))},t}();e.MessageLog=i,e.messageLogFactory=n},function(t,e,n){"use strict";function i(t,i,o,r){return{restrict:"E",template:n(147),transclude:!0,controller:e.controllerName,controllerAs:"log",scope:{messageData:"="},bindToController:{service:"=",selector:"=",pageSize:"=",messageLogBinding:"=messageLog",messageAs:"@",currentUser:"=?",canDelete:"=?",canEdit:"=?"},link:function(t,e,n,i,r){i.templates=o.loadTemplates(r).templates}}}var o=n(5),r=o.services.object,s=n(130),a=n(136),c=n(138),l=c.dialog,u=n(131);e.directiveName="rlMessageLog",e.controllerName="MessageLogController",function(t){t[t.deleteMine=0]="deleteMine",t[t.deleteAll=1]="deleteAll",t[t.deleteNone=2]="deleteNone"}(e.DeletePermissions||(e.DeletePermissions={}));var h=e.DeletePermissions;!function(t){t[t.editMine=0]="editMine",t[t.editAll=1]="editAll",t[t.editNone=2]="editNone"}(e.EditPermissions||(e.EditPermissions={}));var p=e.EditPermissions,d=function(){function t(t,e,i){var o=this;this.dialog=t,this.messageLog=this.messageLogBinding||i.getInstance(),e.$watch(function(){return o.messageLog.visibleMessages},function(t){o.messages=t}),e.$watch(function(){return o.messageLog.hasForwardMessages},function(t){o.hasNextPage=t}),e.$watch(function(){return o.messageLog.hasBackwardMessages},function(t){o.hasPreviousPage=t}),e.$watch(function(){return o.messageLog.busy},function(t){t?o.loading=!0:(o.loading=!1,o.loadingInitial=!1)}),e.$watch(function(){return o.service},function(t){o.messageLog.dataService=t,o.loadingInitial=!0}),this.messageLog.pageSize=null!=this.pageSize?this.pageSize:8,this.tooltipTemplate=n(145)}return t.prototype.getEntrySelector=function(t){return _.isString(this.selector)?t[this.selector]:_.isFunction(this.selector)?this.selector(t):void 0},t.prototype.getOlder=function(){return this.messageLog.getNextPage()},t.prototype.getTop=function(){return this.messageLog.getTopPage()},t.prototype.canDeleteEntry=function(t){if(t.isSystemNote)return!1;switch(this.canDelete){case h.deleteAll:return!0;case h.deleteMine:return null==this.currentUser||this.currentUser.id===t.createdBy.id;default:return!1}},t.prototype.canEditEntry=function(t){if(t.isSystemNote)return!1;switch(this.canEdit){case p.editAll:return!0;case p.editMine:return null==this.currentUser||this.currentUser.id===t.createdBy.id;default:return!1}},t.prototype.editMessage=function(t){var e=_.clone(t);this.dialog.openForm({save:this.updateNote.bind(this),data:{entry:e,originalEntry:t},template:n(146)})},t.prototype.updateNote=function(t){return this.messageLog.updateMessage(t.entry)},t.prototype.saveNote=function(t){return this.messageLog.addMessage(t.entry)},t.$inject=[l.serviceName,"$scope",a.factoryName],t}();e.MessageLogController=d,i.$inject=["$interpolate",s.serviceName,u.serviceName,r.serviceName],e.messageLog=i},function(t,e,n){"use strict";var i=n(1),o=n(17);e.autosave=o;var r=n(19);e.autosaveAction=r;var s=n(139);e.breakpoints=s;var a=n(116);e.componentValidator=a;var c=n(143);e.contentProvider=c;var l=n(121);e.dialog=l;var u=n(144);e.documentWrapper=u;var h=n(23);e.form=h;var p=n(130);e.jquery=p;var d=n(131);e.templateLoader=d;var f=n(140);e.windowWrapper=f,e.moduleName="rl.ui.services",i.module(e.moduleName,[o.moduleName,r.moduleName,s.moduleName,a.moduleName,c.moduleName,l.moduleName,u.moduleName,h.moduleName,p.moduleName,d.moduleName,f.moduleName])},function(t,e,n){"use strict";function i(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}var o=n(1),r=n(5),s=n(140),a=n(141),c=n(142);i(n(49)),i(n(141)),i(n(142)),e.moduleName="rl.ui.services.breakpoints",o.module(e.moduleName,[r.services.observable.moduleName,s.moduleName]).constant("resizeDebounceMilliseconds",500).service(a.visibleBreakpointServiceName,a.VisibleBreakpointService).service(c.breakpointServiceName,c.BreakpointService)},function(t,e,n){"use strict";var i=n(1),o=n(12);e.moduleName="rl.ui.services.windowWrapper",e.serviceName="windowWrapper";var r=function(){function t(){this.windowControl=o(window)}return t.prototype.resize=function(t){this.windowControl.resize(t)},t.prototype.scrollTop=function(){return this.windowControl.scrollTop()},t.prototype.scroll=function(t){this.windowControl.scroll(t)},t.prototype.height=function(){return this.windowControl.height()},t}();i.module(e.moduleName,[]).service(e.serviceName,r)},function(t,e,n){"use strict";var i=n(12);e.visibleBreakpointServiceName="visibleBreakpoint";var o=function(){function t(){}return t.prototype.isVisible=function(t){return i(".device-"+t).is(":visible")},t}();e.VisibleBreakpointService=o},function(t,e,n){"use strict";var i=n(18),o=n(5),r=n(140),s=n(141),a=n(49);e.breakpointServiceName="breakpoints";var c=o.services.observable,l=function(){function t(t,e,n,o,r){var s=this;this.$rootScope=t,this.visibleBreakpoints=e,this.updateBreakpoint=function(){var t=s.getBreakpoint();t!==s.currentBreakpoint&&s.$rootScope.$apply(function(){s.currentBreakpoint=t,s.observable.fire("window.breakpointChanged",s.currentBreakpoint)})},this.currentBreakpoint=this.getBreakpoint(),this.observable=r.getInstance();var a=i.debounce(this.updateBreakpoint,n,{leading:!0,trailing:!0,maxWait:n});o.resize(a)}return t.prototype.getBreakpoint=function(){return this.visibleBreakpoints.isVisible(a.lg)?a.lg:this.visibleBreakpoints.isVisible(a.md)?a.md:this.visibleBreakpoints.isVisible(a.sm)?a.sm:a.xs},t.prototype.isBreakpoint=function(t){return this.currentBreakpoint===t},t.prototype.register=function(t){return this.observable.register(t,"window.breakpointChanged")},t.$inject=["$rootScope",s.visibleBreakpointServiceName,"resizeDebounceMilliseconds",r.serviceName,c.factoryName],t}();e.BreakpointService=l},function(t,e,n){"use strict";function i(t){return{getInstance:function(){return new c(t)}}}var o=n(1),r=n(18),s=n(5),a=s.services.observable;e.moduleName="rl.utilities.services.contentProvider",e.serviceName="contentProviderFactory";var c=function(){function t(t){var e=this;this.setTranscludeContent=function(t){r.isFunction(t)?t(function(t,n){e.setContent(t,n)}):e.setContent(null)},this.observable=t.getInstance()}return t.prototype.setContent=function(t,e){this.content=t,this.scope=e,this.observable.fire("contentChanged")},t.prototype.register=function(t,e){var n=this;return null!=this.content&&t(this.getContent(e),this.scope),this.observable.register(function(){t(n.getContent(e),n.scope)},"contentChanged")},t.prototype.getContent=function(t){return null!=t?this.content.filter(t):this.content},t}();i.$inject=[a.factoryName],o.module(e.moduleName,[a.moduleName]).factory(e.serviceName,i)},function(t,e,n){"use strict";var i=n(1),o=n(12);e.moduleName="rl.ui.services.documentWrapper",e.serviceName="documentWrapper";var r=function(){function t(){this.documentControl=o(document)}return t.prototype.height=function(){return this.documentControl.height()},t}();i.module(e.moduleName,[]).service(e.serviceName,r)},function(t,e){t.exports='<div>Last edited by: {{entry.lastUpdatedBy.name}}</div>\r\n<div><rl-date-time-static date-value="entry.lastUpdatedDate" include-time="true"></rl-date-time-static></div>'},function(t,e){t.exports='<rl-dialog autosave="true">\r\n	<rl-dialog-content>\r\n		<ng-form name="noteForm">\r\n			<div class="form-group">\r\n				<rl-textbox ng-model="dialog.entry.message" label="Message:" maxlength="250"></rl-textbox>\r\n			</div>\r\n		</ng-form>\r\n	</rl-dialog-content>\r\n</rl-dialog>'},function(t,e){t.exports='<div>\r\n	<rl-busy loading="log.loadingInitial" size="2x"></rl-busy>\r\n	<div class="content-group" ng-repeat="entry in log.messages" rl-alias="entry as {{log.messageAs}}" ng-class="{ \'system-note\': entry.isSystemNote }">\r\n		<rl-generic-container selector="log.getEntrySelector(entry)" templates="log.templates">\r\n			<template default>\r\n				<div class="message-body">\r\n					<div class="message-content">\r\n						<div ng-bind-html="entry.message"></div>\r\n					</div>\r\n					<span class="message-button" ng-if="log.canEditEntry(entry)">\r\n						<rl-button-async type="message-default flat" action="log.editMessage(entry)" size="xs"><i class="fa fa-edit"></i></rl-button-async>\r\n					</span>\r\n					<span class="message-button" ng-if="log.canDeleteEntry(entry)">\r\n						<rl-button-async type="message-danger flat" action="log.messageLog.deleteMessage(entry)" size="xs"><i class="fa fa-remove"></i></rl-button-async>\r\n					</span>\r\n				</div>\r\n				<div class="message-byline">\r\n					<div class="byline">{{entry.createdBy.name}}</div>\r\n					<div class="byline">\r\n						<rl-date-time-static date-value="entry.createdDate" include-time="true"></rl-date-time-static>\r\n						<span  ng-if="entry.edited" class="edited-note" rl-popover="log.tooltipTemplate" popover-trigger="mouseenter">(edited)</span></div>\r\n				</div>\r\n			</template>\r\n		</rl-generic-container>\r\n	</div>\r\n	<div class="content-group" ng-if="(log.messages | isEmpty) && !log.loadingInitial">No existing messages</div>\r\n	<div class="row">\r\n		<div class="col-xs-12">\r\n			<div class="text-center">\r\n				<rl-button-async action="log.getTop()" ng-disabled="log.loading" button-right-aligned="true">\r\n					<span ng-show="log.hasPreviousPage">Top <i class="fa fa-caret-up"></i></span>\r\n					<span ng-hide="log.hasPreviousPage"><i class="fa fa-refresh"></i> Refresh</span>\r\n				</rl-button-async>\r\n				<rl-button-async ng-disabled="log.hasNextPage == false || log.loading" action="log.getOlder()">\r\n					Older <i class="fa fa-caret-right"></i>\r\n				</rl-button-async>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n'},function(t,e,n){"use strict";function i(){return{restrict:"E",template:'\n			<form ng-submit="log.add()">\n				<div class="input-group">\n					<input type="text" class="form-control" ng-model="log.newMessage" placeholder="Enter log message" />\n					<span class="input-group-btn">\n						<button class="btn btn-default" type="submit" ng-disabled="log.busy">\n							<rl-busy loading="log.savingMessage"></rl-busy> Add\n						</button>\n					</span>\n				</div>\n				<div class="message-log">\n					<rl-message-log service="log.service" page-size="log.pageSize" message-log="log.messageLogService"\n									current-user="log.currentUser" can-delete="log.canDelete"></rl-message-log>\n				</div>\n			</form>\n		',controller:e.controllerName,controllerAs:"log",scope:{},bindToController:{service:"=",pageSize:"=",currentUser:"=?",canDelete:"=?"}}}var o=n(5),r=n(136);e.directiveName="rlEditableMessageLog",e.controllerName="EditableMessageLogController";var s=o.services.object,a=function(){function t(t,e,n){var i=this;this.object=n,this.messageLogService=e.getInstance(),t.$watch(function(){return i.messageLogService.busy},function(t){t===!1?(i.busy=!1,i.savingMessage=!1):i.busy=!0})}return t.prototype.add=function(){if(this.object.isNullOrWhitespace(this.newMessage))return null;this.savingMessage=!0;var t=this.newMessage;return this.newMessage="",this.messageLogService.addMessage({message:t})},t.$inject=["$scope",r.factoryName,s.serviceName],t}();e.EditableMessageLogController=a,e.editableMessageLog=i},function(t,e,n){"use strict";var i=n(1),o=n(18),r=n(5);e.moduleName="rl.ui.components.multiStepIndicator",e.componentName="rlMultiStepIndicator",e.controllerName="MultiStepIndicatorController";var s=r.services.object,a=function(){function t(t,e,n){this.$state=t,this.$q=e,this.object=n,this.configureSteps()}return t.prototype.onClick=function(t){this.anyLoading()||(t.loading=!0,this.$q.when(t.onClick()).then(function(){t.loading=!1}))},t.prototype.anyLoading=function(){return o.some(this.steps,function(t){return t.loading})},t.prototype.configureSteps=function(){var t=this;o.each(this.steps,function(e){e.hasCount=o.isFunction(e.count),e.getCompleted=function(){return t.getIsCompleted(e)},e.getValid=function(){return t.getIsValid(e)},o.isFunction(e.onClick)||(t.object.isNullOrWhitespace(e.stateName)?e.inactive=!0:(e.onClick=function(){return t.redirectToState(e)},t.$state.includes(e.stateName)&&(e.isCurrent=!0)))})},t.prototype.redirectToState=function(t){var e=this;return this.$state.go(t.stateName).then(function(){e.clearCurrentState(),t.isCurrent=!0})},t.prototype.clearCurrentState=function(){o.each(this.steps,function(t){t.isCurrent=!1})},t.prototype.getIsCompleted=function(t){return o.isFunction(t.isCompleted)?t.isCompleted():t.isCompleted},t.prototype.setIsCompleted=function(t,e){o.isFunction(t.isCompleted)||(t.isCompleted=e)},t.prototype.getIsValid=function(t){return o.isFunction(t.isValid)?t.isValid():o.isUndefined(null!=t.isValid)?!0:t.isValid},t.$inject=["$state","$q",s.serviceName],t}();e.MultiStepIndicatorController=a;var c={template:n(150),controller:e.controllerName,controllerAs:"breadcrumb",bindings:{steps:"=",numbered:"="}};i.module(e.moduleName,[s.moduleName]).component(e.componentName,c).controller(e.controllerName,a)},function(t,e){t.exports='<div class="multi-step checked" ng-class="{ \'numbered\': breadcrumb.numbered }">\r\n	<ol>\r\n		<li ng-repeat="step in breadcrumb.steps" ng-click="breadcrumb.onClick(step)"\r\n			ng-class="{ \'completed\': step.getCompleted(), \'current\': step.isCurrent, \'active\': !step.inactive && !breadcrumb.anyLoading() }">\r\n			<div class="wrap">\r\n				<p class="badge" ng-show="step.hasCount">{{step.count()}}</p>\r\n				<p class="error" ng-if="!step.getValid()"></p>\r\n				<p class="title">{{step.title}} <rl-busy loading="step.loading"></rl-busy></p>\r\n				<p class="subtitle">{{step.subtitle}}</p>\r\n			</div>\r\n		</li>\r\n	</ol>\r\n</div>'},function(t,e,n){"use strict";var i=n(1),o=n(5),r=o.services.object,s=n(152);e.radioGroupDirectiveName=s.directiveName,e.radioGroup=s.radioGroup,e.radioGroupControllerName=s.controllerName,e.RadioGroupController=s.RadioGroupController;var a=n(153);e.radioComponentName=a.componentName,e.radio=a.radio,e.radioControllerName=a.controllerName,e.RadioController=a.RadioController,e.moduleName="rl21.components.radio",i.module(e.moduleName,[r.moduleName]).directive(s.directiveName,s.radioGroup).controller(s.controllerName,s.RadioGroupController).component(a.componentName,a.radio).controller(a.controllerName,a.RadioController)},function(t,e,n){"use strict";function i(){return{restrict:"AE",require:{ngModel:"ngModel"},controller:e.controllerName,bindToController:!0}}var o=n(5),r=o.services.object,s=o.services.guid;e.directiveName="rlRadioGroup",e.controllerName="RadioGroupController";var a=function(){function t(t,e){this.ngModel=t,this.name=e}return Object.defineProperty(t.prototype,"selection",{get:function(){return this.ngModel.$viewValue},set:function(t){this.ngModel.$setViewValue(t)},enumerable:!0,configurable:!0}),t}();e.RadioGroup=a;var c=function(){function t(t,e,n){this.$scope=t,this.$attrs=e,this.object=n}return t.prototype.$onInit=function(){var t;t=this.object.isNullOrWhitespace(this.$attrs.rlRadioGroup)?this.object.isNullOrWhitespace(this.$attrs.name)?"RadioGroup-"+s.guid.random():this.$attrs.name:this.$attrs.rlRadioGroup,this.group=new a(this.ngModel,t)},t.$inject=["$scope","$attrs",r.serviceName],t}();e.RadioGroupController=c,e.radioGroup=i},function(t,e,n){"use strict";var i=n(152);e.componentName="rlRadio",e.controllerName="RadioController";var o=function(){function t(t){this.$scope=t}return t.prototype.$onInit=function(){null!=this.groupController?this.radioGroup=this.groupController.group:this.radioGroup=new i.RadioGroup(this.ngModel)},t.$inject=["$scope"],t}();e.RadioController=o,e.radio={require:{groupController:"?^^rlRadioGroup",ngModel:"?ngModel"},transclude:!0,template:'\n		<label>\n			<input id="radio" type="radio" name="{{::radio.radioGroup.name}}" ng-model="radio.radioGroup.selection" ng-value="::radio.value" />\n			<span ng-transclude></div>\n		</label>\n	',controller:e.controllerName,controllerAs:"radio",bindings:{value:"<"}}},function(t,e,n){"use strict";n(155);var i=n(1),o=n(30),r=n(157),s=n(158);e.moduleName="rl.ui.components.ratingBar",e.componentName="rlRatingBar",e.controllerName="RatingBarController";var a=function(){function t(t,e){var n=this;this.$scope=t,this.useDefaultTheme=e;var i=new r.RatingBarBackgroundService;this.ratingBarClass=new s.RatingBarClassService,this.backgroundClass=i.getBackground(this.background),null==this.value&&(this.value=0),t.$watch(function(){return n.value},function(t){n.updateValue(t)}),t.$watch(function(){return n.totalWidth},function(t){n.dimensions={width:t+2,height:n.height+2},n.updateValue(n.value)})}return t.prototype.updateValue=function(t){var e=(t-this.min)/(this.max-this.min);this.barClass=this.ratingBarClass.getClass(e),this.width=Math.round(e*this.totalWidth)},t.$inject=["$scope",o.defaultThemeValueName],t}();e.RatingBarController=a;var c={template:'\n		<div class="rating-bar">\n			<div class="{{ratingBar.backgroundClass}}" ng-class="{ empty: ratingBar.value == ratingBar.min, \'default-theme\': ratingBar.useDefaultTheme }" ng-style="ratingBar.dimensions">\n				<div ng-class="ratingBar.barClass" ng-style="{ width: ratingBar.width, height: ratingBar.height }"></div>\n			</div>\n		</div>\n	',controller:e.controllerName,controllerAs:"ratingBar",bindings:{totalWidth:"<width",height:"<",value:"<",min:"<",max:"<",background:"<"}};i.module(e.moduleName,[]).component(e.componentName,c).controller(e.controllerName,a)},function(t,e,n){var i=n(156);"string"==typeof i&&(i=[[t.id,i,""]]);n(10)(i,{});i.locals&&(t.exports=i.locals)},function(t,e,n){e=t.exports=n(9)(),e.push([t.id,".rating-bar .default-theme.background{background-color:#fff;border:1px solid #aaa}.rating-bar .default-theme.background.empty{border:1px solid red}.rating-bar .default-theme .very-high{background-color:#20d000}.rating-bar .default-theme .high{background-color:#00a000}.rating-bar .default-theme .medium{background-color:#007000}.rating-bar .default-theme .low{background-color:#a00}.rating-bar .default-theme .very-low{background-color:red}",""])},function(t,e){"use strict";var n=function(){function t(){this.standard={type:"standard","class":"background"},this.dark={type:"dark","class":"background-dark"},this.transparent={type:"transparent","class":"background-transparent"}}return t.prototype.getBackground=function(t){return t===this.dark.type?this.dark["class"]:t===this.transparent.type?this.transparent["class"]:this.standard["class"]},t}();e.RatingBarBackgroundService=n},function(t,e){"use strict";var n=function(){function t(){}return t.prototype.getClass=function(t){return t>=.8?"very-high":t>=.6?"high":t>=.4?"medium":t>=.2?"low":"very-low"},t}();e.RatingBarClassService=n},function(t,e,n){"use strict";n(160),n(162),n(163);var i=n(1),o=n(5),r=o.services.object,s=n(165),a=n(166),c=n(167),l=s.providerName+"Provider";e.providerName=l,e.moduleName="rl.ui.components.richTextEditor",e.componentName="rlRichTextEditor",e.controllerName="RichTextEditorController";var u=function(){function t(t,e){this.toolbar="h1, paragraph, bold, italic, underline, list1, list2, indent, outdent",t.isNullOrEmpty(this.customButtons)||(this.toolbar+=", "+this.customButtons)}return t.$inject=[r.serviceName,s.providerName],t}();e.RichTextEditorController=u;var h={template:n(168),controller:e.controllerName,controllerAs:"editor",bindings:{ngModel:"=",customButtons:"=",ngDisabled:"="}};i.module(e.moduleName,["ngWig",r.moduleName]).component(e.componentName,h).controller(e.controllerName,u).directive(a.headerButtonDirectiveName,a.headerButton).directive(c.paragraphButtonDirectiveName,c.paragraphButton).provider(s.providerName,s.richTextEditorProvider)},function(t,e,n){var i=n(161);"string"==typeof i&&(i=[[t.id,i,""]]);n(10)(i,{});i.locals&&(t.exports=i.locals)},function(t,e,n){e=t.exports=n(9)(),e.push([t.id,"@import url(https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css);",""]),e.push([t.id,".ng-wig,[class^=nw-]{-o-box-sizing:border-box;-ms-box-sizing:border-box;box-sizing:border-box}.ng-wig{display:block;padding:0;margin:0}.nw-toolbar{display:block;margin:0!important;padding:0!important;list-style:none!important;font-size:12px;color:#6b7277;background:-webkit-linear-gradient(90deg,#fff,#f9f9f9);background:linear-gradient(180deg,#fff,#f9f9f9);border:1px solid #ccc;border-radius:3px 3px 0 0}.nw-toolbar__item{display:inline-block;vertical-align:top;margin:0;border-right:1px solid #dedede}.nw-toolbar label{line-height:30px;display:inline-block;padding:0 6px 0 3px}.nw-toolbar input[type=checkbox]{vertical-align:-3px;margin-right:-1px}.nw-editor{display:table;height:300px;background:#fff;cursor:text;width:100%}.nw-editor-container{border:1px solid #ccc;border-top:none;border-radius:0 0 3px 3px;position:relative}.nw-editor__res{min-height:100%;padding:0 8px;display:table-cell}.nw-editor__res,.nw-editor__src{width:100%;outline:none;box-sizing:border-box;border:none;margin:0}.nw-editor__src-container{position:absolute;left:0;top:0;right:0;bottom:0}.nw-editor__src{height:100%;resize:none;padding:0 8px}.nw-editor--fixed .nw-editor{display:block;overflow-y:auto}.nw-editor--fixed .nw-editor__res{padding:1px 8px;display:block}.nw-invisible{visibility:hidden}.nw-editor--fixed .nw-invisible{display:none}.nw-editor.nw-disabled{cursor:default}.nw-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;display:block;width:30px;height:30px;margin:0;padding:0;opacity:.5;background-color:transparent;background-position:50%;background-repeat:no-repeat;border:none;border-radius:2px;font-size:0;cursor:pointer}.nw-button:before{font-size:12px;font-family:FontAwesome}.nw-button.bold:before{content:'\\F032'}.nw-button.italic:before{content:'\\F033'}.nw-button.list-ul:before{content:'\\F0CA'}.nw-button.list-ol:before{content:'\\F0CB'}.nw-button.link:before{content:'\\F0C1'}.nw-button.font-color:before{content:'\\F031'}.nw-button.nw-button--source:before{content:'\\F040'}.nw-button:focus{outline:none}.nw-button.nw-button--active,.nw-button:hover{opacity:1}.nw-button--active{background-color:#eee}.nw-button:disabled{cursor:default}.nw-button:disabled:hover{opacity:.5}.nw-content{padding:12px;margin:0;font-family:sans-serif;font-size:14px;line-height:24px}.nw-select{height:30px;padding:6px;color:#555;background-color:inherit;border:0}.nw-select:disabled{opacity:.5}.nw-select:focus{outline:none}",""])},function(t,e){angular.module("ngWig",["ngwig-app-templates"]),angular.module("ngWig").directive("ngWig",["$window","$document","ngWigToolbar",function(t,e,n){return{scope:{content:"=ngWig",onPaste:"="},restrict:"A",replace:!0,templateUrl:"ng-wig/views/ng-wig.html",link:function(e,i,o){function r(t){return t.split(",").map(Function.prototype.call,String.prototype.trim)}e.formElementName=o.name,i.removeAttr("name"),e.isRequired=!!o.required,e.isSourceModeAllowed=-1!==Object.keys(o).indexOf("sourceModeAllowed"),e.editMode=!1,e.toolbarButtons=n.getToolbarButtons(o.buttons&&r(o.buttons)),e.toggleEditMode=function(){e.editMode=!e.editMode,t.getSelection().removeAllRanges&&t.getSelection().removeAllRanges()},e.execCommand=function(t,n){return e.editMode?!1:void(("createlink"!==t||(n=prompt("Please enter the URL","http://")))&&e.$broadcast("execCommand",{command:t,options:n}))},null==o.ngDisabled&&null==o.disabled||e.$watch(function(){return!!o.disabled},function(t){e.isDisabled=t,e.$broadcast("nw-disabled",t)})}}}]),angular.module("ngWig").directive("ngWigEditable",["$document",function(t){function e(e,n,i,o){function r(){o.$setViewValue(n.html())}n.attr("contenteditable",!0),o.$render=function(){n.html(o.$viewValue||"")};var s=["blur","keyup","change","focus","click"];angular.isFunction(e.onPaste)?n.on("paste",function(t){e.onPaste(t,n.html()).then(function(t){n.html(t)})}):s.push("paste"),n.bind(s.join(" "),function(){r(),e.$applyAsync()}),e.isEditorActive=function(){return n[0]===t[0].activeElement},e.$on("execCommand",function(e,i){n[0].focus();var o=t[0].selection,s=i.command,a=i.options;if(o)var c=o.createRange();if(t[0].queryCommandSupported&&!t[0].queryCommandSupported(s))throw'The command "'+s+'" is not supported';t[0].execCommand(s,!1,a),o&&(c.collapse(!1),c.select()),r()}),e.$on("nw-disabled",function(t,e){n.attr("contenteditable",!e)})}return{restrict:"A",require:"ngModel",replace:!0,link:e}}]),angular.module("ngWig").directive("ngWigPlugin",["$compile",function(t){return{restrict:"E",link:function(e,n){var i="<"+e.button.pluginName+" />",o=t(i)(e);n.replaceWith(o)}}}]),angular.module("ngWig").provider("ngWigToolbar",function(){var t={list1:{title:"Unordered List",command:"insertunorderedlist",styleClass:"list-ul"},list2:{title:"Ordered List",command:"insertorderedlist",styleClass:"list-ol"},bold:{title:"Bold",command:"bold",styleClass:"bold"},italic:{title:"Italic",command:"italic",styleClass:"italic"},link:{title:"Link",command:"createlink",styleClass:"link"}},e=["list1","list2","bold","italic","link"],n=function(){return this.command&&document.queryCommandState(this.command)};this.setButtons=function(t){if(!angular.isArray(t))throw'Argument "buttons" should be an array';e=t},this.addStandardButton=function(n,i,o,r){if(!n||!i||!o)throw'Arguments "name", "title" and "command" are required';r=r||"",t[n]={title:i,command:o,styleClass:r},e.push(n)},this.addCustomButton=function(n,i){if(!n||!i)throw'Arguments "name" and "pluginName" are required';t[n]={pluginName:i,isComplex:!0},e.push(n)},this.$get=function(){return{getToolbarButtons:function(i){var o=[];return(i||e).forEach(function(e){if(!t[e])throw'There is no "'+e+'" in your library. Possible variants: '+Object.keys(t);var i=angular.copy(t[e]);angular.isFunction(i.isActive)||(i.isActive=n),o.push(i)}),o}}}}),angular.module("ngWig").config(["ngWigToolbarProvider",function(t){t.addCustomButton("formats","nw-formats-button")}]).directive("nwFormatsButton",function(){return{restrict:"E",replace:!0,template:'<select class="nw-select" ng-model="format" ng-change="execCommand(\'formatblock\', format.value)" ng-options="format.name for format in formats" ng-disabled="editMode || isDisabled"></select>',link:function(t){t.formats=[{name:"Normal text",value:"p"},{name:"Header 1",value:"h1"},{name:"Header 2",value:"h2"},{name:"Header 3",value:"h3"}],t.format=t.formats[0]}}}),angular.module("ngwig-app-templates",["ng-wig/views/ng-wig.html"]),angular.module("ng-wig/views/ng-wig.html",[]).run(["$templateCache",function(t){t.put("ng-wig/views/ng-wig.html",'<div class="ng-wig">\n  <ul class="nw-toolbar">\n    <li class="nw-toolbar__item" ng-repeat="button in toolbarButtons" >\n        <div ng-if="!button.isComplex">\n          <button type="button" class="nw-button {{button.styleClass}}" title="{{button.title}}" ng-click="execCommand(button.command)" ng-class="{ \'nw-button--active\': isEditorActive() && button.isActive() }" ng-disabled="editMode || isDisabled">\n            {{ button.title }}\n          </button>\n        </div>\n        <div ng-if="button.isComplex">\n          <ng-wig-plugin plugin="{{button}}"></ng-wig-plugin>\n        </div>\n    </li><!--\n    --><li class="nw-toolbar__item">\n      <button type="button" class="nw-button nw-button--source" title="Edit HTML" ng-class="{ \'nw-button--active\': editMode }" ng-show="isSourceModeAllowed" ng-click="toggleEditMode()" ng-disabled="isDisabled">\n        Edit HTML\n      </button>\n    </li>\n  </ul>\n\n  <div class="nw-editor-container">\n    <div class="nw-editor__src-container" ng-show="editMode">\n      <textarea ng-required="isRequired" ng-disabled="isDisabled" class="nw-editor__src" ng-model="content"></textarea>\n    </div>\n    <div class="nw-editor" ng-class="{ \'nw-disabled\': isDisabled }">\n      <div name="{{formElementName}}" ng-required="isRequired" tabindex="-1" ng-class="{\'nw-invisible\': editMode}" class="nw-editor__res" ng-model="content" ng-wig-editable on-paste="onPaste"></div>\n    </div>\n  </div>\n</div>\n')}])},function(t,e,n){var i=n(164);"string"==typeof i&&(i=[[t.id,i,""]]);n(10)(i,{});i.locals&&(t.exports=i.locals)},function(t,e,n){e=t.exports=n(9)(),e.push([t.id,".nw-button.header:before{content:'\\F1DC'}.nw-button.paragraph:before{content:'\\F1DD'}",""])},function(t,e){"use strict";function n(t){return{addCustomButton:function(e,n){t.addCustomButton(e,n)},addStandardButton:function(e,n,i,o){t.addStandardButton(e,toolbar,i,"fa-"+o)},$get:function(){t.addCustomButton("paragraph","rl-paragraph-button"),t.addCustomButton("h1","rl-header-button"),t.addStandardButton("underline","Underline","underline","fa-underline"),t.addStandardButton("indent","Indent","indent","fa-indent"),t.addStandardButton("outdent","Outdent","outdent","fa-outdent")}}}e.providerName="richTextEditor",n.$inject=["ngWigToolbarProvider"],e.richTextEditorProvider=n},function(t,e){"use strict";function n(){return{restrict:"E",template:'\n			<button type="button" class="nw-button header" ng-click="trigger()" ng-disabled="editMode || isDisabled" title="Header 1"></button>\n		',link:function(t){t.trigger=function(){t.execCommand("formatblock","h1")}}}}e.headerButtonDirectiveName="rlHeaderButton",e.headerButton=n},function(t,e){"use strict";function n(){return{restrict:"E",template:'\n			<button type="button" class="nw-button paragraph" ng-click="trigger()" ng-disabled="editMode || isDisabled" title="paragraph"></button>\n		',link:function(t){t.trigger=function(){t.execCommand("formatblock","p")}}}}e.paragraphButtonDirectiveName="rlParagraphButton",e.paragraphButton=n},function(t,e){t.exports='<textarea class="rich-text-editor" ng-wig="editor.ngModel" buttons="{{editor.toolbar}}" ng-disabled="editor.ngDisabled"></textarea>';
},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)};n(170),n(172);var o=n(1),r=n(18),s=n(5),a=s.services.object,c=s.services.transform.transform,l=n(115),u=n(116);e.moduleName="rl.ui.components.select",e.componentName="rlSelect",e.controllerName="SelectController";var h=function(t){function e(e,n,i,o,r){t.call(this,e,n,r),this.$q=i,this.object=o,this._nullOption={__isNullOption:!0},this.inputType="select"}return i(e,t),Object.defineProperty(e.prototype,"selection",{get:function(){return this.ngModel.$viewValue},set:function(t){t.__isNullOption?this.ngModel.$setViewValue(null):this.ngModel.$setViewValue(t)},enumerable:!0,configurable:!0}),e.prototype.$onInit=function(){var e=this;t.prototype.$onInit.call(this),r.isUndefined(this.options)?(this.loading=!0,this.loadItems().then(function(t){e.options=t,e.loading=!1})):this.options=this.configureOptions(this.options)},e.prototype.getDisplayName=function(t){return null!=t&&t.__isNullOption?this.nullOption:c.getValue(t,this.selector)},e.prototype.loadItems=function(){var t,e=this;return t=this.getOptions(),null==t&&(t=this.$q.when(this.options)),t.then(function(t){return e.configureOptions(t)})},e.prototype.configureOptions=function(t){return this.object.isNullOrWhitespace(this.nullOption)||t.unshift(this._nullOption),t},e.$inject=["$scope","$attrs","$q",a.serviceName,u.factoryName],e}(l.InputController);e.SelectController=h;var p=l.buildInput({template:n(174),controller:e.controllerName,controllerAs:"select",bindings:{options:"<?",getOptions:"&",selector:"<?",ngDisabled:"<?",nullOption:"@"}});o.module(e.moduleName,["ui.select",a.moduleName,l.moduleName]).component(e.componentName,p).controller(e.controllerName,h)},function(t,e,n){n(171),t.exports="ui.select"},function(t,e){/*!
	 * ui-select
	 * http://github.com/angular-ui/ui-select
	 * Version: 0.14.6 - 2016-02-18T21:01:36.893Z
	 * License: MIT
	 */
!function(){"use strict";var t={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,COMMAND:91,MAP:{91:"COMMAND",8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",17:"CTRL",18:"ALT",19:"PAUSEBREAK",20:"CAPSLOCK",27:"ESC",32:"SPACE",33:"PAGE_UP",34:"PAGE_DOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",43:"+",44:"PRINTSCREEN",45:"INSERT",46:"DELETE",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NUMLOCK",145:"SCROLLLOCK",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},isControl:function(e){var n=e.which;switch(n){case t.COMMAND:case t.SHIFT:case t.CTRL:case t.ALT:return!0}return!!e.metaKey},isFunctionKey:function(t){return t=t.which?t.which:t,t>=112&&123>=t},isVerticalMovement:function(e){return~[t.UP,t.DOWN].indexOf(e)},isHorizontalMovement:function(e){return~[t.LEFT,t.RIGHT,t.BACKSPACE,t.DELETE].indexOf(e)},toSeparator:function(e){var n={ENTER:"\n",TAB:"	",SPACE:" "}[e];return n?n:t[e]?void 0:e}};void 0===angular.element.prototype.querySelectorAll&&(angular.element.prototype.querySelectorAll=function(t){return angular.element(this[0].querySelectorAll(t))}),void 0===angular.element.prototype.closest&&(angular.element.prototype.closest=function(t){for(var e=this[0],n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;e;){if(n.bind(e)(t))return e;e=e.parentElement}return!1});var e=0,n=angular.module("ui.select",[]).constant("uiSelectConfig",{theme:"bootstrap",searchEnabled:!0,sortable:!1,placeholder:"",refreshDelay:1e3,closeOnSelect:!0,dropdownPosition:"auto",generateId:function(){return e++},appendToBody:!1}).service("uiSelectMinErr",function(){var t=angular.$$minErr("ui.select");return function(){var e=t.apply(this,arguments),n=e.message.replace(new RegExp("\nhttp://errors.angularjs.org/.*"),"");return new Error(n)}}).directive("uisTranscludeAppend",function(){return{link:function(t,e,n,i,o){o(t,function(t){e.append(t)})}}}).filter("highlight",function(){function t(t){return(""+t).replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(e,n){return n&&e?(""+e).replace(new RegExp(t(n),"gi"),'<span class="ui-select-highlight">$&</span>'):e}}).factory("uisOffset",["$document","$window",function(t,e){return function(n){var i=n[0].getBoundingClientRect();return{width:i.width||n.prop("offsetWidth"),height:i.height||n.prop("offsetHeight"),top:i.top+(e.pageYOffset||t[0].documentElement.scrollTop),left:i.left+(e.pageXOffset||t[0].documentElement.scrollLeft)}}}]);n.directive("uiSelectChoices",["uiSelectConfig","uisRepeatParser","uiSelectMinErr","$compile",function(t,e,n,i){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(e){e.addClass("ui-select-choices");var n=e.parent().attr("theme")||t.theme;return n+"/choices.tpl.html"},compile:function(o,r){if(!r.repeat)throw n("repeat","Expected 'repeat' expression.");return function(o,r,s,a,c){var l=s.groupBy,u=s.groupFilter;if(a.parseRepeatAttr(s.repeat,l,u),a.disableChoiceExpression=s.uiDisableChoice,a.onHighlightCallback=s.onHighlight,a.dropdownPosition=s.position?s.position.toLowerCase():t.dropdownPosition,l){var h=r.querySelectorAll(".ui-select-choices-group");if(1!==h.length)throw n("rows","Expected 1 .ui-select-choices-group but got '{0}'.",h.length);h.attr("ng-repeat",e.getGroupNgRepeatExpression())}var p=r.querySelectorAll(".ui-select-choices-row");if(1!==p.length)throw n("rows","Expected 1 .ui-select-choices-row but got '{0}'.",p.length);p.attr("ng-repeat",a.parserResult.repeatExpression(l)).attr("ng-if","$select.open").attr("ng-click","$select.select("+a.parserResult.itemName+",false,$event)");var d=r.querySelectorAll(".ui-select-choices-row-inner");if(1!==d.length)throw n("rows","Expected 1 .ui-select-choices-row-inner but got '{0}'.",d.length);d.attr("uis-transclude-append",""),i(r,c)(o),o.$watch("$select.search",function(t){t&&!a.open&&a.multiple&&a.activate(!1,!0),a.activeIndex=a.tagging.isActivated?-1:0,!s.minimumInputLength||a.search.length>=s.minimumInputLength?a.refresh(s.refresh):a.items=[]}),s.$observe("refreshDelay",function(){var e=o.$eval(s.refreshDelay);a.refreshDelay=void 0!==e?e:t.refreshDelay})}}}}]),n.controller("uiSelectCtrl",["$scope","$element","$timeout","$filter","uisRepeatParser","uiSelectMinErr","uiSelectConfig","$parse","$injector",function(e,n,i,o,r,s,a,c,l){function u(t,e,n){if(t.findIndex)return t.findIndex(e,n);for(var i,o=Object(t),r=o.length>>>0,s=0;r>s;s++)if(i=o[s],e.call(n,i,s,o))return s;return-1}function h(){(m.resetSearchInput||void 0===m.resetSearchInput&&a.resetSearchInput)&&(m.search=v,m.selected&&m.items.length&&!m.multiple&&(m.activeIndex=u(m.items,function(t){return angular.equals(this,t)},m.selected)))}function p(t,e){var n,i,o=[];for(n=0;n<e.length;n++)for(i=0;i<t.length;i++)t[i].name==[e[n]]&&o.push(t[i]);return o}function d(e){var n=!0;switch(e){case t.DOWN:!m.open&&m.multiple?m.activate(!1,!0):m.activeIndex<m.items.length-1&&m.activeIndex++;break;case t.UP:!m.open&&m.multiple?m.activate(!1,!0):(m.activeIndex>0||0===m.search.length&&m.tagging.isActivated&&m.activeIndex>-1)&&m.activeIndex--;break;case t.TAB:m.multiple&&!m.open||m.select(m.items[m.activeIndex],!0);break;case t.ENTER:m.open&&(m.tagging.isActivated||m.activeIndex>=0)?m.select(m.items[m.activeIndex]):m.activate(!1,!0);break;case t.ESC:m.close();break;default:n=!1}return n}function f(){var t=n.querySelectorAll(".ui-select-choices-content"),e=t.querySelectorAll(".ui-select-choices-row");if(e.length<1)throw s("choices","Expected multiple .ui-select-choices-row but got '{0}'.",e.length);if(!(m.activeIndex<0)){var i=e[m.activeIndex],o=i.offsetTop+i.clientHeight-t[0].scrollTop,r=t[0].offsetHeight;o>r?t[0].scrollTop+=o-r:o<i.clientHeight&&(m.isGrouped&&0===m.activeIndex?t[0].scrollTop=0:t[0].scrollTop-=i.clientHeight-o)}}var m=this,v="";if(m.placeholder=a.placeholder,m.searchEnabled=a.searchEnabled,m.sortable=a.sortable,m.refreshDelay=a.refreshDelay,m.paste=a.paste,m.removeSelected=!1,m.closeOnSelect=!0,m.search=v,m.activeIndex=0,m.items=[],m.open=!1,m.focus=!1,m.disabled=!1,m.selected=void 0,m.dropdownPosition="auto",m.focusser=void 0,m.resetSearchInput=!0,m.multiple=void 0,m.disableChoiceExpression=void 0,m.tagging={isActivated:!1,fct:void 0},m.taggingTokens={isActivated:!1,tokens:void 0},m.lockChoiceExpression=void 0,m.clickTriggeredSelect=!1,m.$filter=o,m.$animate=function(){try{return l.get("$animate")}catch(t){return null}}(),m.searchInput=n.querySelectorAll("input.ui-select-search"),1!==m.searchInput.length)throw s("searchInput","Expected 1 input.ui-select-search but got '{0}'.",m.searchInput.length);m.isEmpty=function(){return angular.isUndefined(m.selected)||null===m.selected||""===m.selected||m.multiple&&0===m.selected.length},m.activate=function(t,o){if(!m.disabled&&!m.open){o||h(),e.$broadcast("uis:activate"),m.open=!0,m.activeIndex=m.activeIndex>=m.items.length?0:m.activeIndex,-1===m.activeIndex&&m.taggingLabel!==!1&&(m.activeIndex=0);var r=n.querySelectorAll(".ui-select-choices-content");m.$animate&&m.$animate.enabled(r[0])?m.$animate.on("enter",r[0],function(e,n){"close"===n&&i(function(){m.focusSearchInput(t)})}):i(function(){m.focusSearchInput(t)})}},m.focusSearchInput=function(t){m.search=t||m.search,m.searchInput[0].focus(),!m.tagging.isActivated&&m.items.length>1&&f()},m.findGroupByName=function(t){return m.groups&&m.groups.filter(function(e){return e.name===t})[0]},m.parseRepeatAttr=function(t,n,i){function o(t){var o=e.$eval(n);if(m.groups=[],angular.forEach(t,function(t){var e=angular.isFunction(o)?o(t):t[o],n=m.findGroupByName(e);n?n.items.push(t):m.groups.push({name:e,items:[t]})}),i){var r=e.$eval(i);angular.isFunction(r)?m.groups=r(m.groups):angular.isArray(r)&&(m.groups=p(m.groups,r))}m.items=[],m.groups.forEach(function(t){m.items=m.items.concat(t.items)})}function a(t){m.items=t}m.setItemsFn=n?o:a,m.parserResult=r.parse(t),m.isGrouped=!!n,m.itemProperty=m.parserResult.itemName;var l=m.parserResult.source,u=function(){var t=l(e);e.$uisSource=Object.keys(t).map(function(e){var n={};return n[m.parserResult.keyName]=e,n.value=t[e],n})};m.parserResult.keyName&&(u(),m.parserResult.source=c("$uisSource"+m.parserResult.filters),e.$watch(l,function(t,e){t!==e&&u()},!0)),m.refreshItems=function(t){t=t||m.parserResult.source(e);var n=m.selected;if(m.isEmpty()||angular.isArray(n)&&!n.length||!m.removeSelected)m.setItemsFn(t);else if(void 0!==t){var i=t.filter(function(t){return n&&n.indexOf(t)<0});m.setItemsFn(i)}"auto"!==m.dropdownPosition&&"up"!==m.dropdownPosition||e.calculateDropdownPos()},e.$watchCollection(m.parserResult.source,function(t){if(void 0===t||null===t)m.items=[];else{if(!angular.isArray(t))throw s("items","Expected an array but got '{0}'.",t);m.refreshItems(t),m.ngModel.$modelValue=null}})};var g;m.refresh=function(t){void 0!==t&&(g&&i.cancel(g),g=i(function(){e.$eval(t)},m.refreshDelay))},m.isActive=function(t){if(!m.open)return!1;var e=m.items.indexOf(t[m.itemProperty]),n=e==m.activeIndex;return!n||0>e&&m.taggingLabel!==!1||0>e&&m.taggingLabel===!1?!1:(n&&!angular.isUndefined(m.onHighlightCallback)&&t.$eval(m.onHighlightCallback),n)},m.isDisabled=function(t){if(m.open){var e,n=m.items.indexOf(t[m.itemProperty]),i=!1;return n>=0&&!angular.isUndefined(m.disableChoiceExpression)&&(e=m.items[n],i=!!t.$eval(m.disableChoiceExpression),e._uiSelectChoiceDisabled=i),i}},m.select=function(t,n,o){if(void 0===t||!t._uiSelectChoiceDisabled){if(!m.items&&!m.search&&!m.tagging.isActivated)return;if(!t||!t._uiSelectChoiceDisabled){if(m.tagging.isActivated){if(m.taggingLabel===!1)if(m.activeIndex<0){if(t=void 0!==m.tagging.fct?m.tagging.fct(m.search):m.search,!t||angular.equals(m.items[0],t))return}else t=m.items[m.activeIndex];else if(0===m.activeIndex){if(void 0===t)return;if(void 0!==m.tagging.fct&&"string"==typeof t){if(t=m.tagging.fct(t),!t)return}else"string"==typeof t&&(t=t.replace(m.taggingLabel,"").trim())}if(m.selected&&angular.isArray(m.selected)&&m.selected.filter(function(e){return angular.equals(e,t)}).length>0)return void m.close(n)}e.$broadcast("uis:select",t);var r={};r[m.parserResult.itemName]=t,i(function(){m.onSelectCallback(e,{$item:t,$model:m.parserResult.modelMapper(e,r)})}),m.closeOnSelect&&m.close(n),o&&"click"===o.type&&(m.clickTriggeredSelect=!0)}}},m.close=function(t){m.open&&(m.ngModel&&m.ngModel.$setTouched&&m.ngModel.$setTouched(),h(),m.open=!1,e.$broadcast("uis:close",t))},m.setFocus=function(){m.focus||m.focusInput[0].focus()},m.clear=function(t){m.select(void 0),t.stopPropagation(),i(function(){m.focusser[0].focus()},0,!1)},m.toggle=function(t){m.open?(m.close(),t.preventDefault(),t.stopPropagation()):m.activate()},m.isLocked=function(t,e){var n,i=m.selected[e];return i&&!angular.isUndefined(m.lockChoiceExpression)&&(n=!!t.$eval(m.lockChoiceExpression),i._uiSelectChoiceLocked=n),n};var b=null;m.sizeSearchInput=function(){var t=m.searchInput[0],n=m.searchInput.parent().parent()[0],o=function(){return n.clientWidth*!!t.offsetParent},r=function(e){if(0===e)return!1;var n=e-t.offsetLeft-10;return 50>n&&(n=e),m.searchInput.css("width",n+"px"),!0};m.searchInput.css("width","10px"),i(function(){null!==b||r(o())||(b=e.$watch(o,function(t){r(t)&&(b(),b=null)}))})},m.searchInput.on("keydown",function(n){var o=n.which;e.$apply(function(){var e=!1;if((m.items.length>0||m.tagging.isActivated)&&(d(o),m.taggingTokens.isActivated)){for(var r=0;r<m.taggingTokens.tokens.length;r++)m.taggingTokens.tokens[r]===t.MAP[n.keyCode]&&m.search.length>0&&(e=!0);e&&i(function(){m.searchInput.triggerHandler("tagged");var e=m.search.replace(t.MAP[n.keyCode],"").trim();m.tagging.fct&&(e=m.tagging.fct(e)),e&&m.select(e,!0)})}}),t.isVerticalMovement(o)&&m.items.length>0&&f(),o!==t.ENTER&&o!==t.ESC||(n.preventDefault(),n.stopPropagation())}),m.searchInput.on("paste",function(e){var n;if(n=window.clipboardData&&window.clipboardData.getData?window.clipboardData.getData("Text"):(e.originalEvent||e).clipboardData.getData("text/plain"),n=m.search+n,n&&n.length>0)if(m.taggingTokens.isActivated){var i=t.toSeparator(m.taggingTokens.tokens[0]),o=n.split(i||m.taggingTokens.tokens[0]);if(o&&o.length>0){var r=m.search;angular.forEach(o,function(t){var e=m.tagging.fct?m.tagging.fct(t):t;e&&m.select(e,!0)}),m.search=r||v,e.preventDefault(),e.stopPropagation()}}else m.paste&&(m.paste(n),m.search=v,e.preventDefault(),e.stopPropagation())}),m.searchInput.on("tagged",function(){i(function(){h()})}),e.$on("$destroy",function(){m.searchInput.off("keyup keydown tagged blur paste")})}]),n.directive("uiSelect",["$document","uiSelectConfig","uiSelectMinErr","uisOffset","$compile","$parse","$timeout",function(t,e,n,i,o,r,s){return{restrict:"EA",templateUrl:function(t,n){var i=n.theme||e.theme;return i+(angular.isDefined(n.multiple)?"/select-multiple.tpl.html":"/select.tpl.html")},replace:!0,transclude:!0,require:["uiSelect","^ngModel"],scope:!0,controller:"uiSelectCtrl",controllerAs:"$select",compile:function(o,a){var c=/{(.*)}\s*{(.*)}/.exec(a.ngClass);if(c){var l="{"+c[1]+", "+c[2]+"}";a.ngClass=l,o.attr("ng-class",l)}return angular.isDefined(a.multiple)?o.append("<ui-select-multiple/>").removeAttr("multiple"):o.append("<ui-select-single/>"),a.inputId&&(o.querySelectorAll("input.ui-select-search")[0].id=a.inputId),function(o,a,c,l,u){function h(t){if(f.open){var e=!1;if(e=window.jQuery?window.jQuery.contains(a[0],t.target):a[0].contains(t.target),!e&&!f.clickTriggeredSelect){var n=["input","button","textarea","select"],i=angular.element(t.target).controller("uiSelect"),r=i&&i!==f;r||(r=~n.indexOf(t.target.tagName.toLowerCase())),f.close(r),o.$digest()}f.clickTriggeredSelect=!1}}function p(){var e=i(a);g=angular.element('<div class="ui-select-placeholder"></div>'),g[0].style.width=e.width+"px",g[0].style.height=e.height+"px",a.after(g),b=a[0].style.width,t.find("body").append(a),a[0].style.position="absolute",a[0].style.left=e.left+"px",a[0].style.top=e.top+"px",a[0].style.width=e.width+"px"}function d(){null!==g&&(g.replaceWith(a),g=null,a[0].style.position="",a[0].style.left="",a[0].style.top="",a[0].style.width=b)}var f=l[0],m=l[1];f.generatedId=e.generateId(),f.baseTitle=c.title||"Select box",f.focusserTitle=f.baseTitle+" focus",f.focusserId="focusser-"+f.generatedId,f.closeOnSelect=function(){return angular.isDefined(c.closeOnSelect)?r(c.closeOnSelect)():e.closeOnSelect}(),f.onSelectCallback=r(c.onSelect),f.onRemoveCallback=r(c.onRemove),f.limit=angular.isDefined(c.limit)?parseInt(c.limit,10):void 0,f.ngModel=m,f.choiceGrouped=function(t){return f.isGrouped&&t&&t.name},c.tabindex&&c.$observe("tabindex",function(t){f.focusInput.attr("tabindex",t),a.removeAttr("tabindex")}),o.$watch("searchEnabled",function(){var t=o.$eval(c.searchEnabled);f.searchEnabled=void 0!==t?t:e.searchEnabled}),o.$watch("sortable",function(){var t=o.$eval(c.sortable);f.sortable=void 0!==t?t:e.sortable}),c.$observe("disabled",function(){f.disabled=void 0!==c.disabled?c.disabled:!1}),c.$observe("resetSearchInput",function(){var t=o.$eval(c.resetSearchInput);f.resetSearchInput=void 0!==t?t:!0}),c.$observe("paste",function(){f.paste=o.$eval(c.paste)}),c.$observe("tagging",function(){if(void 0!==c.tagging){var t=o.$eval(c.tagging);f.tagging={isActivated:!0,fct:t!==!0?t:void 0}}else f.tagging={isActivated:!1,fct:void 0}}),c.$observe("taggingLabel",function(){void 0!==c.tagging&&("false"===c.taggingLabel?f.taggingLabel=!1:f.taggingLabel=void 0!==c.taggingLabel?c.taggingLabel:"(new)")}),c.$observe("taggingTokens",function(){if(void 0!==c.tagging){var t=void 0!==c.taggingTokens?c.taggingTokens.split("|"):[",","ENTER"];f.taggingTokens={isActivated:!0,tokens:t}}}),angular.isDefined(c.autofocus)&&s(function(){f.setFocus()}),angular.isDefined(c.focusOn)&&o.$on(c.focusOn,function(){s(function(){f.setFocus()})}),t.on("click",h),o.$on("$destroy",function(){t.off("click",h)}),u(o,function(t){var e=angular.element("<div>").append(t),i=e.querySelectorAll(".ui-select-match");if(i.removeAttr("ui-select-match"),i.removeAttr("data-ui-select-match"),1!==i.length)throw n("transcluded","Expected 1 .ui-select-match but got '{0}'.",i.length);a.querySelectorAll(".ui-select-match").replaceWith(i);var o=e.querySelectorAll(".ui-select-choices");if(o.removeAttr("ui-select-choices"),o.removeAttr("data-ui-select-choices"),1!==o.length)throw n("transcluded","Expected 1 .ui-select-choices but got '{0}'.",o.length);a.querySelectorAll(".ui-select-choices").replaceWith(o)});var v=o.$eval(c.appendToBody);(void 0!==v?v:e.appendToBody)&&(o.$watch("$select.open",function(t){t?p():d()}),o.$on("$destroy",function(){d()}));var g=null,b="",y=null,w="direction-up";o.$watch("$select.open",function(){"auto"!==f.dropdownPosition&&"up"!==f.dropdownPosition||o.calculateDropdownPos()});var _=function(t,e){t=t||i(a),e=e||i(y),y[0].style.position="absolute",y[0].style.top=-1*e.height+"px",a.addClass(w)},C=function(t,e){a.removeClass(w),t=t||i(a),e=e||i(y),y[0].style.position="",y[0].style.top=""};o.calculateDropdownPos=function(){if(f.open){if(y=angular.element(a).querySelectorAll(".ui-select-dropdown"),0===y.length)return;y[0].style.opacity=0,s(function(){if("up"===f.dropdownPosition)_();else{a.removeClass(w);var e=i(a),n=i(y),o=t[0].documentElement.scrollTop||t[0].body.scrollTop;e.top+e.height+n.height>o+t[0].documentElement.clientHeight?_(e,n):C(e,n)}y[0].style.opacity=1})}else{if(null===y||0===y.length)return;y[0].style.position="",y[0].style.top="",a.removeClass(w)}}}}}}]),n.directive("uiSelectMatch",["uiSelectConfig",function(t){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(e){e.addClass("ui-select-match");var n=e.parent().attr("theme")||t.theme,i=e.parent().attr("multiple");return n+(i?"/match-multiple.tpl.html":"/match.tpl.html")},link:function(e,n,i,o){function r(t){o.allowClear=angular.isDefined(t)?""===t?!0:"true"===t.toLowerCase():!1}o.lockChoiceExpression=i.uiLockChoice,i.$observe("placeholder",function(e){o.placeholder=void 0!==e?e:t.placeholder}),i.$observe("allowClear",r),r(i.allowClear),o.multiple&&o.sizeSearchInput()}}}]),n.directive("uiSelectMultiple",["uiSelectMinErr","$timeout",function(e,n){return{restrict:"EA",require:["^uiSelect","^ngModel"],controller:["$scope","$timeout",function(t,e){var n,i=this,o=t.$select;t.$evalAsync(function(){n=t.ngModel}),i.activeMatchIndex=-1,i.updateModel=function(){n.$setViewValue(Date.now()),i.refreshComponent()},i.refreshComponent=function(){o.refreshItems(),o.sizeSearchInput()},i.removeChoice=function(n){var r=o.selected[n];if(!r._uiSelectChoiceLocked){var s={};s[o.parserResult.itemName]=r,o.selected.splice(n,1),i.activeMatchIndex=-1,o.sizeSearchInput(),e(function(){o.onRemoveCallback(t,{$item:r,$model:o.parserResult.modelMapper(t,s)})}),i.updateModel()}},i.getPlaceholder=function(){return o.selected&&o.selected.length?void 0:o.placeholder}}],controllerAs:"$selectMultiple",link:function(i,o,r,s){function a(t){return angular.isNumber(t.selectionStart)?t.selectionStart:t.value.length}function c(e){function n(){switch(e){case t.LEFT:return~d.activeMatchIndex?u:s;case t.RIGHT:return~d.activeMatchIndex&&c!==s?l:(h.activate(),!1);case t.BACKSPACE:return~d.activeMatchIndex?(d.removeChoice(c),u):s;case t.DELETE:return~d.activeMatchIndex?(d.removeChoice(d.activeMatchIndex),c):!1}}var i=a(h.searchInput[0]),o=h.selected.length,r=0,s=o-1,c=d.activeMatchIndex,l=d.activeMatchIndex+1,u=d.activeMatchIndex-1,p=c;return i>0||h.search.length&&e==t.RIGHT?!1:(h.close(),p=n(),h.selected.length&&p!==!1?d.activeMatchIndex=Math.min(s,Math.max(r,p)):d.activeMatchIndex=-1,!0)}function l(t){if(void 0===t||void 0===h.search)return!1;var e=t.filter(function(t){return void 0===h.search.toUpperCase()||void 0===t?!1:t.toUpperCase()===h.search.toUpperCase()}).length>0;return e}function u(t,e){var n=-1;if(angular.isArray(t))for(var i=angular.copy(t),o=0;o<i.length;o++)if(void 0===h.tagging.fct)i[o]+" "+h.taggingLabel===e&&(n=o);else{var r=i[o];angular.isObject(r)&&(r.isTag=!0),angular.equals(r,e)&&(n=o)}return n}var h=s[0],p=i.ngModel=s[1],d=i.$selectMultiple;h.multiple=!0,h.removeSelected=!0,h.focusInput=h.searchInput,p.$parsers.unshift(function(){for(var t,e={},n=[],o=h.selected.length-1;o>=0;o--)e={},e[h.parserResult.itemName]=h.selected[o],t=h.parserResult.modelMapper(i,e),n.unshift(t);return n}),p.$formatters.unshift(function(t){var e,n=h.parserResult.source(i,{$select:{search:""}}),o={};if(!n)return t;var r=[],s=function(t,n){if(t&&t.length){for(var s=t.length-1;s>=0;s--){if(o[h.parserResult.itemName]=t[s],e=h.parserResult.modelMapper(i,o),h.parserResult.trackByExp){var a=/(\w*)\./.exec(h.parserResult.trackByExp),c=/\.([^\s]+)/.exec(h.parserResult.trackByExp);if(a&&a.length>0&&a[1]==h.parserResult.itemName&&c&&c.length>0&&e[c[1]]==n[c[1]])return r.unshift(t[s]),!0}if(angular.equals(e,n))return r.unshift(t[s]),!0}return!1}};if(!t)return r;for(var a=t.length-1;a>=0;a--)s(h.selected,t[a])||s(n,t[a])||r.unshift(t[a]);return r}),i.$watchCollection(function(){return p.$modelValue},function(t,e){e!=t&&(p.$modelValue=null,d.refreshComponent())}),p.$render=function(){if(!angular.isArray(p.$viewValue)){if(!angular.isUndefined(p.$viewValue)&&null!==p.$viewValue)throw e("multiarr","Expected model value to be array but got '{0}'",p.$viewValue);h.selected=[]}h.selected=p.$viewValue,i.$evalAsync()},i.$on("uis:select",function(t,e){h.selected.length>=h.limit||(h.selected.push(e),d.updateModel())}),i.$on("uis:activate",function(){d.activeMatchIndex=-1}),i.$watch("$select.disabled",function(t,e){e&&!t&&h.sizeSearchInput()}),h.searchInput.on("keydown",function(e){var n=e.which;i.$apply(function(){var i=!1;t.isHorizontalMovement(n)&&(i=c(n)),i&&n!=t.TAB&&(e.preventDefault(),e.stopPropagation())})}),h.searchInput.on("keyup",function(e){if(t.isVerticalMovement(e.which)||i.$evalAsync(function(){h.activeIndex=h.taggingLabel===!1?-1:0}),h.tagging.isActivated&&h.search.length>0){if(e.which===t.TAB||t.isControl(e)||t.isFunctionKey(e)||e.which===t.ESC||t.isVerticalMovement(e.which))return;if(h.activeIndex=h.taggingLabel===!1?-1:0,h.taggingLabel===!1)return;var n,o,r,s,a=angular.copy(h.items),c=angular.copy(h.items),p=!1,d=-1;if(void 0!==h.tagging.fct){if(r=h.$filter("filter")(a,{isTag:!0}),r.length>0&&(s=r[0]),a.length>0&&s&&(p=!0,a=a.slice(1,a.length),c=c.slice(1,c.length)),n=h.tagging.fct(h.search),n.isTag=!0,c.filter(function(t){return angular.equals(t,h.tagging.fct(h.search))}).length>0)return;n.isTag=!0}else{if(r=h.$filter("filter")(a,function(t){return t.match(h.taggingLabel)}),r.length>0&&(s=r[0]),o=a[0],void 0!==o&&a.length>0&&s&&(p=!0,a=a.slice(1,a.length),c=c.slice(1,c.length)),n=h.search+" "+h.taggingLabel,u(h.selected,h.search)>-1)return;if(l(c.concat(h.selected)))return void(p&&(a=c,i.$evalAsync(function(){h.activeIndex=0,h.items=a})));if(l(c))return void(p&&(h.items=c.slice(1,c.length)))}p&&(d=u(h.selected,n)),d>-1?a=a.slice(d+1,a.length-1):(a=[],a.push(n),a=a.concat(c)),i.$evalAsync(function(){h.activeIndex=0,h.items=a})}}),h.searchInput.on("blur",function(){n(function(){d.activeMatchIndex=-1})})}}}]),n.directive("uiSelectSingle",["$timeout","$compile",function(e,n){return{restrict:"EA",require:["^uiSelect","^ngModel"],link:function(i,o,r,s){var a=s[0],c=s[1];c.$parsers.unshift(function(t){var e,n={};return n[a.parserResult.itemName]=t,e=a.parserResult.modelMapper(i,n)}),c.$formatters.unshift(function(t){var e,n=a.parserResult.source(i,{$select:{search:""}}),o={};if(n){var r=function(n){return o[a.parserResult.itemName]=n,e=a.parserResult.modelMapper(i,o),e==t};if(a.selected&&r(a.selected))return a.selected;for(var s=n.length-1;s>=0;s--)if(r(n[s]))return n[s]}return t}),i.$watch("$select.selected",function(t){c.$viewValue!==t&&c.$setViewValue(t)}),c.$render=function(){a.selected=c.$viewValue},i.$on("uis:select",function(t,e){a.selected=e}),i.$on("uis:close",function(t,n){e(function(){a.focusser.prop("disabled",!1),n||a.focusser[0].focus()},0,!1)}),i.$on("uis:activate",function(){l.prop("disabled",!0)});var l=angular.element("<input ng-disabled='$select.disabled' class='ui-select-focusser ui-select-offscreen' type='text' id='{{ $select.focusserId }}' aria-label='{{ $select.focusserTitle }}' aria-haspopup='true' role='button' />");n(l)(i),a.focusser=l,a.focusInput=l,o.parent().append(l),l.bind("focus",function(){i.$evalAsync(function(){a.focus=!0})}),l.bind("blur",function(){i.$evalAsync(function(){a.focus=!1})}),l.bind("keydown",function(e){return e.which===t.BACKSPACE?(e.preventDefault(),e.stopPropagation(),a.select(void 0),void i.$apply()):void(e.which===t.TAB||t.isControl(e)||t.isFunctionKey(e)||e.which===t.ESC||(e.which!=t.DOWN&&e.which!=t.UP&&e.which!=t.ENTER&&e.which!=t.SPACE||(e.preventDefault(),e.stopPropagation(),a.activate()),i.$digest()))}),l.bind("keyup input",function(e){e.which===t.TAB||t.isControl(e)||t.isFunctionKey(e)||e.which===t.ESC||e.which==t.ENTER||e.which===t.BACKSPACE||(a.activate(l.val()),l.val(""),i.$digest())})}}}]),n.directive("uiSelectSort",["$timeout","uiSelectConfig","uiSelectMinErr",function(t,e,n){return{require:"^^uiSelect",link:function(e,i,o,r){if(null===e[o.uiSelectSort])throw n("sort","Expected a list to sort");var s=angular.extend({axis:"horizontal"},e.$eval(o.uiSelectSortOptions)),a=s.axis,c="dragging",l="dropping",u="dropping-before",h="dropping-after";e.$watch(function(){return r.sortable},function(t){t?i.attr("draggable",!0):i.removeAttr("draggable")}),i.on("dragstart",function(t){i.addClass(c),(t.dataTransfer||t.originalEvent.dataTransfer).setData("text/plain",e.$index)}),i.on("dragend",function(){i.removeClass(c)});var p,d=function(t,e){this.splice(e,0,this.splice(t,1)[0])},f=function(t){t.preventDefault();var e="vertical"===a?t.offsetY||t.layerY||(t.originalEvent?t.originalEvent.offsetY:0):t.offsetX||t.layerX||(t.originalEvent?t.originalEvent.offsetX:0);e<this["vertical"===a?"offsetHeight":"offsetWidth"]/2?(i.removeClass(h),i.addClass(u)):(i.removeClass(u),i.addClass(h))},m=function(e){e.preventDefault();var n=parseInt((e.dataTransfer||e.originalEvent.dataTransfer).getData("text/plain"),10);t.cancel(p),p=t(function(){v(n)},20)},v=function(t){var n=e.$eval(o.uiSelectSort),r=n[t],s=null;s=i.hasClass(u)?t<e.$index?e.$index-1:e.$index:t<e.$index?e.$index:e.$index+1,d.apply(n,[t,s]),e.$apply(function(){e.$emit("uiSelectSort:change",{array:n,item:r,from:t,to:s})}),i.removeClass(l),i.removeClass(u),i.removeClass(h),i.off("drop",m)};i.on("dragenter",function(){i.hasClass(c)||(i.addClass(l),i.on("dragover",f),i.on("drop",m))}),i.on("dragleave",function(t){t.target==i&&(i.removeClass(l),i.removeClass(u),i.removeClass(h),i.off("dragover",f),i.off("drop",m))})}}}]),n.service("uisRepeatParser",["uiSelectMinErr","$parse",function(t,e){var n=this;n.parse=function(n){var i,o=/\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)/.test(n);if(i=n.match(/^\s*(?:([\s\S]+?)\s+as\s+)?(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(([\w\.]+)?\s*(|\s*[\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),!i)throw t("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",n);if(!i[6]&&o)throw t("iexp","Expected expression in form of '_item_ as (_key_, _item_) in _ObjCollection_ [ track by _id_]' but got '{0}'.",n);return{itemName:i[4]||i[2],keyName:i[3],source:e(i[3]?i[6]:i[5]),sourceName:i[6],filters:i[7],trackByExp:i[8],modelMapper:e(i[1]||i[4]||i[2]),repeatExpression:function(t){var e=this.itemName+" in "+(t?"$group.items":"$select.items");return this.trackByExp&&(e+=" track by "+this.trackByExp),e}}},n.getGroupNgRepeatExpression=function(){return"$group in $select.groups"}}])}(),angular.module("ui.select").run(["$templateCache",function(t){t.put("bootstrap/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content ui-select-dropdown dropdown-menu" role="listbox" ng-show="$select.items.length > 0"><li class="ui-select-choices-group" id="ui-select-choices-{{ $select.generatedId }}"><div class="divider" ng-show="$select.isGrouped && $index > 0"></div><div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header" ng-bind="$group.name"></div><div id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}" role="option"><a href="" class="ui-select-choices-row-inner"></a></div></li></ul>'),t.put("bootstrap/match-multiple.tpl.html",'<span class="ui-select-match"><span ng-repeat="$item in $select.selected"><span class="ui-select-match-item btn btn-default btn-xs" tabindex="-1" type="button" ng-disabled="$select.disabled" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'btn-primary\':$selectMultiple.activeMatchIndex === $index, \'select-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span class="close ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&nbsp;&times;</span> <span uis-transclude-append=""></span></span></span></span>'),t.put("bootstrap/match.tpl.html",'<div class="ui-select-match" ng-hide="$select.open" ng-disabled="$select.disabled" ng-class="{\'btn-default-focus\':$select.focus}"><span tabindex="-1" class="btn btn-default form-control ui-select-toggle" aria-label="{{ $select.baseTitle }} activate" ng-disabled="$select.disabled" ng-click="$select.activate()" style="outline: 0;"><span ng-show="$select.isEmpty()" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="ui-select-match-text pull-left" ng-class="{\'ui-select-allow-clear\': $select.allowClear && !$select.isEmpty()}" ng-transclude=""></span> <i class="caret pull-right" ng-click="$select.toggle($event)"></i> <a ng-show="$select.allowClear && !$select.isEmpty()" aria-label="{{ $select.baseTitle }} clear" style="margin-right: 10px" ng-click="$select.clear($event)" class="btn btn-xs btn-link pull-right"><i class="glyphicon glyphicon-remove" aria-hidden="true"></i></a></span></div>'),t.put("bootstrap/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control" ng-class="{open: $select.open}"><div><div class="ui-select-match"></div><input type="text" autocomplete="false" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search input-xs" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-click="$select.activate()" ng-model="$select.search" role="combobox" aria-label="{{ $select.baseTitle }}" ondrop="return false;"></div><div class="ui-select-choices"></div></div>'),t.put("bootstrap/select.tpl.html",'<div class="ui-select-container ui-select-bootstrap dropdown" ng-class="{open: $select.open}"><div class="ui-select-match"></div><input type="text" autocomplete="false" tabindex="-1" aria-expanded="true" aria-label="{{ $select.baseTitle }}" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="form-control ui-select-search" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-show="$select.searchEnabled && $select.open"><div class="ui-select-choices"></div></div>'),t.put("select2/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content select2-results"><li class="ui-select-choices-group" ng-class="{\'select2-result-with-children\': $select.choiceGrouped($group) }"><div ng-show="$select.choiceGrouped($group)" class="ui-select-choices-group-label select2-result-label" ng-bind="$group.name"></div><ul role="listbox" id="ui-select-choices-{{ $select.generatedId }}" ng-class="{\'select2-result-sub\': $select.choiceGrouped($group), \'select2-result-single\': !$select.choiceGrouped($group) }"><li role="option" id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{\'select2-highlighted\': $select.isActive(this), \'select2-disabled\': $select.isDisabled(this)}"><div class="select2-result-label ui-select-choices-row-inner"></div></li></ul></li></ul>'),
t.put("select2/match-multiple.tpl.html",'<span class="ui-select-match"><li class="ui-select-match-item select2-search-choice" ng-repeat="$item in $select.selected" ng-class="{\'select2-search-choice-focus\':$selectMultiple.activeMatchIndex === $index, \'select2-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span uis-transclude-append=""></span> <a href="javascript:;" class="ui-select-match-close select2-search-choice-close" ng-click="$selectMultiple.removeChoice($index)" tabindex="-1"></a></li></span>'),t.put("select2/match.tpl.html",'<a class="select2-choice ui-select-match" ng-class="{\'select2-default\': $select.isEmpty()}" ng-click="$select.toggle($event)" aria-label="{{ $select.baseTitle }} select"><span ng-show="$select.isEmpty()" class="select2-chosen">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="select2-chosen" ng-transclude=""></span> <abbr ng-if="$select.allowClear && !$select.isEmpty()" class="select2-search-choice-close" ng-click="$select.clear($event)"></abbr> <span class="select2-arrow ui-select-toggle"><b></b></span></a>'),t.put("select2/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple select2 select2-container select2-container-multi" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled}"><ul class="select2-choices"><span class="ui-select-match"></span><li class="select2-search-field"><input type="text" autocomplete="false" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="select2-input ui-select-search" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-model="$select.search" ng-click="$select.activate()" style="width: 34px;" ondrop="return false;"></li></ul><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="ui-select-choices"></div></div></div>'),t.put("select2/select.tpl.html",'<div class="ui-select-container select2 select2-container" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled, \'select2-container-active\': $select.focus, \'select2-allowclear\': $select.allowClear && !$select.isEmpty()}"><div class="ui-select-match"></div><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="select2-search" ng-show="$select.searchEnabled"><input type="text" autocomplete="false" autocorrect="false" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="ui-select-search select2-input" ng-model="$select.search"></div><div class="ui-select-choices"></div></div></div>'),t.put("selectize/choices.tpl.html",'<div ng-show="$select.open" class="ui-select-choices ui-select-dropdown selectize-dropdown single"><div class="ui-select-choices-content selectize-dropdown-content"><div class="ui-select-choices-group optgroup" role="listbox"><div ng-show="$select.isGrouped" class="ui-select-choices-group-label optgroup-header" ng-bind="$group.name"></div><div role="option" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}"><div class="option ui-select-choices-row-inner" data-selectable=""></div></div></div></div></div>'),t.put("selectize/match.tpl.html",'<div ng-hide="($select.open || $select.isEmpty())" class="ui-select-match" ng-transclude=""></div>'),t.put("selectize/select.tpl.html",'<div class="ui-select-container selectize-control single" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.open && !$select.searchEnabled ? $select.toggle($event) : $select.activate()"><div class="ui-select-match"></div><input type="text" autocomplete="false" tabindex="-1" class="ui-select-search ui-select-toggle" ng-click="$select.toggle($event)" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-hide="!$select.searchEnabled || ($select.selected && !$select.open)" ng-disabled="$select.disabled" aria-label="{{ $select.baseTitle }}"></div><div class="ui-select-choices"></div></div>')}])},function(t,e,n){var i=n(173);"string"==typeof i&&(i=[[t.id,i,""]]);n(10)(i,{});i.locals&&(t.exports=i.locals)},function(t,e,n){e=t.exports=n(9)(),e.push([t.id,'/*!\n * ui-select\n * http://github.com/angular-ui/ui-select\n * Version: 0.14.6 - 2016-02-18T21:01:36.972Z\n * License: MIT\n */.ui-select-highlight{font-weight:700}.ui-select-offscreen{clip:rect(0 0 0 0)!important;width:1px!important;height:1px!important;border:0!important;margin:0!important;padding:0!important;overflow:hidden!important;position:absolute!important;outline:0!important;left:0!important;top:0!important}.ui-select-choices-row:hover{background-color:#f5f5f5}.ng-dirty.ng-invalid>a.select2-choice{border-color:#d44950}.select2-result-single{padding-left:0}.select2-locked>.select2-search-choice-close,.select-locked>.ui-select-match-close{display:none}body>.select2-container.open{z-index:9999}.ui-select-container[theme=select2].direction-up .ui-select-match{border-radius:4px;border-top-left-radius:0;border-top-right-radius:0}.ui-select-container[theme=select2].direction-up .ui-select-dropdown{border-radius:4px;border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-width:1px;border-top-style:solid;box-shadow:0 -4px 8px rgba(0,0,0,.25);margin-top:-4px}.ui-select-container[theme=select2].direction-up .ui-select-dropdown .select2-search{margin-top:4px}.ui-select-container[theme=select2].direction-up.select2-dropdown-open .ui-select-match{border-bottom-color:#5897fb}.selectize-input.selectize-focus{border-color:#007fbb!important}.selectize-control>.selectize-dropdown,.selectize-control>.selectize-input>input{width:100%}.ng-dirty.ng-invalid>div.selectize-input{border-color:#d44950}.ui-select-container[theme=selectize].direction-up .ui-select-dropdown{box-shadow:0 -4px 8px rgba(0,0,0,.25);margin-top:-2px}.btn-default-focus{color:#333;background-color:#ebebeb;border-color:#adadad;text-decoration:none;outline:5px auto -webkit-focus-ring-color;outline-offset:-2px;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(102,175,233,.6)}.ui-select-bootstrap .ui-select-toggle{position:relative}.ui-select-bootstrap .ui-select-toggle>.caret{position:absolute;height:10px;top:50%;right:10px;margin-top:-2px}.input-group>.ui-select-bootstrap.dropdown{position:static}.input-group>.ui-select-bootstrap>input.ui-select-search.form-control{border-radius:4px;border-top-right-radius:0;border-bottom-right-radius:0}.input-group>.ui-select-bootstrap>input.ui-select-search.form-control.direction-up{border-radius:4px!important;border-top-right-radius:0!important;border-bottom-right-radius:0!important}.ui-select-bootstrap>.ui-select-match>.btn{text-align:left!important}.ui-select-bootstrap>.ui-select-match>.caret{position:absolute;top:45%;right:15px}.ui-select-bootstrap>.ui-select-choices{width:100%;height:auto;max-height:200px;overflow-x:hidden;margin-top:-1px}body>.ui-select-bootstrap.open{z-index:1000}.ui-select-multiple.ui-select-bootstrap{height:auto;padding:3px 3px 0}.ui-select-multiple.ui-select-bootstrap input.ui-select-search{background-color:transparent!important;border:none;outline:none;height:1.666666em;margin-bottom:3px}.ui-select-multiple.ui-select-bootstrap .ui-select-match .close{font-size:1.6em;line-height:.75}.ui-select-multiple.ui-select-bootstrap .ui-select-match-item{outline:0;margin:0 3px 3px 0}.ui-select-multiple .ui-select-match-item{position:relative}.ui-select-multiple .ui-select-match-item.dropping-before:before{content:"";position:absolute;top:0;right:100%;height:100%;margin-right:2px;border-left:1px solid #428bca}.ui-select-multiple .ui-select-match-item.dropping-after:after{content:"";position:absolute;top:0;left:100%;height:100%;margin-left:2px;border-right:1px solid #428bca}.ui-select-bootstrap .ui-select-choices-row>a{display:block;padding:3px 20px;clear:both;font-weight:400;line-height:1.42857143;color:#333;white-space:nowrap}.ui-select-bootstrap .ui-select-choices-row>a:focus,.ui-select-bootstrap .ui-select-choices-row>a:hover{text-decoration:none;color:#262626;background-color:#f5f5f5}.ui-select-bootstrap .ui-select-choices-row.active>a{color:#fff;text-decoration:none;outline:0;background-color:#428bca}.ui-select-bootstrap .ui-select-choices-row.active.disabled>a,.ui-select-bootstrap .ui-select-choices-row.disabled>a{color:#777;cursor:not-allowed;background-color:#fff}.ui-select-match.ng-hide-add,.ui-select-search.ng-hide-add{display:none!important}.ui-select-bootstrap.ng-dirty.ng-invalid>button.btn.ui-select-match{border-color:#d44950}.ui-select-container[theme=bootstrap].direction-up .ui-select-dropdown{box-shadow:0 -4px 8px rgba(0,0,0,.25)}',""])},function(t,e){t.exports='<div class="field" ng-class="{ \'has-error\': select.ngModel.$invalid }">\r\n	<label ng-show="select.selection" class="show-hide angular-animate">\r\n		{{::select.label}}\r\n	</label>\r\n	<ui-select ng-model="select.selection" search-enabled="false" theme="bootstrap" ng-disabled="select.ngDisabled">\r\n		<ui-select-match placeholder="{{::select.label}}">{{select.getDisplayName($select.selected)}}</ui-select-match>\r\n		<ui-select-choices repeat="option in select.options">\r\n			{{select.getDisplayName(option)}}\r\n		</ui-select-choices>\r\n	</ui-select>\r\n	<span class="error-string" ng-if="select.inputValidator.error | isEmpty:false">{{select.inputValidator.error}}</span>\r\n	<rl-busy loading="select.loading"></rl-busy>\r\n</div>'},function(t,e,n){"use strict";function i(){return{restrict:"E",require:"ngModel",template:'\n			<canvas class="signature-pad" ng-if="!ngDisabled"></canvas>\n			<img ng-src="{{ngModel.$viewValue}}" ng-style="style" ng-if="ngDisabled" />\n		',scope:{pad:"=?",height:"=",width:"=",ngDisabled:"="},link:function(t,e,n,i){t.$watch("ngDisabled",function(n){if(t.ngModel=i,n)t.style={height:null!=t.height?t.height:100,width:null!=t.width?t.width:200};else{var o=e.find(".signature-pad").get(0),s={backgroundColor:"rgb(255, 255, 255)"};t.pad=new r(o,s),o.height=null!=t.height?t.height:100,o.width=null!=t.width?t.width:200,t.$watch(function(){return i.$viewValue},function(e){null!=e&&t.pad.fromDataURL(e)}),t.$watch(function(){return t.pad.toDataURL()},function(t){null!=t&&i.$setViewValue(t)})}})}}}var o=n(1),r=n(13);e.moduleName="rl.ui.components.signaturePad",e.directiveName="rlSignaturePad",e.signaturePad=i,o.module(e.moduleName,[]).directive(e.directiveName,i)},function(t,e,n){"use strict";var i=n(1),o=n(5),r=o.services.observable,s=o.services.parentChildBehavior,a=n(177);e.simpleCard=a;var c=n(179);e.simpleCardList=c,e.moduleName="rl.ui.components.simpleCardList",i.module(e.moduleName,[r.moduleName,s.moduleName]).directive(c.directiveName,c.simpleCardList).controller(c.controllerName,c.SimpleCardListController).component(a.componentName,a.simpleCard).controller(a.controllerName,a.SimpleCardController)},function(t,e,n){"use strict";var i=n(5),o=i.services.parentChildBehavior;e.componentName="rlSimpleCard",e.controllerName="SimpleCardController";var r=function(){function t(t,e){var n=this;this.$scope=t,this.parentChild=e,this.showContent=!1,this.autosaveLink={},this.close=function(){return n.showContent===!1||n.alwaysOpen?!0:n.autosave()}}return t.prototype.$onInit=function(){var t=this;null==this.canOpen&&(this.canOpen=!0),null==this.listController&&(this.listController=this.noList());var e={autosave:this.autosave.bind(this),close:this.close,setAlwaysOpen:function(e){t.alwaysOpen=e}};this.listController.registerCard(e),this.parentChild.registerChildBehavior(this.childLink,e),this.$scope.$watch(function(){return t.alwaysOpen},function(e){e?t.showContent=!0:t.close()})},t.prototype.toggleContent=function(){this.showContent?this.close():this.open()},t.prototype.open=function(){this.canOpen&&this.listController.openCard()&&(this.showContent=!0,this.onOpen())},t.prototype.autosave=function(){var t=this;return this.parentChild.triggerChildBehavior(this.autosaveLink,function(e){var n=e.autosave();return n&&(t.showContent=!1),n})},t.prototype.noList=function(){return{openCard:function(){return!0},registerCard:function(t){return null}}},t.$inject=["$scope",o.serviceName],t}();e.SimpleCardController=r,e.simpleCard={transclude:{headerSlot:"?rlCardHeader",contentSlot:"?rlCardContent",footerSlot:"?rlCardFooter"},require:{listController:"?^^rlSimpleCardList"},template:n(178),controller:e.controllerName,controllerAs:"card",bindings:{onOpen:"&",canOpen:"=?",alwaysOpen:"=?",childLink:"=?",save:"&",saveWhenInvalid:"<?",cardType:"@"}}},function(t,e){t.exports='<div class="card col-xs-12 {{card.cardType}}">\r\n	<div class="header row" ng-class="{ \'active\': card.canOpen && !card.alwaysOpen, \'error\': cardForm.$invalid }" ng-click="card.toggleContent()">\r\n		<div ng-transclude="headerSlot"></div>\r\n		<div class="clearfix"></div>\r\n	</div>\r\n\r\n	<ng-form name="cardForm" rl-autosave="card.autosaveLink" save="card.save()" save-when-invalid="card.saveWhenInvalid">\r\n		<div ng-show="card.showContent || card.alwaysOpen">\r\n			<div class="body row">\r\n				<div ng-transclude="contentSlot"></div>\r\n				<div class="clearfix"></div>\r\n			</div>\r\n			<div class="footer row">\r\n				<div ng-transclude="footerSlot"></div>\r\n				<div class="clearfix"></div>\r\n			</div>\r\n		</div>\r\n	</ng-form>\r\n</div>'},function(t,e,n){"use strict";function i(){return{restrict:"AE",controller:e.controllerName}}var o=n(18),r=n(5),s=r.services.observable;e.directiveName="rlSimpleCardList",e.controllerName="SimpleCardListController";var a=function(){function t(t,e,n,i){var o=this;this.observable=i.getInstance(),t.$watch(function(){return n(e.alwaysOpen)(t)},function(t){o.alwaysOpen=t,o.observable.fire("alwaysOpen",t)})}return t.prototype.registerCard=function(t){t.setAlwaysOpen(this.alwaysOpen);var e=[];return e.push(this.observable.register(t.close,"close")),e.push(this.observable.register(t.setAlwaysOpen,"alwaysOpen")),function(){o.each(e,function(t){t()})}},t.prototype.openCard=function(){return o.every(this.observable.fire("close"))},t.$inject=["$scope","$attrs","$parse",s.factoryName],t}();e.SimpleCardListController=a,e.simpleCardList=i},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)};n(181);var o=n(1),r=n(5),s=r.services.string,a=r.services.number,c=n(115),l=n(116);e.moduleName="rl.ui.components.spinner",e.componentName="rlSpinner",e.controllerName="SpinnerController",e.defaultMaxValue=1e20;var u=function(t){function n(e,n,i,o,r){t.call(this,e,n,i),this.$element=o,this.$timeout=r,this.inputType="spinner"}return i(n,t),n.prototype.$postLink=function(){var t,n=this;this.$scope.$watch("spinner.ngDisabled",function(i){i?_.isFunction(t)&&t():n.$timeout(function(){var i=n.$element.find("input.spinner").TouchSpin({min:null!=n.min?n.min:0,max:null!=n.max?n.max:e.defaultMaxValue,step:n.step,prefix:n.prefix,postfix:n.postfix,decimals:n.decimals,initval:n.ngModel.$viewValue,forcestepdivisibility:n.roundToStep?"round":"none"});i.on("change",function(){n.$scope.$apply(function(){var t=i.val();n.ngModel.$setViewValue(s.stringUtility.toNumber(t))})});var o=n.$scope.$watch(function(){return n.ngModel.$viewValue},function(t){i.val(null!=t?t.toString():"")}),r=n.$scope.$watch(function(){return n.ngModel.$modelValue},function(t){n.ngModel.$modelValue=n.round(t)});t=function(){o(),r()}})})},n.prototype.round=function(t){return null!=t&&this.roundToStep&&(t=a.numberUtility.roundToStep(t,this.step),t=a.numberUtility.preciseRound(t,this.decimals)),t},n.$inject=["$scope","$attrs",l.factoryName,"$element","$timeout"],n}(c.InputController);e.SpinnerController=u;var h=c.buildInput({template:n(185),controller:e.controllerName,controllerAs:"spinner",bindings:{min:"<?",max:"<?",step:"<?",decimals:"<?",prefix:"@",postfix:"@",roundToStep:"<?",ngDisabled:"<?",spinnerId:"@"}});o.module(e.moduleName,[c.moduleName]).component(e.componentName,h).controller(e.controllerName,u)},function(t,e,n){jQuery=n(12),n(182),n(184)},function(t,e,n){var i=n(183);"string"==typeof i&&(i=[[t.id,i,""]]);n(10)(i,{});i.locals&&(t.exports=i.locals)},function(t,e,n){e=t.exports=n(9)(),e.push([t.id,".bootstrap-touchspin .input-group-btn-vertical{position:relative;white-space:nowrap;width:1%;vertical-align:middle;display:table-cell}.bootstrap-touchspin .input-group-btn-vertical>.btn{display:block;float:none;width:100%;max-width:100%;padding:8px 10px;margin-left:-1px;position:relative}.bootstrap-touchspin .input-group-btn-vertical .bootstrap-touchspin-up{border-radius:0;border-top-right-radius:4px}.bootstrap-touchspin .input-group-btn-vertical .bootstrap-touchspin-down{margin-top:-2px;border-radius:0;border-bottom-right-radius:4px}.bootstrap-touchspin .input-group-btn-vertical i{position:absolute;top:3px;left:5px;font-size:9px;font-weight:400}",""])},function(t,e){!function(t){"use strict";function e(t,e){return t+".touchspin_"+e}function n(n,i){return t.map(n,function(t){return e(t,i)})}var i=0;t.fn.TouchSpin=function(e){if("destroy"===e)return void this.each(function(){var e=t(this),i=e.data();t(document).off(n(["mouseup","touchend","touchcancel","mousemove","touchmove","scroll","scrollstart"],i.spinnerid).join(" "))});var o={min:0,max:100,initval:"",step:1,decimals:0,stepinterval:100,forcestepdivisibility:"round",stepintervaldelay:500,verticalbuttons:!1,verticalupclass:"glyphicon glyphicon-chevron-up",verticaldownclass:"glyphicon glyphicon-chevron-down",prefix:"",postfix:"",prefix_extraclass:"",postfix_extraclass:"",booster:!0,boostat:10,maxboostedstep:!1,mousewheel:!0,buttondown_class:"btn btn-default",buttonup_class:"btn btn-default",buttondown_txt:"-",buttonup_txt:"+"},r={min:"min",max:"max",initval:"init-val",step:"step",decimals:"decimals",stepinterval:"step-interval",verticalbuttons:"vertical-buttons",verticalupclass:"vertical-up-class",verticaldownclass:"vertical-down-class",forcestepdivisibility:"force-step-divisibility",stepintervaldelay:"step-interval-delay",prefix:"prefix",postfix:"postfix",prefix_extraclass:"prefix-extra-class",postfix_extraclass:"postfix-extra-class",booster:"booster",boostat:"boostat",maxboostedstep:"max-boosted-step",mousewheel:"mouse-wheel",buttondown_class:"button-down-class",buttonup_class:"button-up-class",buttondown_txt:"button-down-txt",buttonup_txt:"button-up-txt"};return this.each(function(){function s(){if(!P.data("alreadyinitialized")){if(P.data("alreadyinitialized",!0),i+=1,P.data("spinnerid",i),!P.is("input"))return void console.log("Must be an input.");l(),a(),w(),p(),m(),v(),g(),b(),D.input.css("display","block")}}function a(){""!==$.initval&&""===P.val()&&P.val($.initval)}function c(t){h(t),w();var e=D.input.val();""!==e&&(e=Number(D.input.val()),D.input.val(e.toFixed($.decimals)))}function l(){$=t.extend({},o,I,u(),e)}function u(){var e={};return t.each(r,function(t,n){var i="bts-"+n;P.is("[data-"+i+"]")&&(e[t]=P.data(i))}),e}function h(e){$=t.extend({},$,e)}function p(){var t=P.val(),e=P.parent();""!==t&&(t=Number(t).toFixed($.decimals)),P.data("initvalue",t).val(t),P.addClass("form-control"),e.hasClass("input-group")?d(e):f()}function d(e){e.addClass("bootstrap-touchspin");var n,i,o=P.prev(),r=P.next(),s='<span class="input-group-addon bootstrap-touchspin-prefix">'+$.prefix+"</span>",a='<span class="input-group-addon bootstrap-touchspin-postfix">'+$.postfix+"</span>";o.hasClass("input-group-btn")?(n='<button class="'+$.buttondown_class+' bootstrap-touchspin-down" type="button">'+$.buttondown_txt+"</button>",o.append(n)):(n='<span class="input-group-btn"><button class="'+$.buttondown_class+' bootstrap-touchspin-down" type="button">'+$.buttondown_txt+"</button></span>",t(n).insertBefore(P)),r.hasClass("input-group-btn")?(i='<button class="'+$.buttonup_class+' bootstrap-touchspin-up" type="button">'+$.buttonup_txt+"</button>",r.prepend(i)):(i='<span class="input-group-btn"><button class="'+$.buttonup_class+' bootstrap-touchspin-up" type="button">'+$.buttonup_txt+"</button></span>",t(i).insertAfter(P)),t(s).insertBefore(P),t(a).insertAfter(P),E=e}function f(){var e;e=$.verticalbuttons?'<div class="input-group bootstrap-touchspin"><span class="input-group-addon bootstrap-touchspin-prefix">'+$.prefix+'</span><span class="input-group-addon bootstrap-touchspin-postfix">'+$.postfix+'</span><span class="input-group-btn-vertical"><button class="'+$.buttondown_class+' bootstrap-touchspin-up" type="button"><i class="'+$.verticalupclass+'"></i></button><button class="'+$.buttonup_class+' bootstrap-touchspin-down" type="button"><i class="'+$.verticaldownclass+'"></i></button></span></div>':'<div class="input-group bootstrap-touchspin"><span class="input-group-btn"><button class="'+$.buttondown_class+' bootstrap-touchspin-down" type="button">'+$.buttondown_txt+'</button></span><span class="input-group-addon bootstrap-touchspin-prefix">'+$.prefix+'</span><span class="input-group-addon bootstrap-touchspin-postfix">'+$.postfix+'</span><span class="input-group-btn"><button class="'+$.buttonup_class+' bootstrap-touchspin-up" type="button">'+$.buttonup_txt+"</button></span></div>",E=t(e).insertBefore(P),t(".bootstrap-touchspin-prefix",E).after(P),P.hasClass("input-sm")?E.addClass("input-group-sm"):P.hasClass("input-lg")&&E.addClass("input-group-lg")}function m(){D={down:t(".bootstrap-touchspin-down",E),up:t(".bootstrap-touchspin-up",E),input:t("input",E),prefix:t(".bootstrap-touchspin-prefix",E).addClass($.prefix_extraclass),postfix:t(".bootstrap-touchspin-postfix",E).addClass($.postfix_extraclass)}}function v(){""===$.prefix&&D.prefix.hide(),""===$.postfix&&D.postfix.hide()}function g(){P.on("keydown",function(t){var e=t.keyCode||t.which;38===e?("up"!==L&&(C(),S()),t.preventDefault()):40===e&&("down"!==L&&(x(),N()),t.preventDefault())}),P.on("keyup",function(t){var e=t.keyCode||t.which;38===e?k():40===e&&k()}),P.on("blur",function(){w()}),D.down.on("keydown",function(t){var e=t.keyCode||t.which;32!==e&&13!==e||("down"!==L&&(x(),N()),t.preventDefault())}),D.down.on("keyup",function(t){var e=t.keyCode||t.which;32!==e&&13!==e||k()}),D.up.on("keydown",function(t){var e=t.keyCode||t.which;32!==e&&13!==e||("up"!==L&&(C(),S()),t.preventDefault())}),D.up.on("keyup",function(t){var e=t.keyCode||t.which;32!==e&&13!==e||k()}),D.down.on("mousedown.touchspin",function(t){D.down.off("touchstart.touchspin"),P.is(":disabled")||(x(),N(),t.preventDefault(),t.stopPropagation())}),D.down.on("touchstart.touchspin",function(t){D.down.off("mousedown.touchspin"),P.is(":disabled")||(x(),N(),t.preventDefault(),t.stopPropagation())}),D.up.on("mousedown.touchspin",function(t){D.up.off("touchstart.touchspin"),P.is(":disabled")||(C(),S(),t.preventDefault(),t.stopPropagation())}),D.up.on("touchstart.touchspin",function(t){D.up.off("mousedown.touchspin"),P.is(":disabled")||(C(),S(),t.preventDefault(),t.stopPropagation())}),D.up.on("mouseout touchleave touchend touchcancel",function(t){L&&(t.stopPropagation(),k())}),D.down.on("mouseout touchleave touchend touchcancel",function(t){L&&(t.stopPropagation(),k())}),D.down.on("mousemove touchmove",function(t){L&&(t.stopPropagation(),t.preventDefault())}),D.up.on("mousemove touchmove",function(t){L&&(t.stopPropagation(),t.preventDefault())}),t(document).on(n(["mouseup","touchend","touchcancel"],i).join(" "),function(t){L&&(t.preventDefault(),k())}),t(document).on(n(["mousemove","touchmove","scroll","scrollstart"],i).join(" "),function(t){L&&(t.preventDefault(),k())}),P.on("mousewheel DOMMouseScroll",function(t){if($.mousewheel&&P.is(":focus")){var e=t.originalEvent.wheelDelta||-t.originalEvent.deltaY||-t.originalEvent.detail;t.stopPropagation(),t.preventDefault(),0>e?x():C()}})}function b(){P.on("touchspin.uponce",function(){k(),C()}),P.on("touchspin.downonce",function(){k(),x()}),P.on("touchspin.startupspin",function(){S()}),P.on("touchspin.startdownspin",function(){N()}),P.on("touchspin.stopspin",function(){k()}),P.on("touchspin.updatesettings",function(t,e){c(e)})}function y(t){switch($.forcestepdivisibility){case"round":return(Math.round(t/$.step)*$.step).toFixed($.decimals);case"floor":return(Math.floor(t/$.step)*$.step).toFixed($.decimals);case"ceil":return(Math.ceil(t/$.step)*$.step).toFixed($.decimals);default:return t}}function w(){var t,e,n;t=P.val(),""!==t&&($.decimals>0&&"."===t||(e=parseFloat(t),isNaN(e)&&(e=0),n=e,e.toString()!==t&&(n=e),e<$.min&&(n=$.min),e>$.max&&(n=$.max),n=y(n),Number(t).toString()!==n.toString()&&(P.val(n),P.trigger("change"))))}function _(){if($.booster){var t=Math.pow(2,Math.floor(j/$.boostat))*$.step;return $.maxboostedstep&&t>$.maxboostedstep&&(t=$.maxboostedstep,A=Math.round(A/t)*t),Math.max($.step,t)}return $.step}function C(){w(),A=parseFloat(D.input.val()),isNaN(A)&&(A=0);var t=A,e=_();A+=e,A>$.max&&(A=$.max,P.trigger("touchspin.on.max"),k()),D.input.val(Number(A).toFixed($.decimals)),t!==A&&P.trigger("change")}function x(){w(),A=parseFloat(D.input.val()),isNaN(A)&&(A=0);var t=A,e=_();A-=e,A<$.min&&(A=$.min,P.trigger("touchspin.on.min"),k()),D.input.val(A.toFixed($.decimals)),t!==A&&P.trigger("change")}function N(){k(),j=0,L="down",P.trigger("touchspin.on.startspin"),P.trigger("touchspin.on.startdownspin"),F=setTimeout(function(){T=setInterval(function(){j++,x()},$.stepinterval)},$.stepintervaldelay)}function S(){k(),j=0,L="up",P.trigger("touchspin.on.startspin"),P.trigger("touchspin.on.startupspin"),O=setTimeout(function(){M=setInterval(function(){j++,C()},$.stepinterval)},$.stepintervaldelay)}function k(){switch(clearTimeout(F),clearTimeout(O),clearInterval(T),clearInterval(M),L){case"up":P.trigger("touchspin.on.stopupspin"),P.trigger("touchspin.on.stopspin");break;case"down":P.trigger("touchspin.on.stopdownspin"),P.trigger("touchspin.on.stopspin")}j=0,L=!1}var $,E,D,A,T,M,F,O,P=t(this),I=P.data(),j=0,L=!1;s()})}}(jQuery)},function(t,e){t.exports='<rl-generic-container selector="spinner.ngDisabled">\r\n	<template default>\r\n		<div class="field" ng-class="{ \'error\': spinner.ngModel.$invalid }">\r\n			<input name="{{::spinner.name}}" class="spinner" id="{{::spinner.spinnerId}}" type="text" />\r\n			<span class="error-string" ng-if="spinner.inputValidator.error | isEmpty:false">{{spinner.inputValidator.error}}</span>\r\n		</div>\r\n	</template>\r\n	<template when-selector="true">\r\n		<div class="input-group field" ng-if="::spinner.prefix != null && spinner.postfix != null">\r\n			<span class="input-group-addon">{{::spinner.prefix}}</span>\r\n			<input disabled="true" type="text" ng-model="spinner.ngModel.$viewValue" class="form-control" />\r\n			<span class="input-group-addon">{{::spinner.postfix}}</span>\r\n		</div>\r\n		<div class="input-group field" ng-if="::spinner.prefix != null && spinner.postfix == null">\r\n			<span class="input-group-addon">{{::spinner.prefix}}</span>\r\n			<input disabled="true" type="text" ng-model="spinner.ngModel.$viewValue" class="form-control" />\r\n		</div>\r\n		<div class="input-group field" ng-if="::spinner.prefix == null && spinner.postfix != null">\r\n			<input disabled="true" type="text" ng-model="spinner.ngModel.$viewValue" class="form-control" />\r\n			<span class="input-group-addon">{{::spinner.postfix}}</span>\r\n		</div>\r\n		<div class="input-group field" ng-if="::spinner.prefix == null && spinner.postfix == null">\r\n			<input disabled="true" type="text" ng-model="spinner.ngModel.$viewValue" class="form-control" />\r\n		</div>\r\n	</template>\r\n</rl-generic-container>'},function(t,e,n){"use strict";var i=n(1),o=n(5),r=o.services.object;e.moduleName="rl.ui.components.stringWithWatermark",e.componentName="rlStringWithWatermark",e.controllerName="StringWithWatermarkController";var s=function(){function t(t,e){var n=this;t.$watch(function(){return n.string},function(t){n.hasString=e.isNullOrEmpty(t)===!1})}return t.$inject=["$scope",r.serviceName],t}();e.StringWithWatermarkController=s;var a={template:'\n		<span>\n			<span ng-show="controller.hasString">{{controller.string}}</span>\n			<span ng-hide="controller.hasString" class="watermark">{{controller.watermark}}</span>\n		</span>\n	',controller:e.controllerName,controllerAs:"controller",bindings:{string:"@",watermark:"@"}};i.module(e.moduleName,[r.moduleName]).component(e.componentName,a).controller(e.controllerName,s)},function(t,e,n){"use strict";var i=n(1),o=n(188);e.tabComponentName=o.componentName,e.tab=o.tab,e.tabControllerName=o.controllerName,e.TabController=o.TabController;var r=n(192);e.tabsetComponentName=r.componentName,e.tabset=r.tabset,e.tabsetControllerName=r.controllerName,e.TabsetController=r.TabsetController,e.moduleName="rl.ui.components.tabs",i.module(e.moduleName,[]).component(o.componentName,o.tab).controller(o.controllerName,o.TabController).component(r.componentName,r.tabset).controller(r.controllerName,r.TabsetController)},function(t,e,n){"use strict";n(189),e.componentName="rlTab",e.controllerName="rlTabController";var i=function(){function t(t,e,n){var i=this;this.$element=e,this.$transclude=n,t.$watch("tabForm.$valid",function(t){i.header.isValid=null!=t?t:!0})}return t.prototype.$postLink=function(){var t=this;this.$transclude(function(e){t.header={template:e.html(),isValid:!0},t.tabset.registerTab(t.$element,t.header)},null,"headerSlot")},t.$inject=["$scope","$element","$transclude"],t}();e.TabController=i,e.tab={transclude:{headerSlot:"?rlTabHeader",contentSlot:"?rlTabContent",footerSlot:"?rlTabFooter"},require:{tabset:"^^rlTabset"},template:n(191),controller:e.controllerName,controllerAs:"tab"}},function(t,e,n){var i=n(190);"string"==typeof i&&(i=[[t.id,i,""]]);n(10)(i,{});i.locals&&(t.exports=i.locals)},function(t,e,n){e=t.exports=n(9)(),e.push([t.id,".tab-content .tab-pane{display:none}.tab-content .tab-pane.active{display:block}",""])},function(t,e){t.exports='<div class="tab-pane" ng-class="{ \'active\': tab.header.isVisible }">\r\n	<div class="tab-body">\r\n		<div ng-transclude="contentSlot" ng-form="tabForm"></div>\r\n		<div class="clearfix"></div>\r\n	</div>\r\n	<div class="tab-footer">\r\n		<div ng-transclude="footerSlot"></div>\r\n		<div class="clearfix"></div>\r\n	</div>\r\n</div>'},function(t,e,n){"use strict";var i=n(18),o=n(5),r=o.services.array;e.componentName="rlTabset",e.controllerName="rlTabsetController";var s=function(){function t(t){this.$element=t,this.tabHeaders=[]}return t.prototype.registerTab=function(t,e){var n=this.findPosition(t);r.arrayUtility.has(this.tabHeaders,n)?e.isVisible=this.tabHeaders[n].isVisible:e.isVisible=0===n,this.tabHeaders[n]=e},t.prototype.select=function(t){i.each(this.tabHeaders,function(t){t.isVisible=!1}),t.isVisible=!0},t.prototype.findPosition=function(t){var e,n=this.$element.find("rl-tab");return i.each(n,function(n,i){return t[0]===n?(e=i,!1):void 0}),e},t.$inject=["$element"],t}();e.TabsetController=s,e.tabset={transclude:!0,template:n(193),controller:e.controllerName,controllerAs:"tabset"}},function(t,e){t.exports='<div class="nav-tabs-dropshadow">\r\n	<ul class="nav nav-tabs">\r\n		<li ng-repeat="tabHeader in tabset.tabHeaders" ng-click="tabset.select(tabHeader)"\r\n			ng-class="{ \'active\': tabHeader.isVisible, \'error\': !tabHeader.isValid }">\r\n			<a><span ng-bind-html="tabHeader.template"></span></a>\r\n		</li>\r\n	</ul>\r\n	<div class="tab-content">\r\n		<div ng-transclude></div>\r\n	</div>\r\n</div>';
},function(t,e,n){"use strict";var i=n(1);e.moduleName="rl.ui.components.templateRenderer",e.componentName="rlTemplateRenderer",e.controllerName="TemplateRendererController";var o=function(){function t(t,e){var n=e.find(".template-target"),i=n.append(this.template.template);t(i)(this.template.scope)}return t.$inject=["$compile","$element"],t}();e.TemplateRendererController=o;var r={template:'<div class="template-target"></div>',controller:e.controllerName,controllerAs:"controller",bindings:{template:"<"}};i.module(e.moduleName,[]).component(e.componentName,r).controller(e.controllerName,o)},function(t,e,n){"use strict";var i=n(1),o=n(115);e.moduleName="rl.ui.components.textarea",e.componentName="rlTextarea";var r=o.buildInput({template:n(196),bindings:{rows:"<?",ngDisabled:"<?",maxlength:"<?"}});i.module(e.moduleName,[o.moduleName]).component(e.componentName,r)},function(t,e){t.exports='<div class="field" ng-class="{ \'error\': input.ngModel.$invalid }">\r\n	<label ng-show="input.inputValue && input.label" class="show-hide angular-animate">{{::input.label}}</label>\r\n	<textarea class="form-control" ng-model="input.inputValue" rows="{{::input.rows}}" maxlength="{{::input.maxlength}}" ng-disabled="input.ngDisabled" placeholder="{{::input.label}}"></textarea>\r\n	<span class="error-string" ng-if="input.inputValidator.error | isEmpty:false">{{input.inputValidator.error}}</span>\r\n</div>'},function(t,e,n){"use strict";var i=n(1),o=n(115);e.moduleName="rl.ui.components.textbox",e.componentName="rlTextbox";var r=o.buildInput({template:n(198),bindings:{maxlength:"<?"}});i.module(e.moduleName,[o.moduleName]).component(e.componentName,r)},function(t,e){t.exports='<div class="field" ng-class="{ \'error\': input.ngModel.$invalid }">\r\n	<label ng-show="input.inputValue && input.label" class="show-hide angular-animate">{{::input.label}}</label>\r\n	<input  type="text" class="form-control angular-animate" ng-model="input.inputValue" placeholder="{{::input.label}}" maxlength="{{::input.maxlength}}" />\r\n	<span class="error-string" ng-if="input.inputValidator.error | isEmpty:false">{{input.inputValidator.error}}</span>\r\n</div>'},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(1),r=n(18),s=n(5),a=s.services.parentChildBehavior,c=s.services.search,l=s.services.object,u=s.services.array,h=s.services.transform.transform,p=n(115),d=n(116);e.moduleName="rl.ui.components.typeahead",e.componentName="rlTypeahead",e.controllerName="TypeaheadController";var f=function(t){function e(e,n,i,o,r,s,a,c){t.call(this,e,i,c),this.$q=n,this.$timeout=o,this.parentChild=r,this.object=s,this.array=a,this.loading=!1,this.collapsed=!1,this.hasSearchOption=!1,this._searchOption={__isSearchOption:!0},this.inputType="typeahead"}return i(e,t),Object.defineProperty(e.prototype,"selection",{get:function(){return this.ngModel.$viewValue},set:function(t){null!=t&&(t.__isSearchOption&&(t=this.create({value:t.text})),this.select({value:t}),this.collapseOnSelect&&(this.collapsed=!0,this.ngModel.$setViewValue(t)))},enumerable:!0,configurable:!0}),e.prototype.$onInit=function(){var e=this;t.prototype.$onInit.call(this),this.loadDelay=this.useClientSearching?100:500,this.prefix=this.prefix||"Search for",this.placeholder=null!=this.label?this.prefix+" "+this.label.toLowerCase():"Search";var n=this.$attrs;this.collapseOnSelect=this.allowCollapse||this.object.isNullOrEmpty(n.select),this.allowCustomOption=!this.object.isNullOrEmpty(n.create),this.$timeout(function(){e.collapseOnSelect&&!e.object.isNullOrEmpty(e.ngModel.$viewValue)&&(e.collapsed=!0)}),this.parentChild.registerChildBehavior(this.childLink,{add:this.addItem.bind(this),remove:this.removeItem.bind(this)}),this.$scope.$watch(function(){return e.ngModel.$viewValue},function(t){null!=t&&e.collapseOnSelect&&(e.collapsed=!0)})},e.prototype.getDisplayName=function(t){return null!=t&&t.__isSearchOption?t.text:h.getValue(t,this.transform)},e.prototype.refresh=function(t){var e=this;return this.object.isNullOrEmpty(t)?(this.visibleItems=[],null):(this.loading=!0,this.loadItems(t).then(function(){e.loading=!1,e._searchOption.text=t,e.showCustomSearch(t)&&(e.hasSearchOption=!0,e.visibleItems.unshift(e._searchOption))}))},e.prototype.loadItems=function(t){var e=this;return this.useClientSearching?null!=this.cachedItems?(this.visibleItems=this.filter(this.cachedItems,t),this.$q.when()):this.$q.when(this.getItems()).then(function(n){e.cachedItems=n,e.visibleItems=e.filter(n,t)}):this.$q.when(this.getItems({search:t})).then(function(t){e.visibleItems=t})},e.prototype.clear=function(){this.ngModel.$setViewValue(null),this.collapsed=!1},e.prototype.showCustomSearch=function(t){var e=this;return this.allowCustomOption&&!this.hasSearchOption&&!r.find(this.visibleItems,function(n){return e.getDisplayName(n)===t})},e.prototype.filter=function(t,e){return r.filter(t,function(t){return c.searchUtility.tokenizedSearch(t,e)})},e.prototype.addItem=function(t){null!=this.cachedItems&&this.cachedItems.push(t)},e.prototype.removeItem=function(t){null!=this.cachedItems&&this.array.remove(this.cachedItems,t)},e.$inject=["$scope","$q","$attrs","$timeout",a.serviceName,l.serviceName,u.serviceName,d.factoryName],e}(p.InputController);e.TypeaheadController=f;var m=p.buildInput({template:n(200),controller:e.controllerName,controllerAs:"typeahead",bindings:{childLink:"=?",select:"&",create:"&",allowCollapse:"<?",transform:"<?",getItems:"&",prefix:"@",useClientSearching:"<?",ngDisabled:"<?"}});o.module(e.moduleName,[a.moduleName,l.moduleName,u.moduleName,p.moduleName]).component(e.componentName,m).controller(e.controllerName,f)},function(t,e){t.exports='<div class="field" ng-class="{ \'has-error\': typeahead.ngModel.$invalid }">\r\n	<label ng-show="typeahead.selection" class="show-hide angular-animate">\r\n		{{::typeahead.label}}\r\n	</label>\r\n	<div ng-if="!typeahead.collapsed">\r\n		<ui-select ng-model="typeahead.selection" theme="bootstrap" ng-disabled="typeahead.ngDisabled">\r\n			<ui-select-match placeholder="{{::typeahead.placeholder}}">{{typeahead.getDisplayName($select.selected)}}</ui-select-match>\r\n			<ui-select-choices repeat="item in typeahead.visibleItems"\r\n								refresh="typeahead.refresh($select.search)"\r\n								refresh-delay="typeahead.loadDelay">\r\n				{{typeahead.getDisplayName(item)}}\r\n			</ui-select-choices>\r\n		</ui-select>\r\n	</div>\r\n	<div ng-if="typeahead.collapsed">\r\n		<span>{{typeahead.getDisplayName(typeahead.selection)}}</span>\r\n		<rl-button type="default flat" action="typeahead.clear()"><i class="fa fa-remove"></i></rl-button>\r\n	</div>\r\n	<span class="error-string" ng-if="typeahead.inputValidator.error | isEmpty:false">{{typeahead.inputValidator.error}}</span>\r\n	<rl-busy loading="typeahead.loading"></rl-busy>\r\n</div>'},function(t,e,n){"use strict";var i=n(1),o=n(18),r=n(5),s=r.services.parentChildBehavior,a=r.services.array,c=r.services.transform.transform,l=n(202);e.moduleName="rl.ui.components.typeaheadList",e.componentName="rlTypeaheadList",e.controllerName="TypeaheadListController";var u=function(){function t(t,e,n,i){this.$scope=t,this.$transclude=e,this.$q=n,this.parentChild=i,this.typeaheadLink={}}return t.prototype.$onInit=function(){var t=this;this.$scope.$remove=this.removeItem.bind(this),this.$scope.$transform=function(e){return c.getValue(e,t.transform)},this.$scope.listData=this.listData,this.parentChild.registerChildBehavior(this.childLink,{add:this.addItem.bind(this),remove:this.removeItem.bind(this)})},t.prototype.loadItems=function(t){var e=this;return this.getItems({search:t}).then(function(t){return o.filter(t,function(t){return!o.find(e.ngModel.$viewValue,t)})})},t.prototype.addItem=function(t){var e=this;return this.$q.when(this.add({item:t})).then(function(n){return n=n||t,e.ngModel.$viewValue.push(n),e.parentChild.triggerChildBehavior(e.typeaheadLink,function(t){t.remove(n)}),n})},t.prototype.removeItem=function(t){var e=this;return this.$q.when(this.remove({item:t})).then(function(){a.arrayUtility.remove(e.ngModel.$viewValue,t),e.parentChild.triggerChildBehavior(e.typeaheadLink,function(e){e.add(t)})})},t.$inject=["$scope","$transclude","$q",s.serviceName],t}();e.TypeaheadListController=u;var h={require:{ngModel:"ngModel"},transclude:{headerSlot:"?rlListHeader",listItemSlot:"?rlListItem"},template:n(204),controller:e.controllerName,controllerAs:"list",bindings:{getItems:"&",add:"&",remove:"&",transform:"<?",label:"@",prefix:"@",useClientSearching:"<?",ngDisabled:"<?",itemAs:"@",childLink:"=?",listData:"<?"}};i.module(e.moduleName,[s.moduleName]).component(e.componentName,h).controller(e.controllerName,u).component(l.componentName,l.typeaheadItem)},function(t,e,n){"use strict";e.componentName="rlTypeaheadListItem";var i=function(){function t(t,e,n){this.$scope=t,this.$element=e,this.$compile=n}return t.prototype.$onInit=function(){var t=this.$scope.$parent.$new(),e=this.$element.find(".content-target");if(this.transclude.isSlotFilled("listItemSlot"))this.transclude(t,function(t){e.append(t)},null,"listItemSlot");else{var i=e.append(n(203));this.$compile(i)(t)}},t.$inject=["$scope","$element","$compile"],t}();e.typeaheadItem={bindings:{transclude:"<"},controller:i,template:'<div class="content-target"></div>'}},function(t,e){t.exports='<div class="col-xs-10">{{$transform($item)}}</div>\r\n<div class="col-xs-2">\r\n	<rl-button-async type="danger" action="$remove($item)"><i class="fa fa-remove"></i></rl-button-async>\r\n</div>'},function(t,e){t.exports='<rl-typeahead ng-model="list.model" select="list.addItem(value)" allow-collapse="false" child-link="list.typeaheadLink"\r\n			  transform="list.transform" get-items="list.loadItems(search)" label="{{list.label}}"\r\n			  prefix="{{list.prefix}}" use-client-searching="list.useClientSearching" ng-disabled="list.ngDisabled"></rl-typeahead>\r\n<div class="table-container col-xs-12">\r\n	<div class="row table-header">\r\n		<div ng-transclude="headerSlot">\r\n			<div class="col-xs-12">Name</div>\r\n		</div>\r\n	</div>\r\n	<div class="row table-row" ng-repeat="$item in list.ngModel.$viewValue" rl-alias="$item as {{list.itemAs}}">\r\n		<rl-typeahead-list-item transclude="list.$transclude"></rl-typeahead-list-item>\r\n	</div>\r\n</div>'},function(t,e,n){"use strict";n(206);var i=n(1),o=n(18),r=n(30);e.moduleName="rl.components.userRating",e.componentName="rlUserRating",e.controllerName="UserRatingController";var s=function(){function t(t,e){this.$timeout=t,this.useDefaultTheme=e}return t.prototype.$onInit=function(){var t=this;this.stars=[];var e=null!=this.range?this.range:5,n=o.range(1,e+1).reverse();o.each(n,function(e){t.stars.push({value:e,filled:!1})}),this.$timeout(function(){t.updateStarView(t.ngModel.$viewValue)})},t.prototype.setRating=function(t){this.ngModel.$setViewValue(t),this.updateStarView(t)},t.prototype.updateStarView=function(t){o.each(this.stars,function(e){e.value<=t?e.filled=!0:e.filled=!1})},t.$inject=["$timeout",r.defaultThemeValueName],t}();e.UserRatingController=s;var a={require:{ngModel:"ngModel"},template:'\n		<span class="rating" ng-class="{ \'default-theme\': userRating.useDefaultTheme }">\n			<span class="star" ng-repeat="star in userRating.stars" ng-class="{ \'filled\': star.filled }" ng-click="userRating.setRating(star.value)"></span>\n		</span>\n	',controller:e.controllerName,controllerAs:"userRating",bindings:{range:"="}};i.module(e.moduleName,[]).component(e.componentName,a).controller(e.controllerName,s)},function(t,e,n){var i=n(207);"string"==typeof i&&(i=[[t.id,i,""]]);n(10)(i,{});i.locals&&(t.exports=i.locals)},function(t,e,n){e=t.exports=n(9)(),e.push([t.id,'.rating.default-theme{unicode-bidi:bidi-override;direction:rtl;font-size:1.5em}.rating.default-theme .star{font-family:FontAwesome;font-weight:400;font-style:normal;display:inline-block}.rating.default-theme .star:hover{cursor:pointer}.rating.default-theme .star:before{content:"\\F006";padding-right:5px;color:#999}.rating.default-theme .star.filled:before{content:"\\F005";color:#eec277}.rating.default-theme .star:hover:before,.rating.default-theme .star:hover~.star:before{color:#ffd288}.filled{color:#eec277}',""])},function(t,e,n){"use strict";var i=n(1),o=n(18),r=n(116);e.moduleName="rl.ui.components.validationGroup",e.componentName="rlValidationGroup",e.controllerName="ValidationGroupController";var s=function(){function t(t,e,n){this.$scope=t,this.$timeout=e,this.componentValidatorFactory=n}return t.prototype.$onInit=function(){var t=this;this.$timeout(function(){o.isUndefined(t.validator)||(t.groupValidator=t.componentValidatorFactory.getInstance({form:t.$scope.validationGroupForm,$scope:t.$scope,validators:[t.validator]}))})},t.$inject=["$scope","$timeout",r.factoryName],t}();e.ValidationGroupController=s;var a={transclude:!0,template:n(209),controller:e.controllerName,controllerAs:"group",bindings:{validator:"="}};i.module(e.moduleName,[r.moduleName]).component(e.componentName,a).controller(e.controllerName,s)},function(t,e){t.exports='<div class="content-group" ng-form="validationGroupForm">\r\n	<div class="error-message" ng-if="validationGroupForm.$error.customValidation">\r\n		<label>{{group.groupValidator.error}}</label>\r\n	</div>\r\n	<div ng-transclude></div>\r\n</div>'},function(t,e,n){"use strict";var i=n(1),o=n(211);e.date=o,e.moduleName="rl.ui.filters",i.module(e.moduleName,[o.moduleName])},function(t,e,n){"use strict";function i(){return function(t,e){if(c.objectUtility.isNullOrEmpty(t))return"";var n=r(t);return e?n.format(a.defaultFormats.dateTimeFormat)+" "+n.zoneAbbr():n.format(a.defaultFormats.dateFormat)}}var o=n(1),r=n(74),s=n(5),a=s.services.date,c=s.services.object;e.moduleName="rl.ui.filters.date",e.filterName="rlDate",i.$inject=[],o.module(e.moduleName,[]).filter(e.filterName,i)},function(t,e,n){"use strict";var i=n(213);e.ngModel=i;var o=n(214);e.viewData=o},function(t,e){"use strict"},function(t,e){"use strict"}]);